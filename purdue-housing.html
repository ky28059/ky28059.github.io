<!DOCTYPE html><!--s9MJ02MDGdivoliH5zigB--><html class="dark scroll-smooth"><head><meta charSet="utf-8"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/assets/scripts/initial-selection.png"/><link rel="preload" as="image" href="/assets/scripts/list-rooms.png"/><link rel="stylesheet" href="/_next/static/css/f53d5288e842910a.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-7cc99edc1a50fd44.js"/><script src="/_next/static/chunks/4bd1b696-9911af18dede28aa.js" async=""></script><script src="/_next/static/chunks/964-2bcac1827bbf29c7.js" async=""></script><script src="/_next/static/chunks/main-app-771e5b53791411ad.js" async=""></script><script src="/_next/static/chunks/874-3e820bd666038662.js" async=""></script><script src="/_next/static/chunks/app/(articles)/layout-2577bd3482649595.js" async=""></script><script src="/_next/static/chunks/bc9c3264-6371ca03223855d4.js" async=""></script><script src="/_next/static/chunks/48507feb-8452885980bba250.js" async=""></script><script src="/_next/static/chunks/08ffe114-f47006c90e36a3eb.js" async=""></script><script src="/_next/static/chunks/800-bd0deb6e7b7e903a.js" async=""></script><script src="/_next/static/chunks/app/(scripts)/purdue-housing/page-aaaae329c60d5169.js" async=""></script><meta name="next-size-adjust" content=""/><title>Purdue Housing | kevin.fish</title><meta name="description" content="Generator for a script to automatically reserve a Purdue dorm."/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="text-dark dark:text-white dark:bg-midnight" style="font-family:&#x27;Inter&#x27;, &#x27;Inter Fallback&#x27;;font-style:normal"><div hidden=""><!--$--><!--/$--></div><main class="container pt-20 pb-24"><a class="text-secondary text-sm mb-10 -ml-5 block w-max" href="/">‚Üê Back to home</a><h1 class="text-4xl font-bold mb-4">Purdue Housing 2023</h1><p class="mb-3">This is a script to automatically search for open housing spots on the Purdue housing portal.</p><p class="font-medium">Notes:</p><ul class="list-disc pl-6 mb-4 space-y-1.5"><li><code>Lower room rate</code> should be the minimum rate of the room (default: $1,000).</li><li><code>Upper room rate</code> should be the maximum rate of the room (default: $20,000).</li><li><code>Delay</code> should be the delay, in milliseconds, the script waits before attempting to look for rooms again. Please keep this number reasonable; too many requests will crash the server and <em>no one</em> will get rooms.</li><li>Check the corresponding boxes for the buildings and room types you want to filter for. The script will indiscriminately attempt to add the first room it sees that matches the selected criteria to your cart, so make sure to only filter for rooms you would be OK with living in.</li></ul><p class="mb-6">Using this script is a bit more complicated than just pasting it into the console in the housing portal; see the <a href="#using-this-script">Using this script</a> section for more details on how it works.</p><div class="flex flex-wrap gap-x-3 gap-y-1.5 mb-6 md:mb-4"><div class="flex flex-col gap-1 grow"><label class="text-xs text-secondary">Lower room rate ($)</label><input type="text" class="rounded px-3 py-1 dark:bg-[#2b2b2b] border border-secondary/40" value="1000"/></div><div class="flex flex-col gap-1 grow"><label class="text-xs text-secondary">Upper room rate ($)</label><input type="text" class="rounded px-3 py-1 dark:bg-[#2b2b2b] border border-secondary/40" value="20000"/></div><div class="flex flex-col gap-1 grow"><label class="text-xs text-secondary">Delay (ms)</label><input type="text" class="rounded px-3 py-1 dark:bg-[#2b2b2b] border border-secondary/40" value="1000"/></div></div><div class="flex gap-8 sm:gap-24 pl-4 mb-4"><div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none" checked=""/>Apartment</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none" checked=""/>Double</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Quad</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Single</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none" checked=""/>Suite</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Triple</div></div><div class="grid sm:grid-cols-2 lg:grid-rows-6 lg:grid-flow-col gap-x-6"><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none" checked=""/>Cary Quadrangle</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Earhart</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>First Street Towers</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none" checked=""/>Frieda Parker</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none" checked=""/>Harrison</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none" checked=""/>Hawkins</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none" checked=""/>Hillenbrand</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Honors</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>McCutcheon</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Meredith</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Meredith South</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Owen</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Shreve</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Tarkington</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Wiley</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none"/>Windsor</div><div class="flex gap-3 text-primary items-center"><input type="checkbox" class="accent-grapefruit flex-none" checked=""/>Winifred Parker</div></div></div><div class="border border-white/10 rounded-lg mb-10"><p class="flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg> <!-- -->js<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">const</span><span class=""> roomTypeIds </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">[</span><span class="token number">165</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">167</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">166</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class=""></span><span class="token keyword">const</span><span class=""> buildingIds </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">34</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">16</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">6</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">4</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class=""></span><span class="token keyword">const</span><span class=""> lowerRoomRate </span><span class="token operator">=</span><span class=""> </span><span class="token number">1000</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class=""></span><span class="token keyword">const</span><span class=""> upperRoomRate </span><span class="token operator">=</span><span class=""> </span><span class="token number">20000</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class=""></span><span class="token keyword">const</span><span class=""> delay </span><span class="token operator">=</span><span class=""> </span><span class="token number">1000</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class=""></span><span class="token keyword">let</span><span class=""> id</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class=""></span><span class="token punctuation">;</span><span class="token punctuation">(</span><span class="token keyword">async</span><span class=""> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class=""> </span><span class="token arrow operator">=&gt;</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    </span><span class="token comment">// Parse URL token from search param after login</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">    </span><span class="token keyword">const</span><span class=""> params </span><span class="token operator">=</span><span class=""> </span><span class="token keyword">new</span><span class=""> </span><span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token dom variable">location</span><span class="token punctuation">.</span><span class="token property-access">search</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">    </span><span class="token keyword">const</span><span class=""> urlToken </span><span class="token operator">=</span><span class=""> params</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;UrlToken&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">    </span><span class="token keyword">const</span><span class=""> dateStart </span><span class="token operator">=</span><span class=""> params</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;DateStart&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">    </span><span class="token keyword">const</span><span class=""> dateEnd </span><span class="token operator">=</span><span class=""> params</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;DateEnd&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">    </span><span class="token keyword">const</span><span class=""> termId </span><span class="token operator">=</span><span class=""> params</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;TermID&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">    </span><span class="token keyword">const</span><span class=""> classificationId </span><span class="token operator">=</span><span class=""> params</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&#x27;ClassificationID&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">    </span><span class="token keyword">const</span><span class=""> verificationToken </span><span class="token operator">=</span><span class=""> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">innerHTML</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">&lt;input name=&quot;__RequestVerificationToken&quot; type=&quot;hidden&quot; value=&quot;(.+)&quot;\s*\/?&gt;</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">    </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="">verificationToken</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class=""> </span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Could not parse request verification token!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">    </span><span class="token keyword">const</span><span class=""> data </span><span class="token operator">=</span><span class=""> </span><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token property-access">innerHTML</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">&lt;div class=&quot;&quot; data-actualaddingroomtocartoption=&quot;.*&quot; data-canaddroomstocart=&quot;.*&quot; data-classificationid=&quot;.+&quot; data-currencysymbol=&quot;.*&quot; data-currentpagenumber=&quot;(.+)&quot; data-dateend=&quot;(.+)&quot; data-datestart=&quot;(.+)&quot; data-filterresultshash=&quot;(.+)&quot; data-invalidfieldresponse=&quot;.*&quot; data-isauthenticated=&quot;.*&quot; data-lowerroomratevalue=&quot;.*&quot; data-maximumroomratefilterarialabel=&quot;.*&quot; data-maximumroomratefiltervalue=&quot;.*&quot; data-minimumroomratefilterarialabel=&quot;.*&quot; data-minimumroomratefiltervalue=&quot;.*&quot; data-mustselectroommessage=&quot;.+&quot; data-portalpageid=&quot;.+&quot; data-portalrulestatus=&quot;.*&quot; data-processid=&quot;(.+)&quot; data-roombaseids=&quot;.*&quot; data-roomrateid=&quot;.*&quot; data-roomselectionpageid=&quot;(.*)&quot; data-showfilterswithoutrooms=&quot;.*&quot; data-termid=&quot;.+&quot; data-unknowninvalidfieldresponse=&quot;.*&quot; data-upperroomratevalue=&quot;.*&quot; data-useroommateclassifications=&quot;.*&quot; id=&quot;page-container&quot;&gt;</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">    </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="">data</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class=""> </span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Could not parse other page data!&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">    </span><span class="token keyword">const</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class=""> currentPageNumber</span><span class="token punctuation">,</span><span class=""> dateEndISO</span><span class="token punctuation">,</span><span class=""> dateStartISO</span><span class="token punctuation">,</span><span class=""> filterHash</span><span class="token punctuation">,</span><span class=""> processId</span><span class="token punctuation">,</span><span class=""> roomSelectionPageId</span><span class="token punctuation">]</span><span class=""> </span><span class="token operator">=</span><span class=""> data</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">24</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="">    </span><span class="token comment">// Construct filter request body</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">    </span><span class="token keyword">const</span><span class=""> filterBody </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">        </span><span class="token literal-property property">classificationID</span><span class="token operator">:</span><span class=""> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="">classificationId</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">        </span><span class="token literal-property property">currentPageNumber</span><span class="token operator">:</span><span class=""> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="">currentPageNumber</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">29</span><span class="">        </span><span class="token literal-property property">termID</span><span class="token operator">:</span><span class=""> </span><span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span><span class="">termId</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">30</span><span class="">        </span><span class="token literal-property property">filters</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="">            </span><span class="token literal-property property">DateStart</span><span class="token operator">:</span><span class=""> dateStartISO</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">32</span><span class="">            </span><span class="token literal-property property">DateEnd</span><span class="token operator">:</span><span class=""> dateEndISO</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class="">            </span><span class="token literal-property property">ProfileItemID</span><span class="token operator">:</span><span class=""> roomTypeIds</span><span class="token punctuation">,</span><span class=""> </span><span class="token comment">// Room type IDs</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class="">            </span><span class="token literal-property property">RoomLocationID</span><span class="token operator">:</span><span class=""> buildingIds</span><span class="token punctuation">,</span><span class=""> </span><span class="token comment">// Building IDs</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">35</span><span class="">            </span><span class="token literal-property property">RoomBaseIDs</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">36</span><span class="">            </span><span class="token literal-property property">RoomLocationAreaID</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">37</span><span class="">            </span><span class="token literal-property property">RoomLocationFloorSuiteID</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">38</span><span class="">            </span><span class="token literal-property property">RoomTypeID</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">39</span><span class="">            </span><span class="token literal-property property">UseRoommateClassifications</span><span class="token operator">:</span><span class=""> </span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">40</span><span class="">            </span><span class="token literal-property property">LowerRoomRateValue</span><span class="token operator">:</span><span class=""> lowerRoomRate</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">41</span><span class="">            </span><span class="token literal-property property">UpperRoomRateValue</span><span class="token operator">:</span><span class=""> upperRoomRate</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">42</span><span class="">        </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">43</span><span class="">    </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">44</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">45</span><span class="">    id </span><span class="token operator">=</span><span class=""> </span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="">queryRooms</span><span class="token punctuation">,</span><span class=""> delay</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">46</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">47</span><span class="">    </span><span class="token keyword">async</span><span class=""> </span><span class="token keyword">function</span><span class=""> </span><span class="token function">queryRooms</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">48</span><span class="">        </span><span class="token keyword">const</span><span class=""> res </span><span class="token operator">=</span><span class=""> </span><span class="token keyword control-flow">await</span><span class=""> </span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">https://purdue.starrezhousing.com/StarRezPortalX/General/RoomSearch/roomsearch/GetFilterResultsAuthenticated?hash=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">filterHash</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">&amp;pageID=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">roomSelectionPageId</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">&amp;processID=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">processId</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">49</span><span class="">            </span><span class="token literal-property property">method</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;POST&#x27;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">50</span><span class="">            </span><span class="token literal-property property">body</span><span class="token operator">:</span><span class=""> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="">filterBody</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">51</span><span class="">            </span><span class="token literal-property property">headers</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">52</span><span class="">                </span><span class="token literal-property property">__RequestVerificationToken</span><span class="token operator">:</span><span class=""> verificationToken</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">53</span><span class="">                </span><span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;application/json&#x27;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">54</span><span class="">                </span><span class="token string-property property">&#x27;X-Requested-With&#x27;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;XMLHttpRequest&#x27;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">55</span><span class="">            </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">56</span><span class="">        </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">57</span><span class="">        </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="">res</span><span class="token punctuation">.</span><span class="token property-access">ok</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class=""> </span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Error while fetching filter endpoint&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">58</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">59</span><span class="">        </span><span class="token keyword">const</span><span class=""> parsed </span><span class="token operator">=</span><span class=""> </span><span class="token keyword control-flow">await</span><span class=""> res</span><span class="token punctuation">.</span><span class="token method function property-access">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">60</span><span class="">        </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token string">&#x27;ResultsHtml&#x27;</span><span class=""> </span><span class="token keyword">in</span><span class=""> parsed</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">61</span><span class="">            </span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;Error response when fetching filter endpoint&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">62</span><span class="">            </span><span class="token keyword control-flow">return</span><span class=""> </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="">parsed</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">63</span><span class="">        </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">64</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">65</span><span class="">        </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="">parsed</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">ResultsHtml</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">66</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">67</span><span class="">        </span><span class="token comment">// Search HTML response for &quot;add to cart&quot; buttons</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">68</span><span class="">        </span><span class="token keyword">const</span><span class=""> matches </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">[</span><span class="token spread operator">...</span><span class="">parsed</span><span class="token punctuation">.</span><span class="token property-access maybe-class-name">ResultsHtml</span><span class="token punctuation">.</span><span class="token method function property-access">matchAll</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">&lt;button aria-label=&quot;Add (.+) To Cart&quot; class=&quot;ui-add-room-to-cart sr_button_primary sr_button&quot; data-hash=&quot;(.+)&quot; data-url=&quot;(.+)&quot; title=&quot;Add To Cart&quot; type=&quot;button&quot;&gt;.+&lt;\/button&gt;</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-flags">g</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">69</span><span class="">        </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="">matches</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class=""> </span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#x27;No rooms found&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">70</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">71</span><span class="">        </span><span class="token keyword control-flow">for</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword">const</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class=""> name</span><span class="token punctuation">,</span><span class=""> hash</span><span class="token punctuation">,</span><span class=""> url</span><span class="token punctuation">]</span><span class=""> </span><span class="token keyword">of</span><span class=""> matches</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">72</span><span class="">            </span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Found room </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">73</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">74</span><span class="">            </span><span class="token comment">// Match room base and rate ID from broken url data param</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">75</span><span class="">            </span><span class="token keyword">const</span><span class=""> roomMatch </span><span class="token operator">=</span><span class=""> url</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex regex-delimiter">/</span><span class="token regex regex-source language-regex">roomBaseID=(.+?)&amp;amp;roomRateID=(.+?)&amp;amp;</span><span class="token regex regex-delimiter">/</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">76</span><span class="">            </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="">roomMatch</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">77</span><span class="">                </span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Couldn&#x27;t find base and rate ID for room </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">78</span><span class="">                </span><span class="token keyword control-flow">continue</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">79</span><span class="">            </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">80</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">81</span><span class="">            </span><span class="token comment">// Add room to cart</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">82</span><span class="">            </span><span class="token keyword">const</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">,</span><span class=""> roomBaseId</span><span class="token punctuation">,</span><span class=""> roomRateId</span><span class="token punctuation">]</span><span class=""> </span><span class="token operator">=</span><span class=""> roomMatch</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">83</span><span class="">            </span><span class="token keyword">const</span><span class=""> res </span><span class="token operator">=</span><span class=""> </span><span class="token keyword control-flow">await</span><span class=""> </span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">https://purdue.starrezhousing.com/StarRezPortalX/General/RoomSearch/roomsearch/AddRoomToCartForTerm?hash=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">hash</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">&amp;checkInDate=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">dateStartISO</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">&amp;checkOutDate=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">dateEndISO</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">&amp;termID=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">termId</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">&amp;pageID=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">roomSelectionPageId</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">&amp;roomBaseID=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">roomBaseId</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">&amp;roomRateID=</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">roomRateId</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">84</span><span class="">                </span><span class="token literal-property property">method</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;POST&#x27;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">85</span><span class="">                </span><span class="token literal-property property">body</span><span class="token operator">:</span><span class=""> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">86</span><span class="">                </span><span class="token literal-property property">headers</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">87</span><span class="">                    </span><span class="token literal-property property">__RequestVerificationToken</span><span class="token operator">:</span><span class=""> verificationToken</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">88</span><span class="">                    </span><span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;application/json&#x27;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">89</span><span class="">                    </span><span class="token string-property property">&#x27;X-Requested-With&#x27;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;XMLHttpRequest&#x27;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">90</span><span class="">                </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">91</span><span class="">            </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">92</span><span class="">            </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="">res</span><span class="token punctuation">.</span><span class="token property-access">ok</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">93</span><span class="">                </span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Error adding room </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">name</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string"> to cart</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">94</span><span class="">                </span><span class="token keyword control-flow">continue</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">95</span><span class="">            </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">96</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">97</span><span class="">            </span><span class="token comment">// Construct next page request body</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">98</span><span class="">            </span><span class="token keyword">const</span><span class=""> continueBody </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">99</span><span class="">                </span><span class="token literal-property property">RoomLocationID</span><span class="token operator">:</span><span class=""> buildingIds</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">100</span><span class="">                </span><span class="token literal-property property">ProfileItemID</span><span class="token operator">:</span><span class=""> roomTypeIds</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">101</span><span class="">                </span><span class="token literal-property property">PageWidgetData</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">102</span><span class="">            </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">103</span><span class="">            </span><span class="token keyword control-flow">for</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword">const</span><span class=""> id </span><span class="token keyword">of</span><span class=""> </span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">2</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">3</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">4</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">5</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">6</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">8</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">9</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">10</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">12</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">13</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">14</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">15</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">16</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">17</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">33</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">104</span><span class="">                continueBody</span><span class="token punctuation">[</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">-checkbox</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">]</span><span class=""> </span><span class="token operator">=</span><span class=""> buildingIds</span><span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">105</span><span class="">            </span><span class="token keyword control-flow">for</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword">const</span><span class=""> id </span><span class="token keyword">of</span><span class=""> </span><span class="token punctuation">[</span><span class="token number">165</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">166</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">167</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">168</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">169</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">198</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">106</span><span class="">                continueBody</span><span class="token punctuation">[</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">id</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">-checkbox</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">]</span><span class=""> </span><span class="token operator">=</span><span class=""> roomTypeIds</span><span class="token punctuation">.</span><span class="token method function property-access">includes</span><span class="token punctuation">(</span><span class="">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">107</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">108</span><span class="">            </span><span class="token comment">// Fetch next page URL and open it in a new tab if everything is successful</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">109</span><span class="">            </span><span class="token keyword">const</span><span class=""> checkoutRawUrl </span><span class="token operator">=</span><span class=""> </span><span class="token keyword control-flow">await</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword control-flow">await</span><span class=""> </span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">.</span><span class="token property-access">href</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">110</span><span class="">                </span><span class="token literal-property property">method</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;POST&#x27;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">111</span><span class="">                </span><span class="token literal-property property">body</span><span class="token operator">:</span><span class=""> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="">continueBody</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">112</span><span class="">                </span><span class="token literal-property property">headers</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">113</span><span class="">                    </span><span class="token literal-property property">__RequestVerificationToken</span><span class="token operator">:</span><span class=""> verificationToken</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">114</span><span class="">                    </span><span class="token string-property property">&#x27;Content-Type&#x27;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;application/json&#x27;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">115</span><span class="">                    </span><span class="token string-property property">&#x27;X-Requested-With&#x27;</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;XMLHttpRequest&#x27;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">116</span><span class="">                </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">117</span><span class="">            </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">118</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">119</span><span class="">            </span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span><span class="">checkoutRawUrl</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class=""> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">replaceAll</span><span class="token punctuation">(</span><span class="token string">&#x27;\\u0026&#x27;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&#x27;&amp;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">120</span><span class="">            </span><span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="">id</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">121</span><span class="">        </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">122</span><span class="">    </span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">123</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">124</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">125</span><span class=""></span><span class="token keyword">function</span><span class=""> </span><span class="token function">log</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">126</span><span class="">    </span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">[</span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation keyword">new</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation class-name">Date</span><span class="token template-string interpolation punctuation">(</span><span class="token template-string interpolation punctuation">)</span><span class="token template-string interpolation punctuation">.</span><span class="token template-string interpolation method function property-access">toLocaleTimeString</span><span class="token template-string interpolation punctuation">(</span><span class="token template-string interpolation punctuation">)</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string string">]: </span><span class="token template-string interpolation interpolation-punctuation punctuation">${</span><span class="token template-string interpolation">m</span><span class="token template-string interpolation interpolation-punctuation punctuation">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">127</span><span class=""></span><span class="token punctuation">}</span></code></pre></div></div><div class="relative"><span id="using-this-script" class="absolute -top-16"></span><a class="group flex gap-2 items-center text-inherit hover:underline decoration-1 underline-offset-4 decoration-secondary decoration-dotted text-2xl font-bold mb-3" href="#using-this-script"><h2>Using this script</h2><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="hidden group-hover:block text-xl absolute pt-0.5 -left-7 stroke-[1.5px] text-secondary" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></div><p class="mb-3">Because of how the housing portal&#x27;s request hashes and dynamic routes work, this script only works on the <strong>List Rooms</strong> page (ie. the page that looks like the image on the right):</p><div class="flex gap-2 mb-1"><img src="/assets/scripts/initial-selection.png" alt="List rooms page" class="rounded min-w-0 object-cover object-center"/><img src="/assets/scripts/list-rooms.png" alt="List rooms page" class="rounded min-w-0 object-cover object-center"/></div><p class="text-secondary text-sm italic mb-3 text-center"><strong class="font-semibold">Left:</strong> Initial Selection page with no rooms available;<!-- --> <strong class="font-semibold">Right:</strong> List Rooms page</p><p class="mb-4">If you have navigated to the <strong>Initial Selection</strong> page (left) but cannot go further due to there being no available rooms, run the following code in the console to jump to the next page:</p><div class="border border-white/10 rounded-lg mb-4"><p class="flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg> <!-- -->js<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">const</span><span class=""> rawUrl </span><span class="token operator">=</span><span class=""> </span><span class="token keyword control-flow">await</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword control-flow">await</span><span class=""> </span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class="token punctuation">.</span><span class="token property-access">href</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">    </span><span class="token literal-property property">method</span><span class="token operator">:</span><span class=""> </span><span class="token string">&#x27;POST&#x27;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">    </span><span class="token literal-property property">body</span><span class="token operator">:</span><span class=""> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">PageWidgetData</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class=""></span><span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">location</span><span class=""> </span><span class="token operator">=</span><span class=""> rawUrl</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class=""> </span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">replaceAll</span><span class="token punctuation">(</span><span class="token string">&#x27;\\u0026&#x27;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&#x27;&amp;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><p class="mb-4">Once you&#x27;re at the list rooms page, copying the original script into your console should start the room search process.</p><p class="mb-8">The script sends a lot of logs in the console, mostly for debugging purposes. You&#x27;ll know the script has found a room when it starts opening a bunch of tabs (an imperfect solution, but one that works given the time constraints and limited opportunities to test it). These tabs will be the bed assignment pages for the room the script has just added to your cart; wait for one to load, fill it out as normal, and pray that the request goes through. Remember to hit confirm as normal on the proceeding page as well.</p><div class="relative"><span id="other-notes" class="absolute -top-16"></span><a class="group flex gap-2 items-center text-inherit hover:underline decoration-1 underline-offset-4 decoration-secondary decoration-dotted text-2xl font-bold mb-3" href="#other-notes"><h2>Other things to note</h2><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="hidden group-hover:block text-xl absolute pt-0.5 -left-7 stroke-[1.5px] text-secondary" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></div><p class="mb-4">During execution, the script makes a request to the filter rooms endpoint (the same one the list rooms webpage uses) every <code>delay</code> milliseconds. If, for whatever reason, you want to stop sending new requests, you can clear the interval with</p><div class="border border-white/10 rounded-lg mb-4"><p class="flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg> <!-- -->js<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="">id</span><span class="token punctuation">)</span></code></pre></div></div><p class="mb-4">Note that at peak times, response times from the API will greatly exceed the rate at which the script makes new fetches to it (the worst I&#x27;ve seen were response times of almost 3 minutes). Clearing the interval <strong>does not prevent fetches that are still pending from resolving, only the creation of new ones.</strong> The list of pending requests can easily range in the thousands during peak times; to clear all requests immediately, reload the page or close the tab.</p><p class="mb-4">If, during execution, you want to add or remove buildings or room types from your filter, simply mutate the <code>roomTypeIds</code> and <code>buildingIds</code> arrays directly:</p><div class="border border-white/10 rounded-lg mb-4"><p class="flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg> <!-- -->js<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">buildingIds</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class=""> </span><span class="token comment">// Add Cary to the building id filter</span></code></pre></div></div><div class="border border-white/10 rounded-lg mb-4"><p class="flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title></title><path d="M0 0h24v24H0V0zm22.034 18.276c-.175-1.095-.888-2.015-3.003-2.873-.736-.345-1.554-.585-1.797-1.14-.091-.33-.105-.51-.046-.705.15-.646.915-.84 1.515-.66.39.12.75.42.976.9 1.034-.676 1.034-.676 1.755-1.125-.27-.42-.404-.601-.586-.78-.63-.705-1.469-1.065-2.834-1.034l-.705.089c-.676.165-1.32.525-1.71 1.005-1.14 1.291-.811 3.541.569 4.471 1.365 1.02 3.361 1.244 3.616 2.205.24 1.17-.87 1.545-1.966 1.41-.811-.18-1.26-.586-1.755-1.336l-1.83 1.051c.21.48.45.689.81 1.109 1.74 1.756 6.09 1.666 6.871-1.004.029-.09.24-.705.074-1.65l.046.067zm-8.983-7.245h-2.248c0 1.938-.009 3.864-.009 5.805 0 1.232.063 2.363-.138 2.711-.33.689-1.18.601-1.566.48-.396-.196-.597-.466-.83-.855-.063-.105-.11-.196-.127-.196l-1.825 1.125c.305.63.75 1.172 1.324 1.517.855.51 2.004.675 3.207.405.783-.226 1.458-.691 1.811-1.411.51-.93.402-2.07.397-3.346.012-2.054 0-4.109 0-6.179l.004-.056z"></path></svg> <!-- -->js<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">roomTypeIds</span><span class="token punctuation">.</span><span class="token method function property-access">splice</span><span class="token punctuation">(</span><span class="">i</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">1</span><span class="token punctuation">)</span><span class=""> </span><span class="token comment">// Remove one id from the room type filter, where `i` is the index of the element to remove</span></code></pre></div></div><p class="mb-4">The full list of IDs corresponding to buildings and rooms can be referenced here:</p><div class="flex flex-wrap gap-6"><table><tbody><tr><th class="text-sm text-left font-medium px-4 py-2 border border-tertiary bg-gray-100 dark:bg-white/5">Building name</th><th class="text-sm text-left font-medium px-4 py-2 border border-tertiary bg-gray-100 dark:bg-white/5">Building ID</th></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Cary Quadrangle</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">1</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Earhart</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">2</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">First Street Towers</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">3</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Frieda Parker</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">34</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Harrison</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">4</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Hawkins</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">5</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Hillenbrand</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">6</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Honors</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">17</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">McCutcheon</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">8</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Meredith</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">9</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Meredith South</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">33</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Owen</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">10</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Shreve</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">12</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Tarkington</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">13</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Wiley</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">14</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Windsor</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">15</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Winifred Parker</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">16</td></tr></tbody></table><table class="h-max"><tbody><tr><th class="text-sm text-left font-medium px-4 py-2 border border-tertiary bg-gray-100 dark:bg-white/5">Room type</th><th class="text-sm text-left font-medium px-4 py-2 border border-tertiary bg-gray-100 dark:bg-white/5">Room type ID</th></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Apartment</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">166</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Double</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">165</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Quad</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">198</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Single</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">169</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Suite</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">167</td></tr><tr><td class="px-4 py-2 text-sm text-primary border border-tertiary">Triple</td><td class="px-4 py-2 text-sm text-primary border border-tertiary">168</td></tr></tbody></table></div><!--$--><!--/$--></main><script src="/_next/static/chunks/webpack-7cc99edc1a50fd44.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[87555,[],\"\"]\n3:I[31295,[],\"\"]\n4:I[6874,[\"874\",\"static/chunks/874-3e820bd666038662.js\",\"238\",\"static/chunks/app/(articles)/layout-2577bd3482649595.js\"],\"\"]\n5:I[39951,[\"263\",\"static/chunks/bc9c3264-6371ca03223855d4.js\",\"810\",\"static/chunks/48507feb-8452885980bba250.js\",\"330\",\"static/chunks/08ffe114-f47006c90e36a3eb.js\",\"800\",\"static/chunks/800-bd0deb6e7b7e903a.js\",\"806\",\"static/chunks/app/(scripts)/purdue-housing/page-aaaae329c60d5169.js\"],\"default\"]\n19:I[28393,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/f53d5288e842910a.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"s9MJ02MDGdivoliH5zigB\",\"p\":\"\",\"c\":[\"\",\"purdue-housing\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"(scripts)\",{\"children\":[\"purdue-housing\",{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f53d5288e842910a.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"className\":\"dark scroll-smooth\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}]}],[\"$\",\"body\",null,{\"className\":\"text-dark dark:text-white dark:bg-midnight\",\"style\":{\"fontFamily\":\"'Inter', 'Inter Fallback'\",\"fontStyle\":\"normal\"},\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"h-screen flex items-center justify-center\",\"children\":[\"$\",\"main\",null,{\"className\":\"relative pl-14\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"absolute left-0 top-2 text-5xl text-grapefruit\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"h1\",null,{\"className\":\"font-bold text-7xl underline decoration-grapefruit mb-5\",\"children\":\"404.\"}],[\"$\",\"p\",null,{\"children\":\"Your requested page was not found.\"}],[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"font-medium text-inherit\",\"children\":\"Return to home ‚Üí\"}]]}]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"(scripts)\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"main\",null,{\"className\":\"container pt-20 pb-24\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"text-secondary text-sm mb-10 -ml-5 block w-max\",\"children\":\"‚Üê Back to home\"}],[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]]}],{\"children\":[\"purdue-housing\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"h1\",null,{\"className\":\"text-4xl font-bold mb-4\",\"children\":\"Purdue Housing 2023\"}],[\"$\",\"p\",null,{\"className\":\"mb-3\",\"children\":\"This is a script to automatically search for open housing spots on the Purdue housing portal.\"}],[\"$\",\"p\",null,{\"className\":\"font-medium\",\"children\":\"Notes:\"}],[\"$\",\"ul\",null,{\"className\":\"list-disc pl-6 mb-4 space-y-1.5\",\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Lower room rate\"}],\" should be the minimum rate of the room (default: $1,000).\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Upper room rate\"}],\" should be the maximum rate of the room (default: $20,000).\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"Delay\"}],\" should be the delay, in milliseconds, the script waits before attempting to look for rooms again. Please keep this number reasonable; too many requests will crash the server and \",[\"$\",\"em\",null,{\"children\":\"no one\"}],\" will get rooms.\"]}],[\"$\",\"li\",null,{\"children\":\"Check the corresponding boxes for the buildings and room types you want to filter for. The script will indiscriminately attempt to add the first room it sees that matches the selected criteria to your cart, so make sure to only filter for rooms you would be OK with living in.\"}]]}],[\"$\",\"p\",null,{\"className\":\"mb-6\",\"children\":[\"Using this script is a bit more complicated than just pasting it into the console in the housing portal; see the \",[\"$\",\"a\",null,{\"href\":\"#using-this-script\",\"children\":\"Using this script\"}],\" section for more details on how it works.\"]}],[\"$\",\"$L5\",null,{}],[\"$\",\"div\",null,{\"className\":\"relative\",\"children\":[[\"$\",\"span\",null,{\"id\":\"using-this-script\",\"className\":\"absolute -top-16\"}],\"$L6\"]}],\"$L7\",\"$L8\",\"$L9\",\"$La\",\"$Lb\",\"$Lc\",\"$Ld\",\"$Le\",\"$Lf\",\"$L10\",\"$L11\",\"$L12\",\"$L13\",\"$L14\",\"$L15\",\"$L16\"],null,\"$L17\"]}],{},null,false]},null,false]},null,false]},null,false],\"$L18\",false]],\"m\":\"$undefined\",\"G\":[\"$19\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"1a:I[50674,[\"263\",\"static/chunks/bc9c3264-6371ca03223855d4.js\",\"810\",\"static/chunks/48507feb-8452885980bba250.js\",\"330\",\"static/chunks/08ffe114-f47006c90e36a3eb.js\",\"800\",\"static/chunks/800-bd0deb6e7b7e903a.js\",\"806\",\"static/chunks/app/(scripts)/purdue-housing/page-aaaae329c60d5169.js\"],\"default\"]\n1d:I[59665,[],\"OutletBoundary\"]\n1f:I[74911,[],\"AsyncMetadataOutlet\"]\n21:I[59665,[],\"ViewportBoundary\"]\n23:I[59665,[],\"MetadataBoundary\"]\n24:\"$Sreact.suspense\"\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"a\",null,{\"className\":\"group flex gap-2 items-center text-inherit hover:underline decoration-1 underline-offset-4 decoration-secondary decoration-dotted text-2xl font-bold mb-3\",\"href\":\"#using-this-script\",\"children\":[[\"$\",\"h2\",null,{\"children\":\"Using this script\"}],[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"none\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"hidden group-hover:block text-xl absolute pt-0.5 -left-7 stroke-[1.5px] text-secondary\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\",\"children\":\"$undefined\"}],[\"$\",\"path\",\"1\",{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}]]}]\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"p\",null,{\"className\":\"mb-3\",\"children\":[\"Because of how the housing portal's request hashes and dynamic routes work, this script only works on the \",[\"$\",\"strong\",null,{\"children\":\"List Rooms\"}],\" page (ie. the page that looks like the image on the right):\"]}]\n8:[\"$\",\"div\",null,{\"className\":\"flex gap-2 mb-1\",\"children\":[[\"$\",\"img\",null,{\"src\":\"/assets/scripts/initial-selection.png\",\"alt\":\"List rooms page\",\"className\":\"rounded min-w-0 object-cover object-center\"}],[\"$\",\"img\",null,{\"src\":\"/assets/scripts/list-rooms.png\",\"alt\":\"List rooms page\",\"className\":\"rounded min-w-0 object-cover object-center\"}]]}]\n9:[\"$\",\"p\",null,{\"className\":\"text-secondary text-sm italic mb-3 text-center\",\"children\":[[\"$\",\"strong\",null,{\"className\":\"font-semibold\",\"children\":\"Left:\"}],\" Initial Selection page with no rooms available;\",\" \",[\"$\",\"strong\",null,{\"className\":\"font-semibold\",\"children\":\"Right:\"}],\" List Rooms page\"]}]\na:[\"$\",\"p\",null,{\"className\":\"mb-4\",\"children\":[\"If you have navigated to the \",[\"$\",\"strong\",null,{\"children\":\"Initial Selection\"}],\" page (left) but cannot go further due to there being no available rooms, run the following code in the console to jump to the next page:\"]}]\nb:[\"$\",\"$L1a\",null,{\"language\":\"js\",\"className\":\"mb-4\",\"children\":\"const rawUrl = await (await fetch(window.location.href, {\\n    method: 'POST',\\n    body: JSON.stringify({PageWidgetData: []})\\n})).text()\\n\\nwindow.location = rawUrl.slice(1, -1).replaceAll('\\\\\\\\u0026', '\u0026');\"}]\nc:[\"$\",\"p\",null,{\"className\":\"mb-4\",\"children\":\"Once you're at the list rooms page, copying the original script into your console should start the room search process.\"}]\nd:[\"$\",\"p\",null,{\"className\":\"mb-8\",\"children\":\"The script sends a lot of logs in the console, mostly for debugging purposes. You'll know the script has found a room when it starts opening a bunch of tabs (an imperfect solution, but one that works given the time constraints and limited opportunities to test it). These tabs will be the bed assignment pages for the room the script has just added "])</script><script>self.__next_f.push([1,"to your cart; wait for one to load, fill it out as normal, and pray that the request goes through. Remember to hit confirm as normal on the proceeding page as well.\"}]\n"])</script><script>self.__next_f.push([1,"e:[\"$\",\"div\",null,{\"className\":\"relative\",\"children\":[[\"$\",\"span\",null,{\"id\":\"other-notes\",\"className\":\"absolute -top-16\"}],[\"$\",\"a\",null,{\"className\":\"group flex gap-2 items-center text-inherit hover:underline decoration-1 underline-offset-4 decoration-secondary decoration-dotted text-2xl font-bold mb-3\",\"href\":\"#other-notes\",\"children\":[[\"$\",\"h2\",null,{\"children\":\"Other things to note\"}],[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"none\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"hidden group-hover:block text-xl absolute pt-0.5 -left-7 stroke-[1.5px] text-secondary\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\",\"children\":\"$undefined\"}],[\"$\",\"path\",\"1\",{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}]]}]]}]\n"])</script><script>self.__next_f.push([1,"f:[\"$\",\"p\",null,{\"className\":\"mb-4\",\"children\":[\"During execution, the script makes a request to the filter rooms endpoint (the same one the list rooms webpage uses) every \",[\"$\",\"code\",null,{\"children\":\"delay\"}],\" milliseconds. If, for whatever reason, you want to stop sending new requests, you can clear the interval with\"]}]\n10:[\"$\",\"$L1a\",null,{\"language\":\"js\",\"className\":\"mb-4\",\"children\":\"clearInterval(id)\"}]\n11:[\"$\",\"p\",null,{\"className\":\"mb-4\",\"children\":[\"Note that at peak times, response times from the API will greatly exceed the rate at which the script makes new fetches to it (the worst I've seen were response times of almost 3 minutes). Clearing the interval \",[\"$\",\"strong\",null,{\"children\":\"does not prevent fetches that are still pending from resolving, only the creation of new ones.\"}],\" The list of pending requests can easily range in the thousands during peak times; to clear all requests immediately, reload the page or close the tab.\"]}]\n12:[\"$\",\"p\",null,{\"className\":\"mb-4\",\"children\":[\"If, during execution, you want to add or remove buildings or room types from your filter, simply mutate the \",[\"$\",\"code\",null,{\"children\":\"roomTypeIds\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"buildingIds\"}],\" arrays directly:\"]}]\n13:[\"$\",\"$L1a\",null,{\"language\":\"js\",\"className\":\"mb-4\",\"children\":\"buildingIds.push(1) // Add Cary to the building id filter\"}]\n14:[\"$\",\"$L1a\",null,{\"language\":\"js\",\"className\":\"mb-4\",\"children\":\"roomTypeIds.splice(i, 1) // Remove one id from the room type filter, where `i` is the index of the element to remove\"}]\n15:[\"$\",\"p\",null,{\"className\":\"mb-4\",\"children\":\"The full list of IDs corresponding to buildings and rooms can be referenced here:\"}]\n"])</script><script>self.__next_f.push([1,"16:[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-6\",\"children\":[[\"$\",\"table\",null,{\"children\":[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"className\":\"text-sm text-left font-medium px-4 py-2 border border-tertiary bg-gray-100 dark:bg-white/5\",\"children\":\"Building name\"}],[\"$\",\"th\",null,{\"className\":\"text-sm text-left font-medium px-4 py-2 border border-tertiary bg-gray-100 dark:bg-white/5\",\"children\":\"Building ID\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Cary Quadrangle\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"1\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Earhart\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"2\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"First Street Towers\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"3\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Frieda Parker\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"34\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Harrison\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"4\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Hawkins\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"5\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Hillenbrand\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"6\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Honors\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"17\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"McCutcheon\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"8\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Meredith\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"9\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Meredith South\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"33\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Owen\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"10\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Shreve\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"12\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Tarkington\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"13\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Wiley\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"14\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Windsor\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"15\"}]]}],\"$L1b\"]}]}],\"$L1c\"]}]\n"])</script><script>self.__next_f.push([1,"17:[\"$\",\"$L1d\",null,{\"children\":[\"$L1e\",[\"$\",\"$L1f\",null,{\"promise\":\"$@20\"}]]}]\n18:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L21\",null,{\"children\":\"$L22\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$L23\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$24\",null,{\"fallback\":null,\"children\":\"$L25\"}]}]}]]}]\n"])</script><script>self.__next_f.push([1,"1b:[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Winifred Parker\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"16\"}]]}]\n"])</script><script>self.__next_f.push([1,"1c:[\"$\",\"table\",null,{\"className\":\"h-max\",\"children\":[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"className\":\"text-sm text-left font-medium px-4 py-2 border border-tertiary bg-gray-100 dark:bg-white/5\",\"children\":\"Room type\"}],[\"$\",\"th\",null,{\"className\":\"text-sm text-left font-medium px-4 py-2 border border-tertiary bg-gray-100 dark:bg-white/5\",\"children\":\"Room type ID\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Apartment\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"166\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Double\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"165\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Quad\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"198\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Single\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"169\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Suite\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"167\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"Triple\"}],[\"$\",\"td\",null,{\"className\":\"px-4 py-2 text-sm text-primary border border-tertiary\",\"children\":\"168\"}]]}]]}]}]\n"])</script><script>self.__next_f.push([1,"22:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n1e:null\n"])</script><script>self.__next_f.push([1,"20:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Purdue Housing | kevin.fish\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Generator for a script to automatically reserve a Purdue dorm.\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"25:\"$20:metadata\"\n"])</script></body></html>