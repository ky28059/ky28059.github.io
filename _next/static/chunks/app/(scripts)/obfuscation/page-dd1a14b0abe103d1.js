(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{27138:function(e,t,n){Promise.resolve().then(n.bind(n,146))},19926:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(57437),a=n(94035);function s(e){var t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"text-sm mb-1 text-secondary dark:text-secondary-dark",children:["Code:"," ",(0,r.jsx)("button",{onClick:()=>navigator.clipboard.writeText(e.children),className:"hover:underline",children:"(copy)"})]}),(0,r.jsx)("div",{className:"rounded-lg overflow-hidden text-xs"+(e.className?" ".concat(e.className):""),children:(0,r.jsx)(a.SyntaxHighlighter,{language:null!==(t=e.language)&&void 0!==t?t:"javascript",children:e.children})})]})}},146:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(57437),a=n(2265),s=n(55318),l=n(19926);function i(){let[e,t]=(0,a.useState)(c),{defineString:n,parsedString:i,wordCounts:d,tokens:h,errors:u}=(0,a.useMemo)(()=>{let t=e.split(/(?:[\s\n().\-,/;:'"]|\[.+?])+/),n={};for(let e of t)n[e]||(n[e]=0),n[e]++;let r=Math.max(...Object.keys(n).map(e=>e.length)),a=Object.entries(n).filter(e=>{let[t,n]=e;return isNaN(Number(t))}),s=RegExp("\\b(?:".concat(a.filter(e=>{let[t,n]=e;return n>1}).map(e=>{let[t,n]=e;return t}).join("|"),")\\b"),"g"),l=e.replaceAll(s,""),i=l.split(RegExp("\\s+|(?<=\\W)|(?=\\W)")).filter(e=>!!e),o={},c="struct tbnlw{int srlpn;}tbnlw_o;int main(void){",d=[];for(let e=0;e<i.length;e++){let t=i[e],n=i[e+1];if(!/[a-zA-Z]+/.test(t)){0===e&&d.push("File does not begin with controllable token.");continue}let r=c;c="",","===n?(r+="(void)((void)0",c="0);"+c,e++):"."===n?(r+="(void)tbnlw_o",c="srlpn;"+c,e++):"-"===n?(r+="(void)(0",c="0);"+c,e++):")"===n&&(r+="(void)(0",c=";"+c,e++),e===i.length-1&&(r+="}"),l=l.replaceAll(RegExp("\\b".concat(t,"\\b"),"g"),r||"/* ".concat(t," */")),o[t]=r||"// free"}return c&&d.push("File does not end with controllable token."),console.log(i,o),{defineString:a.map(e=>{var t;let[n,a]=e;return"#define ".concat(n).concat(a>1?"":"".concat(" ".repeat(r-n.length)," ").concat(null!==(t=o[n])&&void 0!==t?t:""))}).join("\n"),parsedString:l,wordCounts:n,tokens:i,errors:d}},[e]);return(0,r.jsxs)("div",{className:"flex gap-6",children:[(0,r.jsxs)("div",{className:"flex-grow [&>pre]:h-max min-w-0",children:[(0,r.jsxs)("p",{className:"my-4",children:["The main idea goal of this obfuscator is being able to format any C program into a given block of English text using ",(0,r.jsx)(o,{children:"#define"})," macros and other tricks to get there."]}),(0,r.jsxs)("p",{className:"my-4",children:["Furthermore, code generated by this obfuscator should compile successfully with"," ",(0,r.jsx)(o,{children:"-Wall -Werror"}),"."]}),(0,r.jsx)("p",{className:"mt-4 mb-3",children:"First, we need to figure out what tokens we have in the text to work with. We can extract all word matches from the corpus using Regex, giving us the following word counts:"}),(0,r.jsx)(l.default,{children:JSON.stringify(d)}),(0,r.jsx)("p",{className:"my-4",children:"To prevent saturating the generation process with overly convoluted computations, we first remove all tokens that are duplicated across the text. This means that the script is sometimes unable to calculate an optimal solution, but also makes it a lot more feasible to write."}),(0,r.jsx)("p",{className:"mt-4 mb-3",children:"Then, the parsed string is tokenized into the following tokens:"}),(0,r.jsx)(l.default,{children:JSON.stringify(h)}),(0,r.jsxs)("p",{className:"my-4",children:["If each token contained only valid variable names, we'd be done. However, symbols like"," ",(0,r.jsx)(o,{children:"."}),", ",(0,r.jsx)(o,{children:","}),", or brackets like"," ",(0,r.jsx)(o,{children:"["})," and ",(0,r.jsx)(o,{children:"("}),' cannot be overridden via macro; the script will attempt to "escape" them using surrounding controllable tokens instead.']}),(0,r.jsx)("p",{className:"my-4",children:"The basic strategy for doing so is as follows:"}),(0,r.jsxs)("ul",{className:"list-disc list-outside pl-6 text-pretty",children:[(0,r.jsxs)("li",{children:["Attempt to escape ",(0,r.jsx)(o,{children:","})," by wrapping it in"," ",(0,r.jsx)(o,{children:"(void)((void)0,0);"})," ",(0,r.jsx)("em",{className:"text-secondary dark:text-secondary-dark",children:"(a discarded comma operator expression)"}),"."]}),(0,r.jsxs)("li",{children:["Attempt to escape ",(0,r.jsx)(o,{children:"."})," by wrapping it in"," ",(0,r.jsx)(o,{children:"(void)obj.prop;"})," ",(0,r.jsx)("em",{className:"text-secondary dark:text-secondary-dark",children:"(a discarded access to some property on some object)"}),"."]}),(0,r.jsxs)("li",{children:["Attempt to escape ",(0,r.jsx)(o,{children:"-"})," by wrapping it in"," ",(0,r.jsx)(o,{children:"(void)(0-0);"})," ",(0,r.jsx)("em",{className:"text-secondary dark:text-secondary-dark",children:"(a discarded integer subtraction)"}),"."]})]}),(0,r.jsx)("p",{className:"my-4",children:"Applying these rules, we can generate the following parsed corpus:"}),(0,r.jsx)(l.default,{language:"c",children:i}),u.length>0&&(0,r.jsx)("div",{children:u.map(e=>(0,r.jsx)("p",{children:e},e))}),(0,r.jsx)("p",{className:"my-4",children:"where the commented tokens are free slots to put any C code you want to run."}),(0,r.jsxs)("p",{className:"mt-4 mb-3",children:["Then, we can map these tokens to ",(0,r.jsx)(o,{children:"#define"})," macros to generate the final C program (replace defines with ",(0,r.jsx)(o,{children:"// free"})," comments with your C code):"]}),(0,r.jsx)(l.default,{language:"c",children:n+"\n\n"+e})]}),(0,r.jsxs)("div",{className:"w-[26rem] flex-none sticky top-8 h-max",children:[(0,r.jsx)("h5",{className:"text-secondary dark:text-secondary-dark text-sm mb-1",children:"Corpus"}),(0,r.jsx)(s.Z,{value:e,onChange:e=>t(e.target.value),className:"text-sm rounded px-6 py-4 h-24 dark:bg-[#2b2b2b] mb-2 w-full border border-gray-400/50 dark:border-gray-100/10 placeholder:text-gray-400 placeholder:dark:text-gray-100/40"})]})]})}function o(e){return(0,r.jsx)("code",{className:"text-secondary dark:text-secondary-dark bg-black/20 rounded p-1",children:e.children})}let c="A cantilever is a rigid structural element that extends horizontally and is\nunsupported at one end. Typically it extends from a flat vertical surface such\nas a wall, to which it must be firmly attached. Like other structural elements,\na cantilever can be formed as a beam, plate, truss, or slab.\n\nSee also\n- Applied mechanics\n- Cantilever bicycle brakes\n- Cantilever bicycle frame\n- Cantilever chair\n- Cantilever method\n- Cantilevered stairs\n- Corbel arch\n- Euler-Bernoulli beam theory\n- Grand Canyon Skywalk\n- Knudsen force in the context of microcantilevers\n- Orthodontics\n- Statics"},55318:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(57437),a=n(2265);function s(e){let t=(0,a.useRef)(null),{onChange:n,...s}=e;function l(){let e=t.current;e&&(e.style.height="auto",e.style.height=e.scrollHeight+8+"px")}return(0,a.useLayoutEffect)(()=>{l()},[]),(0,r.jsx)("textarea",{ref:t,onChange:e=>{null==n||n(e),l()},...s})}},94035:function(e,t,n){"use strict";n.r(t),n.d(t,{SyntaxHighlighter:function(){return i},default:function(){return l}});var r=n(57437),a=n(2265),s=n(71542);function l(e){var t,n,s;let{sources:l}=e,[o,c]=(0,a.useState)(0),[d,h]=(0,a.useState)([]);return(0,a.useEffect)(()=>{Promise.all(l.map(e=>fetch(e).then(e=>e.text()))).then(e=>h(e))},[]),(0,r.jsxs)("div",{className:"flex flex-col rounded-lg overflow-hidden w-[36rem] h-[36rem] max-w-full flex-none text-xs bg-[#2b2b2b] border border-gray-100/20",children:[(0,r.jsx)("div",{className:"flex bg-[#484a4a]/50",children:l.map((e,t)=>{var n;return(0,r.jsx)("button",{className:"px-3.5 py-1.5 font-[Consolas,_Monaco,_'Andale_Mono',_monospace] text-[#a9b7c6]"+(o===t?" bg-[#2b2b2b]":""),onClick:()=>c(t),children:null===(n=e.match(/.+\/(.+)/))||void 0===n?void 0:n[1]},e)})}),(0,r.jsx)(i,{language:null!==(n="kt"===(s=null===(t=l[o].match(/.+\.(.+)/))||void 0===t?void 0:t[1])?"kotlin":s)&&void 0!==n?n:"java",children:d[o]})]})}function i(e){return(0,r.jsx)(s.Z,{language:e.language,codeTagProps:{style:{}},showLineNumbers:!0,useInlineStyles:!1,children:e.children})}}},function(e){e.O(0,[235,971,938,744],function(){return e(e.s=27138)}),_N_E=e.O()}]);