<!DOCTYPE html><html class="dark scroll-smooth"><head><meta charSet="utf-8"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://gist.github.com/assets/60120929/893f7ccc-c3de-484c-8904-90e96d38422b"/><link rel="preload" as="image" href="https://gist.github.com/assets/60120929/5d954629-5eba-4dfd-819b-6bf247dcdcc7"/><link rel="preload" as="image" href="https://gist.github.com/assets/60120929/405a74af-8309-4b4a-8ff6-1d44e1c64b6e"/><link rel="preload" as="image" href="https://gist.github.com/assets/60120929/c5d937b4-0df6-404e-a640-e429e0bbdce7"/><link rel="preload" as="image" href="https://gist.github.com/assets/60120929/f5009019-98d8-491d-9570-49ed41da4b56"/><link rel="stylesheet" href="/_next/static/css/50c8c99451c00ad5.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-50d183473e3f8178.js"/><script src="/_next/static/chunks/4bd1b696-12b3d90ac4ed3802.js" async=""></script><script src="/_next/static/chunks/684-d3c2077e7b7fefb9.js" async=""></script><script src="/_next/static/chunks/main-app-99381da9a4c58049.js" async=""></script><script src="/_next/static/chunks/874-c62c375efd21db20.js" async=""></script><script src="/_next/static/chunks/app/writeups/layout-6eb8da7f54d57912.js" async=""></script><script src="/_next/static/chunks/325-8cc74193b249521f.js" async=""></script><script src="/_next/static/chunks/app/writeups/%5Bid%5D/page-b6fc1eb85fdc5690.js" async=""></script><meta name="next-size-adjust" content=""/><title>kevin.fish</title><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="text-dark dark:text-white dark:bg-midnight" style="font-family:&#x27;Inter&#x27;, &#x27;Inter Fallback&#x27;;font-style:normal"><main class="container pt-20 pb-24"><a class="text-secondary text-sm mb-10 -ml-5 block w-max" href="/">‚Üê Back to home</a><div><main class="max-w-5xl mx-auto text-sm [&amp;_h1]:text-5xl [&amp;_h1]:font-semibold [&amp;_h1]:mb-8 [&amp;_blockquote]:text-secondary [&amp;_blockquote]:space-y-3 [&amp;_blockquote]:border-l-4 [&amp;_blockquote]:border-secondary [&amp;_blockquote]:pl-5 [&amp;_blockquote]:mb-5 [&amp;&gt;_p]:my-3 [&amp;_img]:my-5 [&amp;_ul]:list-disc [&amp;_ul]:pl-6 [&amp;_img]:rounded [&amp;_li]:my-2"><h1>San Diego CTF 2024 ‚Äî impossible-golf</h1>
<blockquote>
<p>I found this golf game online but the third level is so hard üò©üò©</p>
<p>See if you can beat it!</p>
</blockquote>
<p>We&#x27;re given a golf minigame that looks like this:</p>
<p><img src="https://gist.github.com/assets/60120929/893f7ccc-c3de-484c-8904-90e96d38422b" alt="image"/></p>
<p>We can see that the client makes a WebSocket connection to the remote server, sending <code class="text-primary bg-black/20 rounded p-1">launch</code> events whenever the user hits the ball.</p>
<p><img src="https://gist.github.com/assets/60120929/5d954629-5eba-4dfd-819b-6bf247dcdcc7" alt="image"/></p>
<p><img src="https://gist.github.com/assets/60120929/405a74af-8309-4b4a-8ff6-1d44e1c64b6e" alt="image"/></p>
<p>Unfortunately, as the challenge description suggests, we&#x27;ll realize when we hit level 3 that the game was rigged from the start:</p>
<p><img src="https://gist.github.com/assets/60120929/c5d937b4-0df6-404e-a640-e429e0bbdce7" alt="image"/></p>
<p>Sadly, this challenge is truly impossible without server source. Luckily, just a few hours later we&#x27;re given exactly that!</p>
<div class="my-4"><p class="text-xs bg-black/10 rounded-t-lg px-4 py-0.5 text-secondary">Code<!-- --> (js)<!-- -->:<!-- --> <button class="hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">const</span><span class=""> express </span><span class="token operator">=</span><span class=""> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;express&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class=""></span><span class="token keyword">const</span><span class=""> http </span><span class="token operator">=</span><span class=""> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;http&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class=""></span><span class="token keyword">const</span><span class=""> app </span><span class="token operator">=</span><span class=""> </span><span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class=""></span><span class="token keyword">const</span><span class=""> path </span><span class="token operator">=</span><span class=""> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class=""></span><span class="token keyword">const</span><span class=""> </span><span class="token punctuation">{</span><span class=""> </span><span class="token maybe-class-name">WebSocketServer</span><span class=""> </span><span class="token punctuation">}</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;ws&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class=""></span><span class="token keyword">const</span><span class=""> </span><span class="token punctuation">{</span><span class="">readFileSync</span><span class="token punctuation">}</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;fs&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">7</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class=""></span><span class="token keyword">const</span><span class=""> server </span><span class="token operator">=</span><span class=""> http</span><span class="token punctuation">.</span><span class="token method function property-access">createServer</span><span class="token punctuation">(</span><span class="">app</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">9</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class=""></span><span class="token keyword">const</span><span class=""> wss </span><span class="token operator">=</span><span class=""> </span><span class="token keyword">new</span><span class=""> </span><span class="token class-name">WebSocketServer</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">server</span><span class="token operator">:</span><span class=""> server</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">11</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class=""></span><span class="token keyword">const</span><span class=""> </span><span class="token constant">FLAG</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="">path</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="">__dirname</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;flag.txt&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">13</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">wss</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">&quot;connection&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token parameter">ws</span><span class=""> </span><span class="token arrow operator">=&gt;</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">	</span><span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">&quot;New connection!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">	</span><span class="token keyword">let</span><span class=""> level </span><span class="token operator">=</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">	</span><span class="token keyword">let</span><span class=""> gameState </span><span class="token operator">=</span><span class=""> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="">levels</span><span class="token punctuation">[</span><span class="">level</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">	</span><span class="token keyword">let</span><span class=""> interval </span><span class="token operator">=</span><span class=""> </span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="">physicsLoop</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">	</span><span class="token keyword">let</span><span class=""> goalTimer </span><span class="token operator">=</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">20</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">	</span><span class="token keyword">function</span><span class=""> </span><span class="token function">physicsLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">		</span><span class="token function">applyVelocity</span><span class="token punctuation">(</span><span class="">gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">,</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">rects</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">23</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">24</span><span class="">		</span><span class="token keyword control-flow">for</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class=""> obj </span><span class="token keyword">of</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">rects</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="">			</span><span class="token function">circleRectCollision</span><span class="token punctuation">(</span><span class="">gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">,</span><span class=""> obj</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">		</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token function">circlesIntersecting</span><span class="token punctuation">(</span><span class="">gameState</span><span class="token punctuation">.</span><span class="token property-access">goal</span><span class="token punctuation">,</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">			goalTimer</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">29</span><span class="">		</span><span class="token punctuation">}</span><span class=""> </span><span class="token keyword control-flow">else</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">30</span><span class="">			goalTimer </span><span class="token operator">=</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">32</span><span class="">		</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">goalTimer </span><span class="token operator">&gt;</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class="">			level</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class="">			</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">level </span><span class="token operator">&gt;=</span><span class=""> levels</span><span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">35</span><span class="">				ws</span><span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">36</span><span class="">					</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;congrats&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">37</span><span class="">					</span><span class="token literal-property property">value</span><span class="token operator">:</span><span class=""> process</span><span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">GZCTF_FLAG</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">38</span><span class="">				</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">39</span><span class="">				ws</span><span class="token punctuation">.</span><span class="token method function property-access">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">40</span><span class="">				</span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">41</span><span class="">			</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">42</span><span class="">			goalTimer </span><span class="token operator">=</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">43</span><span class="">			gameState </span><span class="token operator">=</span><span class=""> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="">levels</span><span class="token punctuation">[</span><span class="">level</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">44</span><span class="">			</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">45</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">46</span><span class="">		ws</span><span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">47</span><span class="">			</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;ball&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">48</span><span class="">			</span><span class="token literal-property property">value</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">49</span><span class="">				</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">50</span><span class="">				</span><span class="token literal-property property">y</span><span class="token operator">:</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">51</span><span class="">				</span><span class="token literal-property property">moving</span><span class="token operator">:</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">+</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">&gt;</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">52</span><span class="">			</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">53</span><span class="">		</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">54</span><span class="">	</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">55</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">56</span><span class="">	ws</span><span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">57</span><span class="">		</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;start&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">58</span><span class="">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">59</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">60</span><span class="">	</span><span class="token keyword">function</span><span class=""> </span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">61</span><span class="">		ws</span><span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">62</span><span class="">			</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;colliders&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">63</span><span class="">			</span><span class="token literal-property property">value</span><span class="token operator">:</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">rects</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">64</span><span class="">		</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">65</span><span class="">		ws</span><span class="token punctuation">.</span><span class="token method function property-access">send</span><span class="token punctuation">(</span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">66</span><span class="">			</span><span class="token literal-property property">type</span><span class="token operator">:</span><span class=""> </span><span class="token string">&quot;flag&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">67</span><span class="">			</span><span class="token literal-property property">value</span><span class="token operator">:</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">goal</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">68</span><span class="">		</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">69</span><span class="">	</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">70</span><span class="">	</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">71</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">72</span><span class="">	ws</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token parameter">data</span><span class=""> </span><span class="token arrow operator">=&gt;</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">73</span><span class="">		</span><span class="token keyword">let</span><span class=""> parsed</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">74</span><span class="">		</span><span class="token keyword control-flow">try</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">75</span><span class="">			parsed </span><span class="token operator">=</span><span class=""> </span><span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span><span class="">data</span><span class="token punctuation">.</span><span class="token property-access">toString</span><span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">76</span><span class="">		</span><span class="token punctuation">}</span><span class=""> </span><span class="token keyword control-flow">catch</span><span class=""> </span><span class="token punctuation">(</span><span class="">e</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">77</span><span class="">		</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="">parsed</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">78</span>		
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">79</span><span class="">		</span><span class="token keyword control-flow">switch</span><span class=""> </span><span class="token punctuation">(</span><span class="">parsed</span><span class="token operator">?.</span><span class="">type</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">80</span><span class="">			</span><span class="token keyword">case</span><span class=""> </span><span class="token string">&quot;launch&quot;</span><span class="token operator">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">81</span><span class="">				</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="">parsed</span><span class="token operator">?.</span><span class="">value</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">82</span><span class="">				</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class=""> parsed</span><span class="token operator">?.</span><span class="">value</span><span class="token operator">?.</span><span class="">dx </span><span class="token operator">!==</span><span class=""> </span><span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">83</span><span class="">				</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class=""> parsed</span><span class="token operator">?.</span><span class="">value</span><span class="token operator">?.</span><span class="">dy </span><span class="token operator">!==</span><span class=""> </span><span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">84</span><span class="">				</span><span class="token function">launchBall</span><span class="token punctuation">(</span><span class="">gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">,</span><span class=""> parsed</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">85</span><span class="">			</span><span class="token keyword control-flow">break</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">86</span><span class="">			</span><span class="token keyword">case</span><span class=""> </span><span class="token string">&quot;cheat&quot;</span><span class="token operator">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">87</span><span class="">				gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class=""> </span><span class="token operator">=</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">goal</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">88</span><span class="">				gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class=""> </span><span class="token operator">=</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">goal</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">89</span><span class="">			</span><span class="token keyword control-flow">break</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">90</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">91</span><span class="">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">92</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">93</span><span class="">	ws</span><span class="token punctuation">.</span><span class="token method function property-access">on</span><span class="token punctuation">(</span><span class="token string">&quot;close&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class=""> </span><span class="token arrow operator">=&gt;</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">94</span><span class="">		</span><span class="token function">clearInterval</span><span class="token punctuation">(</span><span class="">interval</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">95</span><span class="">	</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">96</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">97</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">98</span><span class="">app</span><span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">(</span><span class="token parameter">req</span><span class="token parameter punctuation">,</span><span class="token parameter"> res</span><span class="token punctuation">)</span><span class="token arrow operator">=&gt;</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">99</span><span class="">	res</span><span class="token punctuation">.</span><span class="token method function property-access">sendFile</span><span class="token punctuation">(</span><span class="">path</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="">__dirname</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;public&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;index.html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">100</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">101</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">102</span><span class=""></span><span class="token keyword">const</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token number">30</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">103</span><span class=""></span><span class="token keyword">const</span><span class=""> </span><span class="token constant">MAX_SPEED</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token number">52</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">104</span><span class=""></span><span class="token keyword">const</span><span class=""> </span><span class="token constant">DECELERATION</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token number">0.985</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">105</span><span class=""></span><span class="token keyword">let</span><span class=""> levels </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">[</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">106</span><span class="">	</span><span class="token literal-property property">goal</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class=""> </span><span class="token literal-property property">x</span><span class="token operator">:</span><span class=""> </span><span class="token number">230</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">y</span><span class="token operator">:</span><span class=""> </span><span class="token number">420</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">r</span><span class="token operator">:</span><span class=""> </span><span class="token number">20</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">107</span><span class="">	</span><span class="token literal-property property">circle</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class=""> </span><span class="token literal-property property">x</span><span class="token operator">:</span><span class=""> </span><span class="token number">200</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">y</span><span class="token operator">:</span><span class=""> </span><span class="token number">200</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">dx</span><span class="token operator">:</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">dy</span><span class="token operator">:</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">r</span><span class="token operator">:</span><span class=""> </span><span class="token number">12</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">108</span><span class="">	</span><span class="token literal-property property">rects</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">109</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">500</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">1000</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">110</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">300</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">230</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">111</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">300</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">800</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">112</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">1150</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">480</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">113</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">1000</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">114</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">280</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">115</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">400</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">180</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">116</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">600</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">150</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">117</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">800</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">180</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">118</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">500</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">400</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">450</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">119</span><span class="">	</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">120</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">121</span><span class="">	</span><span class="token literal-property property">goal</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class=""> </span><span class="token literal-property property">x</span><span class="token operator">:</span><span class=""> </span><span class="token number">340</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">y</span><span class="token operator">:</span><span class=""> </span><span class="token number">425</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">r</span><span class="token operator">:</span><span class=""> </span><span class="token number">20</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">122</span><span class="">	</span><span class="token literal-property property">circle</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class=""> </span><span class="token literal-property property">x</span><span class="token operator">:</span><span class=""> </span><span class="token number">100</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">y</span><span class="token operator">:</span><span class=""> </span><span class="token number">100</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">dx</span><span class="token operator">:</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">dy</span><span class="token operator">:</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">r</span><span class="token operator">:</span><span class=""> </span><span class="token number">12</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">123</span><span class="">	</span><span class="token literal-property property">rects</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">124</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">1200</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">125</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">1200</span><span class=""> </span><span class="token operator">+</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">700</span><span class=""> </span><span class="token operator">+</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">126</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">700</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">127</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">750</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">1200</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">128</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">129</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">120</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">1130</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">130</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">1150</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">130</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">580</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">131</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">680</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">1050</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">132</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">200</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">500</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">133</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">134</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">200</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">980</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">135</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">1070</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">220</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">400</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">136</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">590</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">900</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">137</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">270</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">330</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">138</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">139</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">270</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">800</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">140</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">270</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">270</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">141</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">510</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">700</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">142</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">280</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">340</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">143</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">144</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">280</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">330</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">670</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">145</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">920</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">330</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">140</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">146</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">147</span><span class="">		</span><span class="token comment">// :3</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">148</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">370</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">390</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">25</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">149</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">370</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">440</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">25</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">150</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">420</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">370</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">60</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">151</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">460</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">370</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">25</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">110</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">152</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">420</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">415</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">60</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">153</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">420</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">460</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">65</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">25</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">154</span><span class="">	</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">155</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">156</span><span class="">	</span><span class="token literal-property property">goal</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class=""> </span><span class="token literal-property property">x</span><span class="token operator">:</span><span class=""> </span><span class="token number">1100</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">y</span><span class="token operator">:</span><span class=""> </span><span class="token number">630</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">r</span><span class="token operator">:</span><span class=""> </span><span class="token number">20</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">157</span><span class="">	</span><span class="token literal-property property">circle</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">{</span><span class=""> </span><span class="token literal-property property">x</span><span class="token operator">:</span><span class=""> </span><span class="token number">250</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">y</span><span class="token operator">:</span><span class=""> </span><span class="token number">250</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">dx</span><span class="token operator">:</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">dy</span><span class="token operator">:</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">,</span><span class=""> </span><span class="token literal-property property">r</span><span class="token operator">:</span><span class=""> </span><span class="token number">12</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">158</span><span class="">	</span><span class="token literal-property property">rects</span><span class="token operator">:</span><span class=""> </span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">159</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">400</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">160</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">400</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">420</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">161</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">350</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">162</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">450</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">50</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">380</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">163</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">164</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">700</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">100</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">200</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">165</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">700</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">700</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">500</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">166</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">700</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">100</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">600</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">167</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">900</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">100</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">450</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">168</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">900</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">530</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">300</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">169</span><span class="">		</span><span class="token punctuation">[</span><span class="token number">1200</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">530</span><span class="token punctuation">,</span><span class=""> </span><span class="token constant">WALL_THICKNESS</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">170</span><span class="">	</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">171</span><span class=""></span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">172</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">173</span><span class=""></span><span class="token keyword">function</span><span class=""> </span><span class="token function">circlesIntersecting</span><span class="token punctuation">(</span><span class="token parameter">circle1</span><span class="token parameter punctuation">,</span><span class="token parameter"> circle2</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">	
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">174</span><span class="">	</span><span class="token keyword control-flow">return</span><span class=""> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">sqrt</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="">circle2</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class=""> </span><span class="token operator">-</span><span class=""> circle1</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">**</span><span class=""> </span><span class="token number">2</span><span class=""> </span><span class="token operator">+</span><span class=""> </span><span class="token punctuation">(</span><span class="">circle2</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class=""> </span><span class="token operator">-</span><span class=""> circle1</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">**</span><span class=""> </span><span class="token number">2</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">&lt;=</span><span class=""> circle1</span><span class="token punctuation">.</span><span class="token property-access">r</span><span class=""> </span><span class="token operator">+</span><span class=""> circle2</span><span class="token punctuation">.</span><span class="token property-access">r</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">175</span><span class=""></span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">176</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">177</span><span class=""></span><span class="token keyword">function</span><span class=""> </span><span class="token function">launchBall</span><span class="token punctuation">(</span><span class="token parameter">circle</span><span class="token parameter punctuation">,</span><span class="token parameter"> vel</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">178</span><span class="">	</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">===</span><span class=""> </span><span class="token number">0</span><span class=""> </span><span class="token operator">&amp;&amp;</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">===</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">179</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">=</span><span class=""> vel</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">180</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">=</span><span class=""> vel</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">181</span><span class="">		</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">&gt;</span><span class=""> </span><span class="token constant">MAX_SPEED</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">182</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token constant">MAX_SPEED</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">183</span><span class="">		</span><span class="token punctuation">}</span><span class=""> </span><span class="token keyword control-flow">else</span><span class=""> </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">&lt;</span><span class=""> </span><span class="token operator">-</span><span class="token constant">MAX_SPEED</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">184</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token operator">-</span><span class="token constant">MAX_SPEED</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">185</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">186</span><span class="">		</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">&gt;</span><span class=""> </span><span class="token constant">MAX_SPEED</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">187</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token constant">MAX_SPEED</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">188</span><span class="">		</span><span class="token punctuation">}</span><span class=""> </span><span class="token keyword control-flow">else</span><span class=""> </span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">&lt;</span><span class=""> </span><span class="token operator">-</span><span class="token constant">MAX_SPEED</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">189</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token operator">-</span><span class="token constant">MAX_SPEED</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">190</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">191</span><span class="">	</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">192</span><span class=""></span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">193</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">194</span><span class=""></span><span class="token keyword">function</span><span class=""> </span><span class="token function">applyVelocity</span><span class="token punctuation">(</span><span class="token parameter">circle</span><span class="token parameter punctuation">,</span><span class="token parameter"> rects</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">195</span><span class="">	</span><span class="token keyword">let</span><span class=""> initialX </span><span class="token operator">=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">196</span><span class="">	</span><span class="token keyword">let</span><span class=""> initialY </span><span class="token operator">=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">197</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">198</span><span class="">	</span><span class="token keyword control-flow">while</span><span class=""> </span><span class="token punctuation">(</span><span class="">initialX </span><span class="token operator">===</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class=""> </span><span class="token operator">&amp;&amp;</span><span class=""> initialY </span><span class="token operator">===</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class=""> </span><span class="token operator">&amp;&amp;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">199</span><span class="">		</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">!==</span><span class=""> </span><span class="token number">0</span><span class=""> </span><span class="token operator">||</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">!==</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">200</span><span class="">		circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class=""> </span><span class="token operator">+=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">201</span><span class="">		circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class=""> </span><span class="token operator">+=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">202</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">203</span><span class="">		</span><span class="token keyword control-flow">for</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword">let</span><span class=""> rect </span><span class="token keyword">of</span><span class=""> rects</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">204</span><span class="">			</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token function">circleRectCollision</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">,</span><span class=""> rect</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">205</span><span class="">				circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class=""> </span><span class="token operator">=</span><span class=""> initialX</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">206</span><span class="">				circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class=""> </span><span class="token operator">=</span><span class=""> initialY</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">207</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">208</span><span class="">				</span><span class="token keyword control-flow">while</span><span class=""> </span><span class="token punctuation">(</span><span class="token function">circleRectCollision</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">,</span><span class=""> rect</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">209</span><span class="">					circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class=""> </span><span class="token operator">+=</span><span class=""> </span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">/</span><span class=""> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">*</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">r</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">210</span><span class="">					circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class=""> </span><span class="token operator">+=</span><span class=""> </span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">/</span><span class=""> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">*</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">r</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">211</span><span class="">				</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">212</span><span class="">			</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">213</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">214</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">215</span><span class="">		circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">*</span><span class=""> </span><span class="token constant">DECELERATION</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">216</span><span class="">		circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">*</span><span class=""> </span><span class="token constant">DECELERATION</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">217</span><span class="">		</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">*</span><span class=""> </span><span class="token constant">DECELERATION</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">&lt;</span><span class=""> </span><span class="token number">0.15</span><span class=""> </span><span class="token operator">&amp;&amp;</span><span class=""> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">abs</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">*</span><span class=""> </span><span class="token constant">DECELERATION</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">&lt;</span><span class=""> </span><span class="token number">0.15</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">218</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">219</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">=</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">220</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">221</span><span class="">	</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">222</span><span class=""></span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">223</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">224</span><span class=""></span><span class="token keyword">function</span><span class=""> </span><span class="token function">circleRectCollision</span><span class="token punctuation">(</span><span class="token parameter">circle</span><span class="token parameter punctuation">,</span><span class="token parameter"> rect</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">225</span><span class="">	</span><span class="token keyword">let</span><span class=""> closestX </span><span class="token operator">=</span><span class=""> </span><span class="token function">clamp</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">,</span><span class=""> rect</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class=""> rect</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class=""> </span><span class="token operator">+</span><span class=""> rect</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">226</span><span class="">	</span><span class="token keyword">let</span><span class=""> closestY </span><span class="token operator">=</span><span class=""> </span><span class="token function">clamp</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">,</span><span class=""> rect</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class=""> rect</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class=""> </span><span class="token operator">+</span><span class=""> rect</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">227</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">228</span><span class="">	</span><span class="token keyword">let</span><span class=""> distanceX </span><span class="token operator">=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class=""> </span><span class="token operator">-</span><span class=""> closestX</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">229</span><span class="">	</span><span class="token keyword">let</span><span class=""> distanceY </span><span class="token operator">=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class=""> </span><span class="token operator">-</span><span class=""> closestY</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">230</span><span class="">	</span><span class="token keyword">let</span><span class=""> distanceSquared </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">(</span><span class="">distanceX </span><span class="token operator">*</span><span class=""> distanceX</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">+</span><span class=""> </span><span class="token punctuation">(</span><span class="">distanceY </span><span class="token operator">*</span><span class=""> distanceY</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">231</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">232</span><span class="">	</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">distanceSquared </span><span class="token operator">&lt;</span><span class=""> </span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">r</span><span class=""> </span><span class="token operator">*</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">r</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">233</span><span class="">		</span><span class="token keyword">let</span><span class=""> distance </span><span class="token operator">=</span><span class=""> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">sqrt</span><span class="token punctuation">(</span><span class="">distanceSquared</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">234</span><span class="">		</span><span class="token keyword">let</span><span class=""> overlap </span><span class="token operator">=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">r</span><span class=""> </span><span class="token operator">-</span><span class=""> distance</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">235</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">236</span><span class="">		</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">distance </span><span class="token operator">&gt;</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">237</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class=""> </span><span class="token operator">+=</span><span class=""> overlap </span><span class="token operator">*</span><span class=""> </span><span class="token punctuation">(</span><span class="">distanceX </span><span class="token operator">/</span><span class=""> distance</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">238</span><span class="">			circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class=""> </span><span class="token operator">+=</span><span class=""> overlap </span><span class="token operator">*</span><span class=""> </span><span class="token punctuation">(</span><span class="">distanceY </span><span class="token operator">/</span><span class=""> distance</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">239</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">240</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">241</span><span class="">		</span><span class="token keyword">let</span><span class=""> velocityMagnitude </span><span class="token operator">=</span><span class=""> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">sqrt</span><span class="token punctuation">(</span><span class="">circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">*</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">+</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">*</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">242</span><span class="">		</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">velocityMagnitude </span><span class="token operator">&gt;</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">243</span><span class="">			</span><span class="token keyword">let</span><span class=""> normalX </span><span class="token operator">=</span><span class=""> distanceX </span><span class="token operator">/</span><span class=""> distance</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">244</span><span class="">			</span><span class="token keyword">let</span><span class=""> normalY </span><span class="token operator">=</span><span class=""> distanceY </span><span class="token operator">/</span><span class=""> distance</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">245</span><span class="">			</span><span class="token keyword">let</span><span class=""> dotProduct </span><span class="token operator">=</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">*</span><span class=""> normalX </span><span class="token operator">+</span><span class=""> circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">*</span><span class=""> normalY</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">246</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">247</span><span class="">			</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="">dotProduct </span><span class="token operator">&lt;</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">248</span><span class="">				circle</span><span class="token punctuation">.</span><span class="token property-access">dx</span><span class=""> </span><span class="token operator">-=</span><span class=""> </span><span class="token number">2</span><span class=""> </span><span class="token operator">*</span><span class=""> dotProduct </span><span class="token operator">*</span><span class=""> normalX</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">249</span><span class="">				circle</span><span class="token punctuation">.</span><span class="token property-access">dy</span><span class=""> </span><span class="token operator">-=</span><span class=""> </span><span class="token number">2</span><span class=""> </span><span class="token operator">*</span><span class=""> dotProduct </span><span class="token operator">*</span><span class=""> normalY</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">250</span><span class="">			</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">251</span><span class="">		</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">252</span><span class="">		</span><span class="token keyword control-flow">return</span><span class=""> </span><span class="token boolean">true</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">253</span><span class="">	</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">254</span><span class="">	</span><span class="token keyword control-flow">return</span><span class=""> </span><span class="token boolean">false</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">255</span><span class=""></span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">256</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">257</span><span class=""></span><span class="token keyword">function</span><span class=""> </span><span class="token function">clamp</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token parameter punctuation">,</span><span class="token parameter"> min</span><span class="token parameter punctuation">,</span><span class="token parameter"> max</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">258</span><span class="">	</span><span class="token keyword control-flow">return</span><span class=""> </span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">min</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span><span class="">value</span><span class="token punctuation">,</span><span class=""> min</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class=""> max</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">259</span><span class=""></span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">260</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">261</span><span class="">app</span><span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span><span class="">express</span><span class="token punctuation">.</span><span class="token method function property-access">static</span><span class="token punctuation">(</span><span class="">path</span><span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span><span class="">__dirname</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;public&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">262</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">263</span><span class="">server</span><span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token number">8080</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div>
<p>Looking at the server&#x27;s event handling logic,</p>
<div class="my-4"><p class="text-xs bg-black/10 rounded-t-lg px-4 py-0.5 text-secondary">Code<!-- --> (js)<!-- -->:<!-- --> <button class="hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">		</span><span class="token keyword control-flow">switch</span><span class=""> </span><span class="token punctuation">(</span><span class="">parsed</span><span class="token operator">?.</span><span class="">type</span><span class="token punctuation">)</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">			</span><span class="token keyword">case</span><span class=""> </span><span class="token string">&quot;launch&quot;</span><span class="token operator">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">				</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token operator">!</span><span class="">parsed</span><span class="token operator">?.</span><span class="">value</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">				</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class=""> parsed</span><span class="token operator">?.</span><span class="">value</span><span class="token operator">?.</span><span class="">dx </span><span class="token operator">!==</span><span class=""> </span><span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">				</span><span class="token keyword control-flow">if</span><span class=""> </span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class=""> parsed</span><span class="token operator">?.</span><span class="">value</span><span class="token operator">?.</span><span class="">dy </span><span class="token operator">!==</span><span class=""> </span><span class="token string">&quot;number&quot;</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword control-flow">return</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">				</span><span class="token function">launchBall</span><span class="token punctuation">(</span><span class="">gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">,</span><span class=""> parsed</span><span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">			</span><span class="token keyword control-flow">break</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">			</span><span class="token keyword">case</span><span class=""> </span><span class="token string">&quot;cheat&quot;</span><span class="token operator">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">				gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class=""> </span><span class="token operator">=</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">goal</span><span class="token punctuation">.</span><span class="token property-access">x</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">				gameState</span><span class="token punctuation">.</span><span class="token property-access">circle</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class=""> </span><span class="token operator">=</span><span class=""> gameState</span><span class="token punctuation">.</span><span class="token property-access">goal</span><span class="token punctuation">.</span><span class="token property-access">y</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">			</span><span class="token keyword control-flow">break</span><span class="token punctuation">;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">		</span><span class="token punctuation">}</span></code></pre></div></div>
<p>we just cheat 3 times to get the flag.</p>
<p><img src="https://gist.github.com/assets/60120929/f5009019-98d8-491d-9570-49ed41da4b56" alt="image"/></p>
<div class="my-4"><p class="text-xs bg-black/10 rounded-t-lg px-4 py-0.5 text-secondary">Code<!-- -->:<!-- --> <button class="hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">Thank you so much a for to playing my game! sdctf{i&#x27;m in your walls dfe6e287-73a9-4d0d-9386-ffa8258a8b69}</span></code></pre></div></div></main></div><!--$--><!--/$--><!--$--><!--/$--></main><script src="/_next/static/chunks/webpack-50d183473e3f8178.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[87555,[],\"\"]\n3:I[31295,[],\"\"]\n4:I[6874,[\"874\",\"static/chunks/874-c62c375efd21db20.js\",\"319\",\"static/chunks/app/writeups/layout-6eb8da7f54d57912.js\"],\"\"]\n6:I[59665,[],\"MetadataBoundary\"]\n8:I[59665,[],\"OutletBoundary\"]\nb:I[74911,[],\"AsyncMetadataOutlet\"]\nd:I[59665,[],\"ViewportBoundary\"]\nf:I[26614,[],\"\"]\n:HL[\"/_next/static/media/a34f9d1faa5f3315-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/50c8c99451c00ad5.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"2UVIHC1o6_iywyV4NYPf-\",\"p\":\"\",\"c\":[\"\",\"writeups\",\"dcd9fcad9f92264d79708255e6f15e70\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"writeups\",{\"children\":[[\"id\",\"dcd9fcad9f92264d79708255e6f15e70\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/50c8c99451c00ad5.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"className\":\"dark scroll-smooth\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}]}],[\"$\",\"body\",null,{\"className\":\"text-dark dark:text-white dark:bg-midnight\",\"style\":{\"fontFamily\":\"'Inter', 'Inter Fallback'\",\"fontStyle\":\"normal\"},\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"h-screen flex items-center justify-center\",\"children\":[\"$\",\"main\",null,{\"className\":\"relative pl-14\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"absolute left-0 top-2 text-5xl text-grapefruit\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z\",\"children\":\"$undefined\"}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"h1\",null,{\"className\":\"font-bold text-7xl underline decoration-grapefruit mb-5\",\"children\":\"404.\"}],[\"$\",\"p\",null,{\"children\":\"Your requested page was not found.\"}],[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"font-medium text-inherit\",\"children\":\"Return to home ‚Üí\"}]]}]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[\"writeups\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"main\",null,{\"className\":\"container pt-20 pb-24\",\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"text-secondary text-sm mb-10 -ml-5 block w-max\",\"children\":\"‚Üê Back to home\"}],[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]]}],{\"children\":[[\"id\",\"dcd9fcad9f92264d79708255e6f15e70\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[\"$\",\"$L6\",null,{\"children\":\"$L7\"}],null,[\"$\",\"$L8\",null,{\"children\":[\"$L9\",\"$La\",[\"$\",\"$Lb\",null,{\"promise\":\"$@c\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"P0ll32ffZ1YVL-W3YB0lM\",{\"children\":[[\"$\",\"$Ld\",null,{\"children\":\"$Le\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"10:\"$Sreact.suspense\"\n11:I[74911,[],\"AsyncMetadata\"]\n7:[\"$\",\"$10\",null,{\"fallback\":null,\"children\":[\"$\",\"$L11\",null,{\"promise\":\"$@12\"}]}]\n"])</script><script>self.__next_f.push([1,"a:null\n"])</script><script>self.__next_f.push([1,"e:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n9:null\n"])</script><script>self.__next_f.push([1,"12:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"kevin.fish\"}]],\"error\":null,\"digest\":\"$undefined\"}\nc:{\"metadata\":\"$12:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"13:I[50674,[\"325\",\"static/chunks/325-8cc74193b249521f.js\",\"134\",\"static/chunks/app/writeups/%5Bid%5D/page-b6fc1eb85fdc5690.js\"],\"default\"]\n14:T19bb,"])</script><script>self.__next_f.push([1,"const express = require(\"express\");\nconst http = require(\"http\");\nconst app = express();\nconst path = require(\"path\");\nconst { WebSocketServer } = require(\"ws\");\nconst {readFileSync} = require(\"fs\");\n\nconst server = http.createServer(app);\n\nconst wss = new WebSocketServer({server: server});\n\nconst FLAG = readFileSync(path.join(__dirname, \"flag.txt\")).toString();\n\nwss.on(\"connection\", ws =\u003e {\n\tconsole.log(\"New connection!\");\n\tlet level = 0;\n\tlet gameState = JSON.parse(JSON.stringify(levels[level]));\n\tlet interval = setInterval(physicsLoop, 20);\n\tlet goalTimer = 0;\n\n\tfunction physicsLoop() {\n\t\tapplyVelocity(gameState.circle, gameState.rects);\n\n\t\tfor (let obj of gameState.rects) {\n\t\t\tcircleRectCollision(gameState.circle, obj);\n\t\t}\n\t\tif (circlesIntersecting(gameState.goal, gameState.circle)) {\n\t\t\tgoalTimer++;\n\t\t} else {\n\t\t\tgoalTimer = 0;\n\t\t}\n\t\tif (goalTimer \u003e 50) {\n\t\t\tlevel++;\n\t\t\tif (level \u003e= levels.length) {\n\t\t\t\tws.send(JSON.stringify({\n\t\t\t\t\ttype: \"congrats\",\n\t\t\t\t\tvalue: process.env.GZCTF_FLAG\n\t\t\t\t}));\n\t\t\t\tws.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgoalTimer = 0;\n\t\t\tgameState = JSON.parse(JSON.stringify(levels[level]));\n\t\t\tinit();\n\t\t}\n\t\tws.send(JSON.stringify({\n\t\t\ttype: \"ball\",\n\t\t\tvalue: {\n\t\t\t\tx: gameState.circle.x,\n\t\t\t\ty: gameState.circle.y,\n\t\t\t\tmoving: gameState.circle.dx + gameState.circle.dy \u003e 0\n\t\t\t}\n\t\t}));\n\t}\n\n\tws.send(JSON.stringify({\n\t\ttype: \"start\"\n\t}));\n\n\tfunction init() {\n\t\tws.send(JSON.stringify({\n\t\t\ttype: \"colliders\",\n\t\t\tvalue: gameState.rects\n\t\t}));\n\t\tws.send(JSON.stringify({\n\t\t\ttype: \"flag\",\n\t\t\tvalue: gameState.goal\n\t\t}));\n\t}\n\tinit();\n\n\tws.on(\"message\", data =\u003e {\n\t\tlet parsed;\n\t\ttry {\n\t\t\tparsed = JSON.parse(data.toString?.());\n\t\t} catch (e) {}\n\t\tif (!parsed) return;\n\t\t\n\t\tswitch (parsed?.type) {\n\t\t\tcase \"launch\":\n\t\t\t\tif (!parsed?.value) return;\n\t\t\t\tif (typeof parsed?.value?.dx !== \"number\") return;\n\t\t\t\tif (typeof parsed?.value?.dy !== \"number\") return;\n\t\t\t\tlaunchBall(gameState.circle, parsed.value);\n\t\t\tbreak;\n\t\t\tcase \"cheat\":\n\t\t\t\tgameState.circle.x = gameState.goal.x;\n\t\t\t\tgameState.circle.y = gameState.goal.y;\n\t\t\tbreak;\n\t\t}\n\t});\n\n\tws.on(\"close\", () =\u003e {\n\t\tclearInterval(interval);\n\t});\n})\n\napp.get(\"/\", (req, res)=\u003e{\n\tres.sendFile(path.join(__dirname, \"public\", \"index.html\"))\n});\n\nconst WALL_THICKNESS = 30;\nconst MAX_SPEED = 52;\nconst DECELERATION = 0.985;\nlet levels = [{\n\tgoal: { x: 230, y: 420, r: 20 },\n\tcircle: { x: 200, y: 200, dx: 0, dy: 0, r: 12 },\n\trects: [\n\t\t[150, 500, 1000, WALL_THICKNESS],\n\t\t[150, 300, WALL_THICKNESS, 230],\n\t\t[150, 300, 800, WALL_THICKNESS],\n\t\t[1150, 50, WALL_THICKNESS, 480],\n\t\t[150, 50, 1000, WALL_THICKNESS],\n\t\t[150, 50, WALL_THICKNESS, 280],\n\t\t[400, 50, WALL_THICKNESS, 180],\n\t\t[600, 150, WALL_THICKNESS, 150],\n\t\t[800, 50, WALL_THICKNESS, 180],\n\t\t[500, 400, 450, WALL_THICKNESS]\n\t]\n},{\n\tgoal: { x: 340, y: 425, r: 20 },\n\tcircle: { x: 100, y: 100, dx: 0, dy: 0, r: 12 },\n\trects: [\n\t\t[50, 50, 1200, WALL_THICKNESS],\n\t\t[1200 + WALL_THICKNESS, 50, WALL_THICKNESS, 700 + WALL_THICKNESS],\n\t\t[50, 50, WALL_THICKNESS, 700],\n\t\t[50, 750, 1200, WALL_THICKNESS],\n\n\t\t[50, 120, 1130, WALL_THICKNESS],\n\t\t[1150, 130, WALL_THICKNESS, 580],\n\t\t[120, 680, 1050, WALL_THICKNESS],\n\t\t[120, 200, WALL_THICKNESS, 500],\n\n\t\t[120, 200, 980, WALL_THICKNESS],\n\t\t[1070, 220, WALL_THICKNESS, 400],\n\t\t[200, 590, 900, WALL_THICKNESS],\n\t\t[200, 270, WALL_THICKNESS, 330],\n\n\t\t[200, 270, 800, WALL_THICKNESS],\n\t\t[1000, 270, WALL_THICKNESS, 270],\n\t\t[300, 510, 700, WALL_THICKNESS],\n\t\t[280, 340, WALL_THICKNESS, 200],\n\n\t\t[280, 330, 670, WALL_THICKNESS],\n\t\t[920, 330, WALL_THICKNESS, 140],\n\n\t\t// :3\n\t\t[370, 390, 25, 25],\n\t\t[370, 440, 25, 25],\n\t\t[420, 370, 60, 25],\n\t\t[460, 370, 25, 110],\n\t\t[420, 415, 60, 25],\n\t\t[420, 460, 65, 25],\n\t]\n},{\n\tgoal: { x: 1100, y: 630, r: 20 },\n\tcircle: { x: 250, y: 250, dx: 0, dy: 0, r: 12 },\n\trects: [\n\t\t[50, 50, 400, WALL_THICKNESS],\n\t\t[50, 400, 420, WALL_THICKNESS],\n\t\t[50, 50, WALL_THICKNESS, 350],\n\t\t[450, 50, WALL_THICKNESS, 380],\n\n\t\t[700, 100, 200, WALL_THICKNESS],\n\t\t[700, 700, 500, WALL_THICKNESS],\n\t\t[700, 100, WALL_THICKNESS, 600],\n\t\t[900, 100, WALL_THICKNESS, 450],\n\t\t[900, 530, 300, WALL_THICKNESS],\n\t\t[1200, 530, WALL_THICKNESS, 200],\n\t]\n}];\n\nfunction circlesIntersecting(circle1, circle2) {\t\n\treturn Math.sqrt((circle2.x - circle1.x) ** 2 + (circle2.y - circle1.y) ** 2) \u003c= circle1.r + circle2.r;\n}\n\nfunction launchBall(circle, vel) {\n\tif (circle.dx === 0 \u0026\u0026 circle.dy === 0) {\n\t\t\tcircle.dx = vel.dx;\n\t\t\tcircle.dy = vel.dy;\n\t\tif (circle.dx \u003e MAX_SPEED) {\n\t\t\tcircle.dx = MAX_SPEED;\n\t\t} else if (circle.dx \u003c -MAX_SPEED) {\n\t\t\tcircle.dx = -MAX_SPEED;\n\t\t}\n\t\tif (circle.dy \u003e MAX_SPEED) {\n\t\t\tcircle.dy = MAX_SPEED;\n\t\t} else if (circle.dy \u003c -MAX_SPEED) {\n\t\t\tcircle.dy = -MAX_SPEED;\n\t\t}\n\t}\n}\n\nfunction applyVelocity(circle, rects) {\n\tlet initialX = circle.x;\n\tlet initialY = circle.y;\n\n\twhile (initialX === circle.x \u0026\u0026 initialY === circle.y \u0026\u0026\n\t\t(circle.dy !== 0 || circle.dx !== 0)) {\n\t\tcircle.x += circle.dx;\n\t\tcircle.y += circle.dy;\n\n\t\tfor (let rect of rects) {\n\t\t\tif (circleRectCollision(circle, rect)) {\n\t\t\t\tcircle.x = initialX;\n\t\t\t\tcircle.y = initialY;\n\n\t\t\t\twhile (circleRectCollision(circle, rect)) {\n\t\t\t\t\tcircle.x += (circle.dx / Math.abs(circle.dx)) * circle.r;\n\t\t\t\t\tcircle.y += (circle.dy / Math.abs(circle.dy)) * circle.r;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tcircle.dx = circle.dx * DECELERATION;\n\t\tcircle.dy = circle.dy * DECELERATION;\n\t\tif (Math.abs(circle.dx * DECELERATION) \u003c 0.15 \u0026\u0026 Math.abs(circle.dy * DECELERATION) \u003c 0.15) {\n\t\t\tcircle.dx = 0;\n\t\t\tcircle.dy = 0;\n\t\t}\n\t}\n}\n\nfunction circleRectCollision(circle, rect) {\n\tlet closestX = clamp(circle.x, rect[0], rect[0] + rect[2]);\n\tlet closestY = clamp(circle.y, rect[1], rect[1] + rect[3]);\n\n\tlet distanceX = circle.x - closestX;\n\tlet distanceY = circle.y - closestY;\n\tlet distanceSquared = (distanceX * distanceX) + (distanceY * distanceY);\n\n\tif (distanceSquared \u003c (circle.r * circle.r)) {\n\t\tlet distance = Math.sqrt(distanceSquared);\n\t\tlet overlap = circle.r - distance;\n\n\t\tif (distance \u003e 0) {\n\t\t\tcircle.x += overlap * (distanceX / distance);\n\t\t\tcircle.y += overlap * (distanceY / distance);\n\t\t}\n\n\t\tlet velocityMagnitude = Math.sqrt(circle.dx * circle.dx + circle.dy * circle.dy);\n\t\tif (velocityMagnitude \u003e 0) {\n\t\t\tlet normalX = distanceX / distance;\n\t\t\tlet normalY = distanceY / distance;\n\t\t\tlet dotProduct = circle.dx * normalX + circle.dy * normalY;\n\n\t\t\tif (dotProduct \u003c 0) {\n\t\t\t\tcircle.dx -= 2 * dotProduct * normalX;\n\t\t\t\tcircle.dy -= 2 * dotProduct * normalY;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nfunction clamp(value, min, max) {\n\treturn Math.min(Math.max(value, min), max);\n}\n\napp.use(express.static(path.join(__dirname, \"public\")))\n\nserver.listen(8080);"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"children\":[\"$\",\"main\",null,{\"className\":\"max-w-5xl mx-auto text-sm [\u0026_h1]:text-5xl [\u0026_h1]:font-semibold [\u0026_h1]:mb-8 [\u0026_blockquote]:text-secondary [\u0026_blockquote]:space-y-3 [\u0026_blockquote]:border-l-4 [\u0026_blockquote]:border-secondary [\u0026_blockquote]:pl-5 [\u0026_blockquote]:mb-5 [\u0026\u003e_p]:my-3 [\u0026_img]:my-5 [\u0026_ul]:list-disc [\u0026_ul]:pl-6 [\u0026_img]:rounded [\u0026_li]:my-2\",\"children\":[[\"$\",\"h1\",\"h1-0\",{\"children\":\"San Diego CTF 2024 ‚Äî impossible-golf\"}],\"\\n\",[\"$\",\"blockquote\",\"blockquote-0\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"I found this golf game online but the third level is so hard üò©üò©\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":\"See if you can beat it!\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"We're given a golf minigame that looks like this:\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"https://gist.github.com/assets/60120929/893f7ccc-c3de-484c-8904-90e96d38422b\",\"alt\":\"image\"}]}],\"\\n\",[\"$\",\"p\",\"p-2\",{\"children\":[\"We can see that the client makes a WebSocket connection to the remote server, sending \",[\"$\",\"code\",\"code-0\",{\"className\":\"text-primary bg-black/20 rounded p-1\",\"children\":\"launch\"}],\" events whenever the user hits the ball.\"]}],\"\\n\",[\"$\",\"p\",\"p-3\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"https://gist.github.com/assets/60120929/5d954629-5eba-4dfd-819b-6bf247dcdcc7\",\"alt\":\"image\"}]}],\"\\n\",[\"$\",\"p\",\"p-4\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"https://gist.github.com/assets/60120929/405a74af-8309-4b4a-8ff6-1d44e1c64b6e\",\"alt\":\"image\"}]}],\"\\n\",[\"$\",\"p\",\"p-5\",{\"children\":\"Unfortunately, as the challenge description suggests, we'll realize when we hit level 3 that the game was rigged from the start:\"}],\"\\n\",[\"$\",\"p\",\"p-6\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"https://gist.github.com/assets/60120929/c5d937b4-0df6-404e-a640-e429e0bbdce7\",\"alt\":\"image\"}]}],\"\\n\",[\"$\",\"p\",\"p-7\",{\"children\":\"Sadly, this challenge is truly impossible without server source. Luckily, just a few hours later we're given exactly that!\"}],\"\\n\",[\"$\",\"$L13\",\"pre-0\",{\"className\":\"my-4\",\"children\":\"$14\",\"language\":\"js\"}],\"\\n\",[\"$\",\"p\",\"p-8\",{\"children\":\"Looking at the server's event handling logic,\"}],\"\\n\",[\"$\",\"$L13\",\"pre-1\",{\"className\":\"my-4\",\"children\":\"\\t\\tswitch (parsed?.type) {\\n\\t\\t\\tcase \\\"launch\\\":\\n\\t\\t\\t\\tif (!parsed?.value) return;\\n\\t\\t\\t\\tif (typeof parsed?.value?.dx !== \\\"number\\\") return;\\n\\t\\t\\t\\tif (typeof parsed?.value?.dy !== \\\"number\\\") return;\\n\\t\\t\\t\\tlaunchBall(gameState.circle, parsed.value);\\n\\t\\t\\tbreak;\\n\\t\\t\\tcase \\\"cheat\\\":\\n\\t\\t\\t\\tgameState.circle.x = gameState.goal.x;\\n\\t\\t\\t\\tgameState.circle.y = gameState.goal.y;\\n\\t\\t\\tbreak;\\n\\t\\t}\",\"language\":\"js\"}],\"\\n\",[\"$\",\"p\",\"p-9\",{\"children\":\"we just cheat 3 times to get the flag.\"}],\"\\n\",[\"$\",\"p\",\"p-10\",{\"children\":[\"$\",\"img\",\"img-0\",{\"src\":\"https://gist.github.com/assets/60120929/f5009019-98d8-491d-9570-49ed41da4b56\",\"alt\":\"image\"}]}],\"\\n\",[\"$\",\"$L13\",\"pre-2\",{\"className\":\"my-4\",\"children\":\"Thank you so much a for to playing my game! sdctf{i'm in your walls dfe6e287-73a9-4d0d-9386-ffa8258a8b69}\",\"language\":\"$undefined\"}]]}]}]\n"])</script></body></html>