<!DOCTYPE html><!--rFWnCHv7hmmB4I4HOE6cZ--><html class="dark scroll-smooth jetbrains_mono_cc80ae23-module__2tkX8G__variable"><head><meta charSet="utf-8"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/70bc3e132a0a741e-s.p.15008bfb.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/83afe278b6a6bb3c-s.p.3a6ba036.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/chunks/5ff2844ed613b929.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/f94e73be74b0c78c.js"/><script src="/_next/static/chunks/83314926b1bb0150.js" async=""></script><script src="/_next/static/chunks/caceb1adb687099b.js" async=""></script><script src="/_next/static/chunks/fbc8738301a445a5.js" async=""></script><script src="/_next/static/chunks/turbopack-f324ea70d879aed9.js" async=""></script><script src="/_next/static/chunks/ff1a16fafef87110.js" async=""></script><script src="/_next/static/chunks/b71c1cfea9076b4b.js" async=""></script><script src="/_next/static/chunks/b9afcb09c56609a6.js" async=""></script><script src="/_next/static/chunks/59d5dd52dd9fcb16.js" async=""></script><script src="/_next/static/chunks/0eb309e820c00a6d.js" async=""></script><script src="/_next/static/chunks/116d3b69f07f8eb7.js" async=""></script><script src="/_next/static/chunks/39b99946d2be6a43.js" async=""></script><meta name="next-size-adjust" content=""/><title>m0leCon Teaser CTF 2025 — Precipice | kevin.fish</title><meta name="description" content="Have you ever played bala...precipice???"/><meta property="og:title" content="m0leCon Teaser CTF 2025 — Precipice"/><meta property="og:description" content="Have you ever played bala...precipice???"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="m0leCon Teaser CTF 2025 — Precipice"/><meta name="twitter:description" content="Have you ever played bala...precipice???"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="text-dark dark:text-white dark:bg-midnight" style="font-family:&#x27;Inter&#x27;, &#x27;Inter Fallback&#x27;;font-style:normal"><div hidden=""><!--$--><!--/$--></div><main class="container pt-20 pb-24"><a class="text-secondary text-sm mb-10 -ml-5 block w-max" href="/writeups">← Back to writeups</a><div><main class="text-pretty max-w-5xl mx-auto text-sm [&amp;_h1]:text-5xl [&amp;_h1]:font-semibold [&amp;_h1]:mb-8 [&amp;_blockquote]:text-secondary [&amp;_blockquote]:space-y-3 [&amp;_blockquote]:border-l-4 [&amp;_blockquote]:border-secondary [&amp;_blockquote]:pl-5 [&amp;_blockquote]:mb-5 [&amp;&gt;_p]:my-4 [&amp;_img]:my-5 [&amp;_ul]:list-disc [&amp;_ul]:pl-6 [&amp;_ol]:list-decimal [&amp;_ol]:pl-6 [&amp;_img]:rounded [&amp;_li]:my-2"><h1>m0leCon Teaser CTF 2025 — Precipice</h1>
<blockquote>
<p>Have you ever played bala...precipice???</p>
<p><code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">nc precipice.challs.m0lecon.it 14615</code></p>
</blockquote>
<p>We&#x27;re given a lengthy Python interface that looks like this:</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token comment">#!/usr/bin/env python3</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class=""></span><span class="token keyword">from</span><span class=""> numpy </span><span class="token keyword">import</span><span class=""> float32
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class=""></span><span class="token keyword">from</span><span class=""> game_state </span><span class="token keyword">import</span><span class=""> GameState
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class=""></span><span class="token keyword">from</span><span class=""> scoring </span><span class="token keyword">import</span><span class=""> base_scores
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class=""></span><span class="token keyword">def</span><span class=""> </span><span class="token function">play_round</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">    </span><span class="token keyword">assert</span><span class=""> </span><span class="token keyword">not</span><span class=""> state</span><span class="token punctuation">.</span><span class="">round_over
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">    last_cmd </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">    </span><span class="token keyword">try</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">        </span><span class="token keyword">while</span><span class=""> </span><span class="token keyword">not</span><span class=""> state</span><span class="token punctuation">.</span><span class="">round_over</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">            ts </span><span class="token operator">=</span><span class=""> </span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">            </span><span class="token keyword">if</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">ts</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">                ts </span><span class="token operator">=</span><span class=""> last_cmd
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">            </span><span class="token keyword">for</span><span class=""> t </span><span class="token keyword">in</span><span class=""> ts</span><span class="token punctuation">.</span><span class="">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">                </span><span class="token keyword">if</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">t</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">                    </span><span class="token keyword">continue</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">                </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;?&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;h&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;help&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">                    </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">                        </span><span class="token string">&quot; \&quot;?\&quot; or \&quot;h\&quot; or \&quot;help\&quot; to show this message&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">                        </span><span class="token string">&quot; \&quot;v\&quot; or \&quot;verbose\&quot; to toggle verbose ui&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">24</span><span class="">                        </span><span class="token string">&quot; \&quot;s\&quot; or \&quot;sort\&quot; to toggle sorting by rank or by suit&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="">                        </span><span class="token string">&quot; &lt;a number&gt; to select card by number&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">                        </span><span class="token string">&quot; \&quot;p\&quot; or \&quot;play\&quot; to play hand&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">                        </span><span class="token string">&quot; \&quot;d\&quot; or \&quot;discard\&quot; to discard hand&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">                        </span><span class="token string">&quot; \&quot;a\&quot; or \&quot;ability\&quot; to see the jokers abilities&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">29</span><span class="">                        </span><span class="token string">&quot; \&quot;l\&quot; or \&quot;level\&quot; to see hand level and scoring&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">30</span><span class="">                        sep</span><span class="token operator">=</span><span class="token string">&quot;\n&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="">                    </span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">32</span><span class="">                </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;v&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;verbose&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class="">                    state</span><span class="token punctuation">.</span><span class="">toggle_verbose_ui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class="">                </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;sort&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">35</span><span class="">                    state</span><span class="token punctuation">.</span><span class="">toggle_sorting_order</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">36</span><span class="">                </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;play&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">37</span><span class="">                    state</span><span class="token punctuation">.</span><span class="">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">38</span><span class="">                </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;d&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;discard&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">39</span><span class="">                    state</span><span class="token punctuation">.</span><span class="">discard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">40</span><span class="">                </span><span class="token keyword">elif</span><span class=""> t</span><span class="token punctuation">.</span><span class="">isdecimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">41</span><span class="">                    state</span><span class="token punctuation">.</span><span class="">select</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="">t</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">42</span><span class="">                </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;ability&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">43</span><span class="">                    </span><span class="token keyword">for</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> j </span><span class="token keyword">in</span><span class=""> </span><span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">.</span><span class="">jokers</span><span class="token punctuation">,</span><span class=""> start</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">44</span><span class="">                        </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">45</span><span class="">                            </span><span class="token string-interpolation string">f&quot; -</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">i</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">: </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">j</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">: </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">j</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">description</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string"> </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">j</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">currently</span><span class="token string-interpolation interpolation punctuation">(</span><span class="token string-interpolation interpolation">state</span><span class="token string-interpolation interpolation punctuation">)</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">46</span><span class="">                </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;l&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;level&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">47</span><span class="">                    </span><span class="token keyword">for</span><span class=""> hand_type </span><span class="token keyword">in</span><span class=""> base_scores</span><span class="token punctuation">.</span><span class="">keys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">48</span><span class="">                        hand_level </span><span class="token operator">=</span><span class=""> state</span><span class="token punctuation">.</span><span class="">hand_levels</span><span class="token punctuation">[</span><span class="">hand_type</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">49</span><span class="">                        chips</span><span class="token punctuation">,</span><span class=""> mult </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">50</span><span class="">                            b </span><span class="token operator">*</span><span class=""> hand_level </span><span class="token keyword">for</span><span class=""> b </span><span class="token keyword">in</span><span class=""> base_scores</span><span class="token punctuation">[</span><span class="">hand_type</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">51</span><span class="">                        </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot; </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">hand_type</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">: </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">hand_level</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">: $</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">chips</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string"> X</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">mult</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">52</span><span class="">                </span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">53</span><span class="">                    </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot;command not supported: </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">t</span><span class="token string-interpolation interpolation conversion-option punctuation">!r</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">54</span><span class="">            last_cmd </span><span class="token operator">=</span><span class=""> ts
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">55</span><span class="">    </span><span class="token keyword">except</span><span class=""> KeyboardInterrupt</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">56</span><span class="">        </span><span class="token keyword">pass</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">57</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">58</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">59</span><span class=""></span><span class="token keyword">def</span><span class=""> </span><span class="token function">play_game</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">60</span><span class="">    state</span><span class="token punctuation">.</span><span class="">in_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">61</span><span class="">    last_cmd </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">62</span><span class="">    </span><span class="token keyword">try</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">63</span><span class="">        </span><span class="token keyword">while</span><span class=""> </span><span class="token keyword">not</span><span class=""> state</span><span class="token punctuation">.</span><span class="">game_over</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">64</span><span class="">            t </span><span class="token operator">=</span><span class=""> </span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">&quot;&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">strip</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">65</span><span class="">            </span><span class="token keyword">if</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">t</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">66</span><span class="">                t </span><span class="token operator">=</span><span class=""> last_cmd
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">67</span><span class="">            </span><span class="token keyword">if</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;?&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;h&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;help&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">68</span><span class="">                </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">69</span><span class="">                    </span><span class="token string">&quot; \&quot;?\&quot; or \&quot;h\&quot; or \&quot;help\&quot; to show this message&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">70</span><span class="">                    </span><span class="token string">&quot; \&quot;v\&quot; or \&quot;verbose\&quot; to toggle verbose ui&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">71</span><span class="">                    </span><span class="token string">&quot; \&quot;p\&quot; or \&quot;play\&quot; to buy in and play the next ante&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">72</span><span class="">                    </span><span class="token string">&quot; \&quot;f\&quot; or \&quot;forfit\&quot; to forfit (Loser)&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">73</span><span class="">                    </span><span class="token string-interpolation string">f&quot; \&quot;r\&quot; or \&quot;reroll\&quot; to reroll the shop ($</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">state</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">reroll_shop_price</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">)&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">74</span><span class="">                    </span><span class="token string">&quot; &lt;a number&gt; to select shop joker by number&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">75</span><span class="">                    </span><span class="token string">&quot; \&quot;b\&quot; or \&quot;buy\&quot; to buy select jokers&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">76</span><span class="">                    </span><span class="token string">&quot; -&lt;a number&gt; to select owned joker by number&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">77</span><span class="">                    </span><span class="token string">&quot; \&quot;s\&quot; or \&quot;sell\&quot; to sell select jokers&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">78</span><span class="">                    sep</span><span class="token operator">=</span><span class="token string">&quot;\n&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">79</span><span class="">                </span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">80</span><span class="">            </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;v&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;verbose&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">81</span><span class="">                state</span><span class="token punctuation">.</span><span class="">toggle_verbose_ui</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">82</span><span class="">            </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;p&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;play&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">83</span><span class="">                state</span><span class="token punctuation">.</span><span class="">out_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">84</span><span class="">                state</span><span class="token punctuation">.</span><span class="">buy_in</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">85</span><span class="">                play_round</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">86</span><span class="">                state</span><span class="token punctuation">.</span><span class="">round_ended</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">87</span><span class="">                state</span><span class="token punctuation">.</span><span class="">in_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">88</span><span class="">            </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;f&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;forfit&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">89</span><span class="">                state</span><span class="token punctuation">.</span><span class="">quit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">90</span><span class="">                </span><span class="token keyword">break</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">91</span><span class="">            </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;reroll&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">92</span><span class="">                state</span><span class="token punctuation">.</span><span class="">reroll_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">93</span><span class="">            </span><span class="token keyword">elif</span><span class=""> t</span><span class="token punctuation">.</span><span class="">isdecimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">94</span><span class="">                state</span><span class="token punctuation">.</span><span class="">select_shop_joker</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="">t</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">95</span><span class="">            </span><span class="token keyword">elif</span><span class=""> t</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token string">&quot;-&quot;</span><span class=""> </span><span class="token keyword">and</span><span class=""> t</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="">isdecimal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">96</span><span class="">                state</span><span class="token punctuation">.</span><span class="">select_joker</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="">t</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">97</span><span class="">            </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;buy&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">98</span><span class="">                state</span><span class="token punctuation">.</span><span class="">buy_jokers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">99</span><span class="">            </span><span class="token keyword">elif</span><span class=""> t </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">{</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;sell&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">}</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">100</span><span class="">                state</span><span class="token punctuation">.</span><span class="">sell_jokers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">101</span><span class="">            </span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">102</span><span class="">                </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot;command not supported: </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">t</span><span class="token string-interpolation interpolation conversion-option punctuation">!r</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">103</span><span class="">            last_cmd </span><span class="token operator">=</span><span class=""> t
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">104</span><span class="">    </span><span class="token keyword">except</span><span class=""> KeyboardInterrupt</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">105</span><span class="">        </span><span class="token keyword">pass</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">106</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">107</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">108</span><span class=""></span><span class="token keyword">if</span><span class=""> __name__ </span><span class="token operator">==</span><span class=""> </span><span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">109</span><span class="">    state </span><span class="token operator">=</span><span class=""> GameState</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">110</span><span class="">        initial_score</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">111</span><span class="">        initial_hands</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">112</span><span class="">        initial_discards</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">113</span><span class="">    </span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">114</span><span class="">    play_game</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span></code></pre></div></div>
<p>Reading through the source code, it looks like the server implements a game similar to Balatro, and the goal is to beat the last ante for the flag:</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">   </span><span class="token decorator annotation punctuation">@renders</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">round_ended</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">        </span><span class="token keyword">assert</span><span class=""> </span><span class="token keyword">not</span><span class=""> self</span><span class="token punctuation">.</span><span class="">game_over
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">        </span><span class="token keyword">assert</span><span class=""> self</span><span class="token punctuation">.</span><span class="">round_over
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">        </span><span class="token keyword">assert</span><span class=""> self</span><span class="token punctuation">.</span><span class="">hand </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">current_ante </span><span class="token operator">==</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">.</span><span class="">antes</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">-</span><span class=""> </span><span class="token number">1</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">            </span><span class="token keyword">import</span><span class=""> os
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">            </span><span class="token comment"># import sys</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">            self</span><span class="token punctuation">.</span><span class="">header </span><span class="token operator">+=</span><span class=""> </span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">                CardClass</span><span class="token punctuation">.</span><span class="">joker_art</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">                choice</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">                    </span><span class="token string">&quot;You Aced it!&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">                    </span><span class="token string">&quot;You dealt with that pretty well!&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">                    </span><span class="token string">&quot;Looks like you weren&#x27;t bluffing!&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">                    </span><span class="token string">&quot;Too bad these chips are all virtual...&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">                    </span><span class="token string">&quot;How the turn tables.&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">                    </span><span class="token string">&quot;Looks like I&#x27;ve taught you well!&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">                    </span><span class="token string">&quot;You made some heads up plays!&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">                    </span><span class="token string">&quot;Good thing I didn&#x27;t bet against you!&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">                </span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">            </span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">            self</span><span class="token punctuation">.</span><span class="">message</span><span class="token punctuation">.</span><span class="">append</span><span class="token punctuation">(</span><span class="token string">&quot;GG&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">24</span><span class="">            </span><span class="token keyword">with</span><span class=""> </span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;/flag&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;r&quot;</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword">as</span><span class=""> f</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="">                flag </span><span class="token operator">=</span><span class=""> f</span><span class="token punctuation">.</span><span class="">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">            self</span><span class="token punctuation">.</span><span class="">message</span><span class="token punctuation">.</span><span class="">append</span><span class="token punctuation">(</span><span class="">flag</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">            </span><span class="token keyword">import</span><span class=""> sys
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">            </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;FLAGGED&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">file</span><span class="token operator">=</span><span class="">sys</span><span class="token punctuation">.</span><span class="">stderr</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">29</span><span class="">            </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;ante:&quot;</span><span class="token punctuation">,</span><span class=""> self</span><span class="token punctuation">.</span><span class="">current_ante</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">file</span><span class="token operator">=</span><span class="">sys</span><span class="token punctuation">.</span><span class="">stderr</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">30</span><span class="">            </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;score:&quot;</span><span class="token punctuation">,</span><span class=""> self</span><span class="token punctuation">.</span><span class="">score</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">file</span><span class="token operator">=</span><span class="">sys</span><span class="token punctuation">.</span><span class="">stderr</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="">            </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;deck_len:&quot;</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">.</span><span class="">game_deck</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">file</span><span class="token operator">=</span><span class="">sys</span><span class="token punctuation">.</span><span class="">stderr</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">32</span><span class="">            </span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span><span class=""> j</span><span class="token punctuation">:</span><span class=""> </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="">j</span><span class="token punctuation">.</span><span class="">name</span><span class="token punctuation">,</span><span class=""> j</span><span class="token punctuation">.</span><span class="">description</span><span class="token punctuation">,</span><span class=""> j</span><span class="token punctuation">.</span><span class="">currently</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">file</span><span class="token operator">=</span><span class="">sys</span><span class="token punctuation">.</span><span class="">stderr</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class=""> self</span><span class="token punctuation">.</span><span class="">jokers</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class="">            self</span><span class="token punctuation">.</span><span class="">game_over </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">True</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class="">            </span><span class="token keyword">return</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">35</span><span class="">        self</span><span class="token punctuation">.</span><span class="">game_deck </span><span class="token operator">+=</span><span class=""> self</span><span class="token punctuation">.</span><span class="">hand
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">36</span><span class="">        self</span><span class="token punctuation">.</span><span class="">game_deck </span><span class="token operator">+=</span><span class=""> self</span><span class="token punctuation">.</span><span class="">discard_pile
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">37</span><span class="">        self</span><span class="token punctuation">.</span><span class="">discard_pile</span><span class="token punctuation">.</span><span class="">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">38</span><span class="">        </span><span class="token comment"># ...</span></code></pre></div></div>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">antes </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">[</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">    </span><span class="token number">0</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">    </span><span class="token number">100</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">    </span><span class="token number">300</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    </span><span class="token number">800</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">    </span><span class="token number">2000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    </span><span class="token number">5000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">    </span><span class="token number">11000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    </span><span class="token number">20000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">    </span><span class="token number">35000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">    </span><span class="token number">50000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">    </span><span class="token number">110000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">    </span><span class="token number">1560000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">    </span><span class="token number">17200000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">    </span><span class="token number">1300000000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">    </span><span class="token number">147000000000</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">    </span><span class="token number">12.9e13</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">    </span><span class="token number">17.7e16</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">    </span><span class="token number">18.6e20</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">    </span><span class="token number">14.2e25</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">    </span><span class="token number">19.2e30</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">    </span><span class="token number">19.2e36</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">    </span><span class="token number">24.3e43</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">24</span><span class="">    </span><span class="token number">29.7e50</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="">    </span><span class="token number">21.0e59</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">    </span><span class="token number">25.8e67</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">    </span><span class="token number">21.6e77</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">    </span><span class="token number">22.4e87</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">29</span><span class="">    </span><span class="token number">21.9e98</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">30</span><span class="">    </span><span class="token number">28.4e109</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="">    </span><span class="token number">22.0e122</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">32</span><span class="">    </span><span class="token number">22.7e135</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class="">    </span><span class="token number">32.1e149</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class="">    </span><span class="token number">39.9e163</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">35</span><span class="">    </span><span class="token number">32.7e179</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">36</span><span class="">    </span><span class="token number">34.4e195</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">37</span><span class="">    </span><span class="token number">34.4e212</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">38</span><span class="">    </span><span class="token number">32.8e230</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">39</span><span class="">    </span><span class="token number">31.1e249</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">40</span><span class="">    </span><span class="token number">32.7e268</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">41</span><span class="">    </span><span class="token number">34.5e288</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">42</span><span class="">    </span><span class="token number">34.8e309</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">43</span><span class=""></span><span class="token punctuation">]</span></code></pre></div></div>
<p>But how do we score <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">34.8e309</code>? In regular Balatro, scoring close to <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">inf</code> is only possible by stacking retriggers and xMult via for e.g. Perkeo + Observatory, Baron + Mime + steel cards + red seals, etc. Looking in <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">cards.py</code>, however, it&#x27;s clear that many of these strategies are simply not implemented in this limited recreation of Balatro:</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">from</span><span class=""> enum </span><span class="token keyword">import</span><span class=""> Enum
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class=""></span><span class="token keyword">from</span><span class=""> itertools </span><span class="token keyword">import</span><span class=""> chain
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">cards_mode </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;txt&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">cards_mode </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;utf&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class=""></span><span class="token keyword">class</span><span class=""> </span><span class="token class-name">CardEnhancement</span><span class="token punctuation">(</span><span class="">Enum</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    NONE </span><span class="token operator">=</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">    GOLD </span><span class="token operator">=</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">    STONE </span><span class="token operator">=</span><span class=""> </span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">    STEEL </span><span class="token operator">=</span><span class=""> </span><span class="token number">3</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class=""></span><span class="token comment"># ANSI escape codes for colors</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">COLORS </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">    </span><span class="token string">&quot;reset&quot;</span><span class="token punctuation">:</span><span class=""> </span><span class="token string">&quot;\033[0m&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">    </span><span class="token string">&quot;black&quot;</span><span class="token punctuation">:</span><span class=""> </span><span class="token string">&quot;\033[90m&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">    </span><span class="token string">&quot;red&quot;</span><span class="token punctuation">:</span><span class=""> </span><span class="token string">&quot;\033[91m&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">    </span><span class="token string">&quot;green&quot;</span><span class="token punctuation">:</span><span class=""> </span><span class="token string">&quot;\033[92m&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">    </span><span class="token string">&quot;yellow&quot;</span><span class="token punctuation">:</span><span class=""> </span><span class="token string">&quot;\033[93m&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">    </span><span class="token string">&quot;blue&quot;</span><span class="token punctuation">:</span><span class=""> </span><span class="token string">&quot;\033[94m&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">    </span><span class="token string">&quot;purple&quot;</span><span class="token punctuation">:</span><span class=""> </span><span class="token string">&quot;\033[95m&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">24</span><span class="">    </span><span class="token string">&quot;white_background&quot;</span><span class="token punctuation">:</span><span class=""> </span><span class="token string">&quot;\033[107m&quot;</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class=""></span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">26</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">SUIT_COLORS </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">{</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">    </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class=""> COLORS</span><span class="token punctuation">[</span><span class="token string">&quot;reset&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">29</span><span class="">    </span><span class="token number">0</span><span class="token punctuation">:</span><span class=""> COLORS</span><span class="token punctuation">[</span><span class="token string">&quot;red&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">30</span><span class="">    </span><span class="token number">1</span><span class="token punctuation">:</span><span class=""> COLORS</span><span class="token punctuation">[</span><span class="token string">&quot;purple&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="">    </span><span class="token number">2</span><span class="token punctuation">:</span><span class=""> COLORS</span><span class="token punctuation">[</span><span class="token string">&quot;blue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">32</span><span class="">    </span><span class="token number">3</span><span class="token punctuation">:</span><span class=""> COLORS</span><span class="token punctuation">[</span><span class="token string">&quot;black&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class=""></span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">34</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">35</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">36</span><span class=""></span><span class="token keyword">class</span><span class=""> </span><span class="token class-name">Card</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">37</span><span class="">    suits </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">38</span><span class="">    figures </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">39</span><span class="">    ranks </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">40</span><span class="">    ranks_sorting_map </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">{</span><span class="">r</span><span class="token punctuation">:</span><span class=""> i </span><span class="token keyword">for</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> r </span><span class="token keyword">in</span><span class=""> </span><span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">41</span><span class="">        chain</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">13</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">42</span><span class="">        start</span><span class="token operator">=</span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">43</span><span class="">    </span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class=""> </span><span class="token operator">|</span><span class=""> </span><span class="token punctuation">{</span><span class="token boolean">None</span><span class="token punctuation">:</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">44</span><span class="">    is_joker </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">False</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">45</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">46</span><span class="">    </span><span class="token decorator annotation punctuation">@classmethod</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">47</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">clean_art</span><span class="token punctuation">(</span><span class="">cls</span><span class="token punctuation">,</span><span class=""> art</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">48</span><span class="">        </span><span class="token comment"># Remove all ANSI color codes for rank/suit extraction</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">49</span><span class="">        </span><span class="token keyword">for</span><span class=""> color </span><span class="token keyword">in</span><span class=""> COLORS</span><span class="token punctuation">.</span><span class="">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">50</span><span class="">            art </span><span class="token operator">=</span><span class=""> art</span><span class="token punctuation">.</span><span class="">replace</span><span class="token punctuation">(</span><span class="">color</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">51</span><span class="">        </span><span class="token keyword">return</span><span class=""> art
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">52</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">53</span><span class="">    </span><span class="token decorator annotation punctuation">@classmethod</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">54</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">color_art</span><span class="token punctuation">(</span><span class="">cls</span><span class="token punctuation">,</span><span class=""> art</span><span class="token punctuation">,</span><span class=""> suit</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span><span class=""> rank</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span><span class=""> enhancement</span><span class="token operator">=</span><span class="">CardEnhancement</span><span class="token punctuation">.</span><span class="">NONE</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">55</span><span class="">        </span><span class="token keyword">if</span><span class=""> enhancement </span><span class="token operator">==</span><span class=""> CardEnhancement</span><span class="token punctuation">.</span><span class="">GOLD</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">56</span><span class="">            </span><span class="token keyword">return</span><span class=""> </span><span class="token string-interpolation string">f&quot;</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">COLORS</span><span class="token string-interpolation interpolation punctuation">[</span><span class="token string-interpolation interpolation string">&#x27;yellow&#x27;</span><span class="token string-interpolation interpolation punctuation">]</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">art</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">COLORS</span><span class="token string-interpolation interpolation punctuation">[</span><span class="token string-interpolation interpolation string">&#x27;reset&#x27;</span><span class="token string-interpolation interpolation punctuation">]</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">57</span><span class="">        </span><span class="token keyword">elif</span><span class=""> enhancement </span><span class="token operator">==</span><span class=""> CardEnhancement</span><span class="token punctuation">.</span><span class="">STONE</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">58</span><span class="">            </span><span class="token keyword">return</span><span class=""> </span><span class="token string-interpolation string">f&quot;</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">COLORS</span><span class="token string-interpolation interpolation punctuation">[</span><span class="token string-interpolation interpolation string">&#x27;white_background&#x27;</span><span class="token string-interpolation interpolation punctuation">]</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">COLORS</span><span class="token string-interpolation interpolation punctuation">[</span><span class="token string-interpolation interpolation string">&#x27;black&#x27;</span><span class="token string-interpolation interpolation punctuation">]</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">art</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">🪨</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">COLORS</span><span class="token string-interpolation interpolation punctuation">[</span><span class="token string-interpolation interpolation string">&#x27;reset&#x27;</span><span class="token string-interpolation interpolation punctuation">]</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">59</span><span class="">        </span><span class="token keyword">assert</span><span class=""> enhancement </span><span class="token operator">==</span><span class=""> CardEnhancement</span><span class="token punctuation">.</span><span class="">NONE
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">60</span><span class="">        </span><span class="token keyword">return</span><span class=""> </span><span class="token string-interpolation string">f&quot;</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">SUIT_COLORS</span><span class="token string-interpolation interpolation punctuation">[</span><span class="token string-interpolation interpolation">suit</span><span class="token string-interpolation interpolation punctuation">]</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">art</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">COLORS</span><span class="token string-interpolation interpolation punctuation">[</span><span class="token string-interpolation interpolation string">&#x27;reset&#x27;</span><span class="token string-interpolation interpolation punctuation">]</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">61</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">62</span><span class="">    </span><span class="token decorator annotation punctuation">@classmethod</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">63</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">art_factory</span><span class="token punctuation">(</span><span class="">cls</span><span class="token punctuation">,</span><span class=""> suit</span><span class="token punctuation">,</span><span class=""> rank</span><span class="token punctuation">,</span><span class=""> enhancement</span><span class="token operator">=</span><span class="">CardEnhancement</span><span class="token punctuation">.</span><span class="">NONE</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">64</span><span class="">        </span><span class="token keyword">raise</span><span class=""> NotImplementedError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">65</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">66</span><span class="">    </span><span class="token decorator annotation punctuation">@classmethod</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">67</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">rank_from_art</span><span class="token punctuation">(</span><span class="">cls</span><span class="token punctuation">,</span><span class=""> art</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">68</span><span class="">        </span><span class="token keyword">raise</span><span class=""> NotImplementedError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">69</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">70</span><span class="">    </span><span class="token decorator annotation punctuation">@classmethod</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">71</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">suit_from_art</span><span class="token punctuation">(</span><span class="">cls</span><span class="token punctuation">,</span><span class=""> art</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">72</span><span class="">        </span><span class="token keyword">raise</span><span class=""> NotImplementedError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">73</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">74</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">__init__</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> suit</span><span class="token punctuation">,</span><span class=""> rank</span><span class="token punctuation">,</span><span class=""> chips_bonus</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span><span class=""> mult_bonus</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class=""> enhancement</span><span class="token operator">=</span><span class="">CardEnhancement</span><span class="token punctuation">.</span><span class="">NONE</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">75</span><span class="">        self</span><span class="token punctuation">.</span><span class="">rank </span><span class="token operator">=</span><span class=""> rank
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">76</span><span class="">        self</span><span class="token punctuation">.</span><span class="">sorting_rank </span><span class="token operator">=</span><span class=""> self</span><span class="token punctuation">.</span><span class="">ranks_sorting_map</span><span class="token punctuation">[</span><span class="">self</span><span class="token punctuation">.</span><span class="">rank</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">77</span><span class="">        self</span><span class="token punctuation">.</span><span class="">suit </span><span class="token operator">=</span><span class=""> suit
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">78</span><span class="">        self</span><span class="token punctuation">.</span><span class="">chips_bonus </span><span class="token operator">=</span><span class=""> chips_bonus
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">79</span><span class="">        self</span><span class="token punctuation">.</span><span class="">mult_bonus </span><span class="token operator">=</span><span class=""> mult_bonus
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">80</span><span class="">        self</span><span class="token punctuation">.</span><span class="">enhancement </span><span class="token operator">=</span><span class=""> enhancement
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">81</span><span class="">        self</span><span class="token punctuation">.</span><span class="">art </span><span class="token operator">=</span><span class=""> self</span><span class="token punctuation">.</span><span class="">art_factory</span><span class="token punctuation">(</span><span class="">suit</span><span class="token punctuation">,</span><span class=""> rank</span><span class="token punctuation">,</span><span class=""> enhancement</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">82</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">83</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">__str__</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class=""> </span><span class="token builtin">str</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">84</span><span class="">        </span><span class="token keyword">return</span><span class=""> self</span><span class="token punctuation">.</span><span class="">art
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">85</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">86</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">__repr__</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">-</span><span class="token operator">&gt;</span><span class=""> </span><span class="token builtin">str</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">87</span><span class="">        </span><span class="token keyword">return</span><span class=""> self</span><span class="token punctuation">.</span><span class="">__str__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">88</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">89</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">is_face_card</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">90</span><span class="">        </span><span class="token keyword">return</span><span class=""> self</span><span class="token punctuation">.</span><span class="">rank </span><span class="token keyword">in</span><span class=""> </span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">12</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">13</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">91</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">92</span><span class=""></span><span class="token comment"># ...</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">93</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">94</span><span class=""></span><span class="token keyword">if</span><span class=""> cards_mode </span><span class="token operator">==</span><span class=""> </span><span class="token string">&quot;utf&quot;</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">95</span><span class="">    CardClass </span><span class="token operator">=</span><span class=""> UTFCard
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">96</span><span class=""></span><span class="token keyword">elif</span><span class=""> cards_mode </span><span class="token operator">==</span><span class=""> </span><span class="token string">&quot;txt&quot;</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">97</span><span class="">    CardClass </span><span class="token operator">=</span><span class=""> TXTCard
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">98</span><span class=""></span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">99</span><span class="">    </span><span class="token keyword">raise</span><span class=""> NotImplementedError</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot;rendering mode </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">cards_mode</span><span class="token string-interpolation interpolation conversion-option punctuation">!r</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string"> not supported&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">100</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">101</span><span class="">cards </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">[</span><span class="">CardClass</span><span class="token punctuation">(</span><span class="">s</span><span class="token punctuation">,</span><span class=""> r</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword">for</span><span class=""> s </span><span class="token keyword">in</span><span class=""> </span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class=""> </span><span class="token keyword">for</span><span class=""> r </span><span class="token keyword">in</span><span class=""> </span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">13</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">102</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">103</span><span class=""></span><span class="token keyword">assert</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">suits</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token number">4</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">[</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">suits</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">suits</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">104</span><span class=""></span><span class="token keyword">assert</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">figures</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token number">3</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">[</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">figures</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">figures</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">105</span><span class=""></span><span class="token keyword">assert</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">ranks</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token number">13</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">[</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">ranks</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">ranks</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">106</span><span class=""></span><span class="token keyword">assert</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">cards</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">ranks</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">*</span><span class=""> \
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">107</span><span class="">    </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">CardClass</span><span class="token punctuation">.</span><span class="">suits</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class=""> </span><span class="token punctuation">[</span><span class="">cards</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">cards</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">108</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">109</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">110</span><span class=""></span><span class="token keyword">def</span><span class=""> </span><span class="token function">sort_hand</span><span class="token punctuation">(</span><span class="">hand</span><span class="token punctuation">,</span><span class=""> reverse</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class=""> suit_first</span><span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span><span class=""> ace_after_king</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">111</span><span class="">    </span><span class="token keyword">if</span><span class=""> suit_first</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">112</span><span class="">        </span><span class="token keyword">return</span><span class=""> </span><span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="">hand</span><span class="token punctuation">,</span><span class=""> reverse</span><span class="token operator">=</span><span class="">reverse</span><span class="token punctuation">,</span><span class=""> key</span><span class="token operator">=</span><span class="token keyword">lambda</span><span class=""> c</span><span class="token punctuation">:</span><span class=""> </span><span class="token punctuation">(</span><span class="">c</span><span class="token punctuation">.</span><span class="">suit</span><span class="token punctuation">,</span><span class=""> c</span><span class="token punctuation">.</span><span class="">sorting_rank </span><span class="token keyword">if</span><span class=""> ace_after_king </span><span class="token keyword">else</span><span class=""> c</span><span class="token punctuation">.</span><span class="">rank</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">113</span><span class="">    </span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">114</span><span class="">        </span><span class="token keyword">return</span><span class=""> </span><span class="token builtin">sorted</span><span class="token punctuation">(</span><span class="">hand</span><span class="token punctuation">,</span><span class=""> reverse</span><span class="token operator">=</span><span class="">reverse</span><span class="token punctuation">,</span><span class=""> key</span><span class="token operator">=</span><span class="token keyword">lambda</span><span class=""> c</span><span class="token punctuation">:</span><span class=""> </span><span class="token punctuation">(</span><span class="">c</span><span class="token punctuation">.</span><span class="">sorting_rank </span><span class="token keyword">if</span><span class=""> ace_after_king </span><span class="token keyword">else</span><span class=""> c</span><span class="token punctuation">.</span><span class="">rank</span><span class="token punctuation">,</span><span class=""> c</span><span class="token punctuation">.</span><span class="">suit</span><span class="token punctuation">)</span><span class="token punctuation">)</span></code></pre></div></div>
<p>Indeed, we only have two &quot;real&quot; card enhancements: <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">Gold</code> and <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">Stone</code> (steel cards are unimplemented, and if one somehow gets created the server simply crashes). Furthermore, tarot cards, spectral cards, planets, and seals are all missing.</p>
<p>(As a side note, steel cards ended up being quite a bit of a red herring, as the server also defines a custom non-Balatro joker meant to create steel cards which <em>also</em> crashes the game if it was ever triggered; luckily, this joker was removed from the joker map and couldn&#x27;t appear in a shop, unlike some other perpetrators...)</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">from</span><span class=""> cards </span><span class="token keyword">import</span><span class=""> CardEnhancement
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class=""></span><span class="token keyword">from</span><span class=""> </span><span class="token punctuation">.</span><span class="">joker_base </span><span class="token keyword">import</span><span class=""> JokerClass</span><span class="token punctuation">,</span><span class=""> JokerRarity
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class=""></span><span class="token keyword">class</span><span class=""> </span><span class="token class-name">SteelMask</span><span class="token punctuation">(</span><span class="">JokerClass</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    description </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;All face cards become Steel cards when played&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">    rarity </span><span class="token operator">=</span><span class=""> JokerRarity</span><span class="token punctuation">.</span><span class="">UNCOMMON
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    price </span><span class="token operator">=</span><span class=""> </span><span class="token number">7</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_card_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">        </span><span class="token keyword">if</span><span class=""> state</span><span class="token punctuation">.</span><span class="">is_face_card</span><span class="token punctuation">(</span><span class="">card</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">            </span><span class="token keyword">raise</span><span class=""> NotImplementedError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">  </span><span class="token comment"># TODO</span></code></pre></div></div>
<p>Note also that scoring is tied to your money (or more precisely, buying from the shop simply subtracts from your score), and score carries over between rounds. As opposed to normal Balatro, this allows us to pretty much buy anything we want from the shop, as hand scores are in the O(100) even on the first round, and rerolls cost a static $5 with jokers costing &lt; $10.</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">    </span><span class="token decorator annotation punctuation">@renders</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">buy_jokers</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">        </span><span class="token keyword">assert</span><span class=""> self</span><span class="token punctuation">.</span><span class="">jokers_in_shop </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">        </span><span class="token keyword">assert</span><span class=""> self</span><span class="token punctuation">.</span><span class="">jokers_selected_in_shop </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">        </span><span class="token keyword">if</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">.</span><span class="">jokers_selected_in_shop</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">&gt;</span><span class=""> self</span><span class="token punctuation">.</span><span class="">max_joker_slots </span><span class="token operator">-</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">.</span><span class="">jokers</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">            self</span><span class="token punctuation">.</span><span class="">message</span><span class="token punctuation">.</span><span class="">append</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot;You can&#x27;t have more than </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">max_joker_slots</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string"> jokers.&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">            </span><span class="token keyword">return</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">        price </span><span class="token operator">=</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">        </span><span class="token keyword">for</span><span class=""> joker_class </span><span class="token keyword">in</span><span class=""> self</span><span class="token punctuation">.</span><span class="">jokers_selected_in_shop</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">            price </span><span class="token operator">+=</span><span class=""> joker_class</span><span class="token punctuation">.</span><span class="">price
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">        </span><span class="token keyword">if</span><span class=""> price </span><span class="token operator">&gt;</span><span class=""> self</span><span class="token punctuation">.</span><span class="">score</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">            self</span><span class="token punctuation">.</span><span class="">message</span><span class="token punctuation">.</span><span class="">append</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot;You don&#x27;t have enough money to buy the selected jokers ($</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">price</span><span class="token string-interpolation interpolation conversion-option punctuation">!r</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">).&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">            </span><span class="token keyword">return</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">        </span><span class="token keyword">while</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">.</span><span class="">jokers_selected_in_shop</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">&gt;</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">            joker </span><span class="token operator">=</span><span class=""> self</span><span class="token punctuation">.</span><span class="">jokers_selected_in_shop</span><span class="token punctuation">.</span><span class="">pop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">            self</span><span class="token punctuation">.</span><span class="">score </span><span class="token operator">-=</span><span class=""> joker</span><span class="token punctuation">.</span><span class="">price
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">            self</span><span class="token punctuation">.</span><span class="">jokers</span><span class="token punctuation">.</span><span class="">append</span><span class="token punctuation">(</span><span class="">joker</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">            self</span><span class="token punctuation">.</span><span class="">jokers_in_shop</span><span class="token punctuation">.</span><span class="">remove</span><span class="token punctuation">(</span><span class="">joker</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">            </span><span class="token keyword">for</span><span class=""> joker </span><span class="token keyword">in</span><span class=""> self</span><span class="token punctuation">.</span><span class="">jokers</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">                joker</span><span class="token punctuation">.</span><span class="">on_joker_buy</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> joker</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">        self</span><span class="token punctuation">.</span><span class="">check_game_over</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></div>
<p>But even so, how do we even score close to <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">e309</code>? The key idea is this: jokers that provide retriggers are implemented in the game by re-calling the method on <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">state</code> that runs a specific phase of scoring.</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">from</span><span class=""> </span><span class="token punctuation">.</span><span class="">joker_base </span><span class="token keyword">import</span><span class=""> JokerClass</span><span class="token punctuation">,</span><span class=""> JokerRarity
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class=""></span><span class="token keyword">class</span><span class=""> </span><span class="token class-name">HangingChad</span><span class="token punctuation">(</span><span class="">JokerClass</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    description </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;Retrigger first played card used in scoring 2 additional times&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">    rarity </span><span class="token operator">=</span><span class=""> JokerRarity</span><span class="token punctuation">.</span><span class="">COMMON
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    price </span><span class="token operator">=</span><span class=""> </span><span class="token number">4</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_card_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">        </span><span class="token keyword">if</span><span class=""> i </span><span class="token operator">==</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">            </span><span class="token comment"># Retrigger 2 additional times</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">            </span><span class="token keyword">for</span><span class=""> _ </span><span class="token keyword">in</span><span class=""> </span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">                state</span><span class="token punctuation">.</span><span class="">message</span><span class="token punctuation">.</span><span class="">append</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot;</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">: retrigger card&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">                </span><span class="token keyword">if</span><span class=""> ignore_jokers </span><span class="token keyword">is</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">                    ignore_jokers </span><span class="token operator">=</span><span class=""> </span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">                ignore_jokers</span><span class="token punctuation">.</span><span class="">add</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">                state</span><span class="token punctuation">.</span><span class="">compute_card_score</span><span class="token punctuation">(</span><span class="">i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="">ignore_jokers</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">                ignore_jokers</span><span class="token punctuation">.</span><span class="">discard</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span></code></pre></div></div>
<p>(here, the Hanging Chad calls <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">state.compute_card_score()</code> again, which as a side effect re-triggers all jokers&#x27; <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">on_card_scoring()</code> callbacks). To avoid infinitely looping with themselves, jokers like the Hanging Chad add themselves to an <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">ignore_jokers</code> list, for which all jokers on the list are skipped in the rerun scoring phase.</p>
<p>Enter the Blueprint:</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">from</span><span class=""> copy </span><span class="token keyword">import</span><span class=""> deepcopy
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class=""></span><span class="token keyword">from</span><span class=""> </span><span class="token punctuation">.</span><span class="">joker_base </span><span class="token keyword">import</span><span class=""> JokerClass</span><span class="token punctuation">,</span><span class=""> JokerRarity
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class=""></span><span class="token keyword">class</span><span class=""> </span><span class="token class-name">Blueprint</span><span class="token punctuation">(</span><span class="">JokerClass</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    description </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;Copies ability of Joker to the right&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">    rarity </span><span class="token operator">=</span><span class=""> JokerRarity</span><span class="token punctuation">.</span><span class="">RARE
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    price </span><span class="token operator">=</span><span class=""> </span><span class="token number">10</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">currently</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">            </span><span class="token keyword">return</span><span class=""> </span><span class="token string">&quot;(none)&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">        </span><span class="token keyword">return</span><span class=""> </span><span class="token string-interpolation string">f&quot;(currently: </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">copied_joker</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">)&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">__init__</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">        </span><span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">__init__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">        self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">find_joker_to_copy</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">        self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">        found </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">False</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">        </span><span class="token keyword">for</span><span class=""> joker </span><span class="token keyword">in</span><span class=""> state</span><span class="token punctuation">.</span><span class="">jokers</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">24</span><span class="">            </span><span class="token keyword">if</span><span class=""> found</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="">                self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token operator">=</span><span class=""> deepcopy</span><span class="token punctuation">(</span><span class="">joker</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">                </span><span class="token keyword">break</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">            </span><span class="token keyword">if</span><span class=""> joker </span><span class="token keyword">is</span><span class=""> self</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">                found </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">True</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">29</span><span class="">                </span><span class="token keyword">continue</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">30</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_joker_buy</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> joker</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">32</span><span class="">        self</span><span class="token punctuation">.</span><span class="">find_joker_to_copy</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_joker_buy</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">,</span><span class=""> joker</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">35</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">36</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_joker_sell</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> joker</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">37</span><span class="">        self</span><span class="token punctuation">.</span><span class="">find_joker_to_copy</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">38</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">39</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_joker_sell</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">,</span><span class=""> joker</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">40</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">41</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_card_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">42</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">43</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_card_scoring</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">44</span><span class="">                state</span><span class="token punctuation">,</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="">ignore_jokers</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">45</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">46</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_hand_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">47</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">48</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_hand_scoring</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">49</span><span class="">                state</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="">ignore_jokers</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">50</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">51</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_in_hand_card_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">52</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">53</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_in_hand_card_scoring</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">54</span><span class="">                state</span><span class="token punctuation">,</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="">ignore_jokers</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">55</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">56</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_in_hand_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">57</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">58</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_in_hand_scoring</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">59</span><span class="">                state</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="">ignore_jokers</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">60</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">61</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_round_start</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">62</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">63</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_round_start</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">64</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">65</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_round_end</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">66</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">67</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_round_end</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">68</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">69</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_discard</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">70</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">71</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_discard</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">72</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">73</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_play</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">74</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">75</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_play</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">76</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">77</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_hand_updated</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">78</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">79</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_hand_updated</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">80</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">81</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_card_added_to_deck</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">82</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">83</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_card_added_to_deck</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">84</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">85</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_card_removed_from_deck</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">86</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">87</span><span class="">            self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">on_card_removed_from_deck</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">88</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">89</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">overrides_is_face_card</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">90</span><span class="">        </span><span class="token keyword">if</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">91</span><span class="">            </span><span class="token keyword">return</span><span class=""> self</span><span class="token punctuation">.</span><span class="">copied_joker</span><span class="token punctuation">.</span><span class="">overrides_is_face_card</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">92</span><span class="">        </span><span class="token keyword">return</span><span class=""> </span><span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">overrides_is_face_card</span><span class="token punctuation">(</span><span class="">state</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">)</span></code></pre></div></div>
<p>Namely, Blueprint &quot;copies&quot; all the callbacks of <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">self.copied_joker</code> by simply passing down all arguments to <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">self.copied_joker</code>&#x27;s callbacks. But in the <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">ignore_joker</code> case, if we e.g. have Blueprint copying Hanging Chad,</p>
<ul>
<li>On card score, we will call <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">blueprint.on_card_scoring()</code></li>
<li>Blueprint calls <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">blueprint.copied_joker.on_card_scoring()</code> (where copied joker is Hanging Chad)</li>
<li>The copied callback adds <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">blueprint.copied_joker</code> to the <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">ignore_jokers</code> list and re-triggers <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">state.compute_card_score()</code></li>
<li>Since <em>Blueprint</em> is not in the <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">ignore_jokers</code> list, we call <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">blueprint.on_card_scoring()</code></li>
<li>Blueprint calls <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">blueprint.copied_joker.on_card_scoring()</code></li>
<li>...</li>
</ul>
<p>for infinite recursion. As a remark, note that the joker order matters: any jokers to the left of the Blueprint will have their <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">on_card_scoring()</code> callbacks execute before Blueprint&#x27;s, allowing them to actually happen before Blueprint triggers another recursion. Since there is no mechanism for reordering jokers, we need to be careful about the order we <em>buy</em> jokers in.</p>
<p>So how do we leverage this for high scoring? In the Blueprint + Hanging Chad case, we can essentially infinitely trigger any joker&#x27;s <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">.on_card_scoring()</code> callback (until a stack overflow exception is thrown, which the game simply quietly catches and moves on to the next round):</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">compute_score</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">        self</span><span class="token punctuation">.</span><span class="">hand_chips</span><span class="token punctuation">,</span><span class=""> self</span><span class="token punctuation">.</span><span class="">hand_mult </span><span class="token operator">=</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">        </span><span class="token comment"># print(&quot;initial scoring:    &quot;, self.hand_chips, self.hand_mult)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">        </span><span class="token keyword">try</span><span class="token punctuation">:</span><span class="">  </span><span class="token comment"># fail safe on unimplemented jokers</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">            self</span><span class="token punctuation">.</span><span class="">compute_hand_score</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">            </span><span class="token comment"># print(&quot;hand_value scoring: &quot;, self.hand_chips, self.hand_mult)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">            self</span><span class="token punctuation">.</span><span class="">compute_cards_score</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">            </span><span class="token comment"># print(&quot;cards_value scoring:&quot;, self.hand_chips, self.hand_mult)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">            self</span><span class="token punctuation">.</span><span class="">compute_in_hand_cards_score</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">            </span><span class="token comment"># print(&quot;in_hand_cards_value scoring:&quot;, self.hand_chips, self.hand_mult)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">        </span><span class="token keyword">except</span><span class=""> Exception </span><span class="token keyword">as</span><span class=""> e</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">            </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">repr</span><span class="token punctuation">(</span><span class="">e</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class=""> </span><span class="token builtin">file</span><span class="token operator">=</span><span class="">stderr</span><span class="token punctuation">)</span></code></pre></div></div>
<p>For <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">.on_card_scoring()</code>, the best joker to retrigger is Photograph, giving us x2 mult per loop:</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">from</span><span class=""> </span><span class="token punctuation">.</span><span class="">joker_base </span><span class="token keyword">import</span><span class=""> JokerClass</span><span class="token punctuation">,</span><span class=""> JokerRarity
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class=""></span><span class="token keyword">class</span><span class=""> </span><span class="token class-name">Photograph</span><span class="token punctuation">(</span><span class="">JokerClass</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    description </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;First played face card gives X2 Mult when scored&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">    rarity </span><span class="token operator">=</span><span class=""> JokerRarity</span><span class="token punctuation">.</span><span class="">COMMON
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    price </span><span class="token operator">=</span><span class=""> </span><span class="token number">5</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">__init__</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">        </span><span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">__init__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">        self</span><span class="token punctuation">.</span><span class="">is_first_face </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">False</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_hand_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">        self</span><span class="token punctuation">.</span><span class="">is_first_face </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">True</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_card_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">        </span><span class="token keyword">if</span><span class=""> state</span><span class="token punctuation">.</span><span class="">is_face_card</span><span class="token punctuation">(</span><span class="">card</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">            state</span><span class="token punctuation">.</span><span class="">message</span><span class="token punctuation">.</span><span class="">append</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot;</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">: X2 Mult for first face card&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">            state</span><span class="token punctuation">.</span><span class="">hand_mult </span><span class="token operator">*=</span><span class=""> </span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">            self</span><span class="token punctuation">.</span><span class="">is_first_face </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">False</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_play</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">        self</span><span class="token punctuation">.</span><span class="">is_first_face </span><span class="token operator">=</span><span class=""> </span><span class="token boolean">False</span></code></pre></div></div>
<p>(since their Photograph implementation is bugged, and never checks <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">self.is_first_face</code> for whether to apply the x2 mult on subsequent face card scorings).</p>
<p>However, even with 3 Photographs (their shop deduplication is broken) + Blueprint + Hanging Chad, due to the maximum recursion depth of 1000 we can only get a score of ~<code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">e301</code>.</p>
<p>Instead, we can pivot to another <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">ignore_jokers</code> joker: Mime, which retriggers <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">state.compute_in_hand_cards_score()</code>.</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">from</span><span class=""> </span><span class="token punctuation">.</span><span class="">joker_base </span><span class="token keyword">import</span><span class=""> JokerClass</span><span class="token punctuation">,</span><span class=""> JokerRarity
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class=""></span><span class="token keyword">class</span><span class=""> </span><span class="token class-name">Mime</span><span class="token punctuation">(</span><span class="">JokerClass</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    description </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;Retrigger all card held in hand abilities&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">    rarity </span><span class="token operator">=</span><span class=""> JokerRarity</span><span class="token punctuation">.</span><span class="">UNCOMMON
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    price </span><span class="token operator">=</span><span class=""> </span><span class="token number">5</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_in_hand_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">        state</span><span class="token punctuation">.</span><span class="">message</span><span class="token punctuation">.</span><span class="">append</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot;</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">: retrigger hand cards&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">        </span><span class="token keyword">if</span><span class=""> ignore_jokers </span><span class="token keyword">is</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">            ignore_jokers </span><span class="token operator">=</span><span class=""> </span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">        ignore_jokers</span><span class="token punctuation">.</span><span class="">add</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">        state</span><span class="token punctuation">.</span><span class="">compute_in_hand_cards_score</span><span class="token punctuation">(</span><span class="">ignore_jokers</span><span class="token operator">=</span><span class="">ignore_jokers</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">        ignore_jokers</span><span class="token punctuation">.</span><span class="">discard</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">)</span></code></pre></div></div>
<p>Notably, <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">.compute_in_hands_score()</code> retriggers <em>each card</em> in the hand before recursing by triggering jokers, allowing us to get more than x2 mult per recursion:</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">compute_in_hand_cards_score</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">        </span><span class="token keyword">assert</span><span class=""> self</span><span class="token punctuation">.</span><span class="">hand </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">        </span><span class="token keyword">assert</span><span class=""> self</span><span class="token punctuation">.</span><span class="">selected </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">        </span><span class="token keyword">assert</span><span class=""> self</span><span class="token punctuation">.</span><span class="">hand_chips </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">        </span><span class="token keyword">assert</span><span class=""> self</span><span class="token punctuation">.</span><span class="">hand_mult </span><span class="token keyword">is</span><span class=""> </span><span class="token keyword">not</span><span class=""> </span><span class="token boolean">None</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">        </span><span class="token keyword">if</span><span class=""> ignore_jokers </span><span class="token keyword">is</span><span class=""> </span><span class="token boolean">None</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">            ignore_jokers </span><span class="token operator">=</span><span class=""> </span><span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">        </span><span class="token keyword">for</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> card </span><span class="token keyword">in</span><span class=""> </span><span class="token builtin">enumerate</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">.</span><span class="">hand</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">            </span><span class="token keyword">if</span><span class=""> card </span><span class="token keyword">not</span><span class=""> </span><span class="token keyword">in</span><span class=""> self</span><span class="token punctuation">.</span><span class="">selected</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">                self</span><span class="token punctuation">.</span><span class="">compute_in_hand_card_score</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">                    i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="">ignore_jokers</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">        </span><span class="token keyword">for</span><span class=""> joker </span><span class="token keyword">in</span><span class=""> self</span><span class="token punctuation">.</span><span class="">jokers</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">            </span><span class="token keyword">if</span><span class=""> joker </span><span class="token keyword">not</span><span class=""> </span><span class="token keyword">in</span><span class=""> ignore_jokers</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">                joker</span><span class="token punctuation">.</span><span class="">on_in_hand_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="">ignore_jokers</span><span class="token punctuation">)</span></code></pre></div></div>
<p>Thus, all we need to do is pair this with a Baron. We can see that with just 2 barons, we get up to ~x11 mult per loop with just 3 kings in hand:</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">from</span><span class=""> </span><span class="token punctuation">.</span><span class="">joker_base </span><span class="token keyword">import</span><span class=""> JokerClass</span><span class="token punctuation">,</span><span class=""> JokerRarity
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">3</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class=""></span><span class="token keyword">class</span><span class=""> </span><span class="token class-name">Baron</span><span class="token punctuation">(</span><span class="">JokerClass</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">    description </span><span class="token operator">=</span><span class=""> </span><span class="token string">&quot;Each King held in hand gives X1.5 Mult&quot;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">    rarity </span><span class="token operator">=</span><span class=""> JokerRarity</span><span class="token punctuation">.</span><span class="">RARE
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">    price </span><span class="token operator">=</span><span class=""> </span><span class="token number">8</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">8</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">    </span><span class="token keyword">def</span><span class=""> </span><span class="token function">on_in_hand_card_scoring</span><span class="token punctuation">(</span><span class="">self</span><span class="token punctuation">,</span><span class=""> state</span><span class="token punctuation">,</span><span class=""> i</span><span class="token punctuation">,</span><span class=""> card</span><span class="token punctuation">,</span><span class=""> ignore_jokers</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">        </span><span class="token comment"># King has rank 13</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">        </span><span class="token keyword">if</span><span class=""> card</span><span class="token punctuation">.</span><span class="">rank </span><span class="token operator">==</span><span class=""> </span><span class="token number">13</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">            state</span><span class="token punctuation">.</span><span class="">message</span><span class="token punctuation">.</span><span class="">append</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&quot;</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">: X1.5 Mult for King&quot;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">            state</span><span class="token punctuation">.</span><span class="">hand_mult </span><span class="token operator">*=</span><span class=""> </span><span class="token number">1.5</span></code></pre></div></div>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary">Code<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">1.5^2     = 2.25       (K=1)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">2</span>(1.5^2)^2 = 5.0625     (K=2)
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none">3</span>(1.5^2)^3 = 11.390625  (K=3)</code></pre></div></div>
<p>So the plan of attack is as follows:</p>
<ol>
<li>Play the first round randomly. (if we play 5 cards at a time, we&#x27;re almost guaranteed to have enough money by the end of round)</li>
<li>Reroll until we get the following jokers, in order: <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">[Baron, Baron, Blueprint, Mime]</code></li>
<li>On the next round, discard for 3 kings and play any hand; the infinite recursion should trigger, giving you <code class="font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]">inf</code> score.</li>
<li>Play out the rest of the antes until you win and get the flag.</li>
</ol>
<p>and all thats left is scripting. For this challenge, though, even scripting is non-trivial and mildly annoying due to their game interface and PoW. Even funnier, due to other bugs in their implementation, the moment you try to select an Erosion in the shop the server immediately crashes; since you can&#x27;t tell which jokers are which before attempting to select them, this is a completely random element that you just need to get lucky enough to avoid.</p>
<p>After some lengthy trial and error, we can create a script like so:</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14.25.18l.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98l-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95l.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25l-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"></path></svg> <!-- -->py<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token keyword">import</span><span class=""> subprocess
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class=""></span><span class="token keyword">import</span><span class=""> pwn
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class=""></span><span class="token comment"># queue = [&#x27;Photograph&#x27;, &#x27;Photograph&#x27;, &#x27;Photograph&#x27;, &#x27;Blueprint&#x27;, &#x27;Hanging Chad&#x27;]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">queue </span><span class="token operator">=</span><span class=""> </span><span class="token punctuation">[</span><span class="token string">&#x27;Baron&#x27;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&#x27;Baron&#x27;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&#x27;Blueprint&#x27;</span><span class="token punctuation">,</span><span class=""> </span><span class="token string">&#x27;Mime&#x27;</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class=""></span><span class="token keyword">def</span><span class=""> </span><span class="token function">skip_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">    conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n $&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">    money </span><span class="token operator">=</span><span class=""> conn</span><span class="token punctuation">.</span><span class="">recvline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">    </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&#x27;shop: $</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">money</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">decode</span><span class="token string-interpolation interpolation punctuation">(</span><span class="token string-interpolation interpolation punctuation">)</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">strip</span><span class="token string-interpolation interpolation punctuation">(</span><span class="token string-interpolation interpolation punctuation">)</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">    conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string">b&#x27;p&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class=""></span><span class="token keyword">def</span><span class=""> </span><span class="token function">handle_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">    conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n $&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">    money </span><span class="token operator">=</span><span class=""> conn</span><span class="token punctuation">.</span><span class="">recvline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">    </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&#x27;shop: $</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">money</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">decode</span><span class="token string-interpolation interpolation punctuation">(</span><span class="token string-interpolation interpolation punctuation">)</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">strip</span><span class="token string-interpolation interpolation punctuation">(</span><span class="token string-interpolation interpolation punctuation">)</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">    </span><span class="token comment"># Query both jokers, reroll until we get all the jokers we want</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">    </span><span class="token keyword">while</span><span class=""> </span><span class="token boolean">True</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">        b </span><span class="token operator">=</span><span class=""> query_shop_joker</span><span class="token punctuation">(</span><span class="token string">&#x27;1&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">24</span><span class="">        query_shop_joker</span><span class="token punctuation">(</span><span class="token string">&#x27;2&#x27;</span><span class=""> </span><span class="token keyword">if</span><span class=""> </span><span class="token keyword">not</span><span class=""> b </span><span class="token keyword">else</span><span class=""> </span><span class="token string">&#x27;1&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">25</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">        </span><span class="token keyword">if</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">queue</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">            </span><span class="token keyword">break</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string">b&#x27;r&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">29</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">30</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n $&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="">        money </span><span class="token operator">=</span><span class=""> </span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="">conn</span><span class="token punctuation">.</span><span class="">recvline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">32</span><span class="">        </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&#x27;reroll: $</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">money</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">33</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class="">        </span><span class="token keyword">if</span><span class=""> money </span><span class="token operator">&lt;</span><span class=""> </span><span class="token number">100</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">35</span><span class="">            </span><span class="token keyword">break</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">36</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">37</span><span class="">    conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n&gt;&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">38</span><span class="">    conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string">b&#x27;p&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">39</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">40</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">41</span><span class=""></span><span class="token keyword">def</span><span class=""> </span><span class="token function">query_shop_joker</span><span class="token punctuation">(</span><span class="">index</span><span class="token punctuation">:</span><span class=""> </span><span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">42</span><span class="">    </span><span class="token keyword">if</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">queue</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">==</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">43</span><span class="">        </span><span class="token keyword">return</span><span class=""> </span><span class="token boolean">False</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">44</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">45</span><span class="">    conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n&gt;&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">46</span><span class="">    conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="">index</span><span class="token punctuation">.</span><span class="">encode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">47</span><span class="">    conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&#x27;</span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">index</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">: &#x27;</span><span class="token punctuation">.</span><span class="">encode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">48</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">49</span><span class="">    line </span><span class="token operator">=</span><span class=""> conn</span><span class="token punctuation">.</span><span class="">recvline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">50</span><span class="">    name </span><span class="token operator">=</span><span class=""> line</span><span class="token punctuation">.</span><span class="">partition</span><span class="token punctuation">(</span><span class="token string">&#x27;:&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">51</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">52</span><span class="">    </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#x27;-&gt;&#x27;</span><span class="token punctuation">,</span><span class=""> name</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">53</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">54</span><span class="">    want </span><span class="token operator">=</span><span class=""> queue</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">55</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">56</span><span class="">    </span><span class="token keyword">if</span><span class=""> want </span><span class="token operator">==</span><span class=""> name</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">57</span><span class="">        queue</span><span class="token punctuation">.</span><span class="">pop</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">58</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string">b&#x27;b&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">59</span><span class="">        </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&#x27;purchased </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation">name</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">60</span><span class="">        </span><span class="token keyword">return</span><span class=""> </span><span class="token boolean">True</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">61</span><span class="">    </span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">62</span><span class="">        </span><span class="token comment"># Deselect the joker</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">63</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="">index</span><span class="token punctuation">.</span><span class="">encode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">64</span><span class="">        </span><span class="token keyword">return</span><span class=""> </span><span class="token boolean">False</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">65</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">66</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">67</span><span class=""></span><span class="token keyword">def</span><span class=""> </span><span class="token function">play_game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">68</span><span class="">    </span><span class="token keyword">for</span><span class=""> _ </span><span class="token keyword">in</span><span class=""> </span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">69</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n&gt;&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">70</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string">b&#x27;a 1 2 3 4 5&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">71</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n&gt;&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">72</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string">b&#x27;p&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">73</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">74</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">75</span><span class=""></span><span class="token keyword">def</span><span class=""> </span><span class="token function">play_game_kings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">76</span><span class="">    </span><span class="token keyword">for</span><span class=""> _ </span><span class="token keyword">in</span><span class=""> </span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">77</span><span class="">        hand </span><span class="token operator">=</span><span class=""> conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n 1&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">split</span><span class="token punctuation">(</span><span class="token string">&#x27;\n&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">78</span><span class="">        kings </span><span class="token operator">=</span><span class=""> hand</span><span class="token punctuation">.</span><span class="">count</span><span class="token punctuation">(</span><span class="token string">&#x27;🂮&#x27;</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">+</span><span class=""> hand</span><span class="token punctuation">.</span><span class="">count</span><span class="token punctuation">(</span><span class="token string">&#x27;🂾&#x27;</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">+</span><span class=""> hand</span><span class="token punctuation">.</span><span class="">count</span><span class="token punctuation">(</span><span class="token string">&#x27;🃎&#x27;</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">+</span><span class=""> hand</span><span class="token punctuation">.</span><span class="">count</span><span class="token punctuation">(</span><span class="token string">&#x27;🃞&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">79</span><span class="">        aces </span><span class="token operator">=</span><span class=""> hand</span><span class="token punctuation">.</span><span class="">count</span><span class="token punctuation">(</span><span class="token string">&#x27;🂡&#x27;</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">+</span><span class=""> hand</span><span class="token punctuation">.</span><span class="">count</span><span class="token punctuation">(</span><span class="token string">&#x27;🂱&#x27;</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">+</span><span class=""> hand</span><span class="token punctuation">.</span><span class="">count</span><span class="token punctuation">(</span><span class="token string">&#x27;🃁&#x27;</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">+</span><span class=""> hand</span><span class="token punctuation">.</span><span class="">count</span><span class="token punctuation">(</span><span class="token string">&#x27;🃑&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">80</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n&gt;&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">81</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">82</span><span class="">        </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="">hand</span><span class="token punctuation">,</span><span class=""> kings</span><span class="token punctuation">,</span><span class=""> aces</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">83</span><span class="">        </span><span class="token keyword">if</span><span class=""> kings </span><span class="token operator">&gt;=</span><span class=""> </span><span class="token number">3</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">84</span><span class="">            </span><span class="token keyword">break</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">85</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">86</span><span class="">        </span><span class="token comment"># Find the indices to discard; we probably want to discard on the right first</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">87</span><span class="">        </span><span class="token comment"># since we play cards from the left.</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">88</span><span class="">        remove </span><span class="token operator">=</span><span class=""> </span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="">aces</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class=""> </span><span class="token operator">+</span><span class=""> </span><span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">8</span><span class=""> </span><span class="token operator">-</span><span class=""> kings </span><span class="token operator">-</span><span class=""> aces</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">89</span><span class="">        remove </span><span class="token operator">=</span><span class=""> remove</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">90</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">91</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string-interpolation string">f&#x27;a </span><span class="token string-interpolation interpolation punctuation">{</span><span class="token string-interpolation interpolation string">&quot; &quot;</span><span class="token string-interpolation interpolation punctuation">.</span><span class="token string-interpolation interpolation">join</span><span class="token string-interpolation interpolation punctuation">(</span><span class="token string-interpolation interpolation builtin">map</span><span class="token string-interpolation interpolation punctuation">(</span><span class="token string-interpolation interpolation builtin">str</span><span class="token string-interpolation interpolation punctuation">,</span><span class="token string-interpolation interpolation"> remove</span><span class="token string-interpolation interpolation punctuation">)</span><span class="token string-interpolation interpolation punctuation">)</span><span class="token string-interpolation interpolation punctuation">}</span><span class="token string-interpolation string">&#x27;</span><span class="token punctuation">.</span><span class="">encode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">92</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n&gt;&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">93</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string">b&#x27;d&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">94</span><span class="">    </span><span class="token keyword">else</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">95</span><span class="">        </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&#x27;not able to discard :(&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">96</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">97</span><span class="">    </span><span class="token keyword">for</span><span class=""> _ </span><span class="token keyword">in</span><span class=""> </span><span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">98</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string">b&#x27;a 1&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">99</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;\n&gt;&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">100</span><span class="">        conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="token string">b&#x27;p&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">101</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">102</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">103</span><span class="">conn </span><span class="token operator">=</span><span class=""> pwn</span><span class="token punctuation">.</span><span class="">remote</span><span class="token punctuation">(</span><span class="token string">&#x27;precipice.challs.m0lecon.it&#x27;</span><span class="token punctuation">,</span><span class=""> </span><span class="token number">14615</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">104</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">105</span><span class=""></span><span class="token comment"># Do PoW :)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">106</span><span class="">cmd </span><span class="token operator">=</span><span class=""> conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;Result: &#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">split</span><span class="token punctuation">(</span><span class="token string">&#x27;\n&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">107</span><span class="">res </span><span class="token operator">=</span><span class=""> subprocess</span><span class="token punctuation">.</span><span class="">run</span><span class="token punctuation">(</span><span class="">cmd</span><span class="token punctuation">,</span><span class=""> capture_output</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span><span class=""> shell</span><span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">stdout</span><span class="token punctuation">.</span><span class="">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">108</span><span class="">conn</span><span class="token punctuation">.</span><span class="">sendline</span><span class="token punctuation">(</span><span class="">res</span><span class="token punctuation">.</span><span class="">encode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">109</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">110</span><span class="">skip_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">111</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">112</span><span class=""></span><span class="token keyword">while</span><span class=""> </span><span class="token builtin">len</span><span class="token punctuation">(</span><span class="">queue</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">&gt;</span><span class=""> </span><span class="token number">0</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">113</span><span class="">    play_game</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">114</span><span class="">    handle_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">115</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">116</span><span class=""></span><span class="token keyword">while</span><span class=""> </span><span class="token boolean">True</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">117</span><span class="">    play_game_kings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">118</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">119</span><span class="">    </span><span class="token keyword">if</span><span class=""> conn</span><span class="token punctuation">.</span><span class="">recvuntil</span><span class="token punctuation">(</span><span class="token string">b&#x27;GG&#x27;</span><span class="token punctuation">,</span><span class=""> timeout</span><span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class=""> </span><span class="token operator">!=</span><span class=""> </span><span class="token string">b&#x27;&#x27;</span><span class="token punctuation">:</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">120</span><span class="">        </span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="">conn</span><span class="token punctuation">.</span><span class="">recvall</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="">decode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">121</span><span class="">        </span><span class="token keyword">break</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">122</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">123</span><span class="">    skip_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code></pre></div></div>
<p>which we can run repeatedly (praying it never hits an Erosion)</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21.038,4.9l-7.577-4.498C13.009,0.134,12.505,0,12,0c-0.505,0-1.009,0.134-1.462,0.403L2.961,4.9 C2.057,5.437,1.5,6.429,1.5,7.503v8.995c0,1.073,0.557,2.066,1.462,2.603l7.577,4.497C10.991,23.866,11.495,24,12,24 c0.505,0,1.009-0.134,1.461-0.402l7.577-4.497c0.904-0.537,1.462-1.529,1.462-2.603V7.503C22.5,6.429,21.943,5.437,21.038,4.9z M15.17,18.946l0.013,0.646c0.001,0.078-0.05,0.167-0.111,0.198l-0.383,0.22c-0.061,0.031-0.111-0.007-0.112-0.085L14.57,19.29 c-0.328,0.136-0.66,0.169-0.872,0.084c-0.04-0.016-0.057-0.075-0.041-0.142l0.139-0.584c0.011-0.046,0.036-0.092,0.069-0.121 c0.012-0.011,0.024-0.02,0.036-0.026c0.022-0.011,0.043-0.014,0.062-0.006c0.229,0.077,0.521,0.041,0.802-0.101 c0.357-0.181,0.596-0.545,0.592-0.907c-0.003-0.328-0.181-0.465-0.613-0.468c-0.55,0.001-1.064-0.107-1.072-0.917 c-0.007-0.667,0.34-1.361,0.889-1.8l-0.007-0.652c-0.001-0.08,0.048-0.168,0.111-0.2l0.37-0.236 c0.061-0.031,0.111,0.007,0.112,0.087l0.006,0.653c0.273-0.109,0.511-0.138,0.726-0.088c0.047,0.012,0.067,0.076,0.048,0.151 l-0.144,0.578c-0.011,0.044-0.036,0.088-0.065,0.116c-0.012,0.012-0.025,0.021-0.038,0.028c-0.019,0.01-0.038,0.013-0.057,0.009 c-0.098-0.022-0.332-0.073-0.699,0.113c-0.385,0.195-0.52,0.53-0.517,0.778c0.003,0.297,0.155,0.387,0.681,0.396 c0.7,0.012,1.003,0.318,1.01,1.023C16.105,17.747,15.736,18.491,15.17,18.946z M19.143,17.859c0,0.06-0.008,0.116-0.058,0.145 l-1.916,1.164c-0.05,0.029-0.09,0.004-0.09-0.056v-0.494c0-0.06,0.037-0.093,0.087-0.122l1.887-1.129 c0.05-0.029,0.09-0.004,0.09,0.056V17.859z M20.459,6.797l-7.168,4.427c-0.894,0.523-1.553,1.109-1.553,2.187v8.833 c0,0.645,0.26,1.063,0.66,1.184c-0.131,0.023-0.264,0.039-0.398,0.039c-0.42,0-0.833-0.114-1.197-0.33L3.226,18.64 c-0.741-0.44-1.201-1.261-1.201-2.142V7.503c0-0.881,0.46-1.702,1.201-2.142l7.577-4.498c0.363-0.216,0.777-0.33,1.197-0.33 c0.419,0,0.833,0.114,1.197,0.33l7.577,4.498c0.624,0.371,1.046,1.013,1.164,1.732C21.686,6.557,21.12,6.411,20.459,6.797z"></path></svg> <!-- -->bash<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="">reroll: </span><span class="token variable">$226</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Riff Raff
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Gros Michel
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">reroll: </span><span class="token variable">$221</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Gros Michel
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Baron
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">reroll: </span><span class="token variable">$216</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Stone Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">Traceback </span><span class="token punctuation">(</span><span class="">most recent call last</span><span class="token punctuation">)</span><span class="">:
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">  File </span><span class="token string">&quot;/mnt/c/Users/kevin/Downloads/ctf/balatro.py&quot;</span><span class="">, line </span><span class="token number">112</span><span class="">, </span><span class="token keyword">in</span><span class=""> </span><span class="token operator">&lt;</span><span class="">module</span><span class="token operator">&gt;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">    handle_shop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">  File </span><span class="token string">&quot;/mnt/c/Users/kevin/Downloads/ctf/balatro.py&quot;</span><span class="">, line </span><span class="token number">23</span><span class="">, </span><span class="token keyword">in</span><span class=""> handle_shop
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">    query_shop_joker</span><span class="token punctuation">(</span><span class="token string">&#x27;2&#x27;</span><span class=""> </span><span class="token keyword">if</span><span class=""> not b </span><span class="token keyword">else</span><span class=""> </span><span class="token string">&#x27;1&#x27;</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">  File </span><span class="token string">&quot;/mnt/c/Users/kevin/Downloads/ctf/balatro.py&quot;</span><span class="">, line </span><span class="token number">46</span><span class="">, </span><span class="token keyword">in</span><span class=""> query_shop_joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">    conn.recvuntil</span><span class="token punctuation">(</span><span class="">f</span><span class="token string">&#x27;{index}: &#x27;</span><span class="">.encode</span><span class="token punctuation">(</span><span class="token punctuation">))</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">  File </span><span class="token string">&quot;/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/tube.py&quot;</span><span class="">, line </span><span class="token number">381</span><span class="">, </span><span class="token keyword">in</span><span class=""> recvuntil
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">    res </span><span class="token operator">=</span><span class=""> self.recv</span><span class="token punctuation">(</span><span class="">timeout</span><span class="token operator">=</span><span class="">self.timeout</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">18</span>          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">  File </span><span class="token string">&quot;/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/tube.py&quot;</span><span class="">, line </span><span class="token number">146</span><span class="">, </span><span class="token keyword">in</span><span class=""> recv
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">    </span><span class="token builtin class-name">return</span><span class=""> self._recv</span><span class="token punctuation">(</span><span class="">numb, </span><span class="token function">timeout</span><span class="token punctuation">)</span><span class=""> or b</span><span class="token string">&#x27;&#x27;</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">21</span>           ^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">  File </span><span class="token string">&quot;/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/tube.py&quot;</span><span class="">, line </span><span class="token number">216</span><span class="">, </span><span class="token keyword">in</span><span class=""> _recv
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">    </span><span class="token keyword">if</span><span class=""> not self.buffer and not self._fillbuffer</span><span class="token punctuation">(</span><span class="">timeout</span><span class="token punctuation">)</span><span class="">:
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">24</span>                               ^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="">  File </span><span class="token string">&quot;/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/tube.py&quot;</span><span class="">, line </span><span class="token number">195</span><span class="">, </span><span class="token keyword">in</span><span class=""> _fillbuffer
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">    data </span><span class="token operator">=</span><span class=""> self.recv_raw</span><span class="token punctuation">(</span><span class="">self.buffer.get_fill_size</span><span class="token punctuation">(</span><span class="token punctuation">))</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">27</span>           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">  File </span><span class="token string">&quot;/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/sock.py&quot;</span><span class="">, line </span><span class="token number">56</span><span class="">, </span><span class="token keyword">in</span><span class=""> recv_raw
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">29</span>    raise EOFError
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">30</span>EOFError
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class=""></span><span class="token punctuation">[</span><span class="">*</span><span class="token punctuation">]</span><span class=""> Closed connection to precipice.challs.m0lecon.it port </span><span class="token number">14615</span></code></pre></div></div>
<p>until finally, we win:</p>
<div class="border border-white/10 rounded-lg my-2"><p class="font-jetbrains flex items-center text-xs rounded-t-lg px-3 py-0.5 text-secondary"><svg stroke="currentColor" fill="currentColor" stroke-width="0" role="img" viewBox="0 0 24 24" class="text-sm mr-1.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21.038,4.9l-7.577-4.498C13.009,0.134,12.505,0,12,0c-0.505,0-1.009,0.134-1.462,0.403L2.961,4.9 C2.057,5.437,1.5,6.429,1.5,7.503v8.995c0,1.073,0.557,2.066,1.462,2.603l7.577,4.497C10.991,23.866,11.495,24,12,24 c0.505,0,1.009-0.134,1.461-0.402l7.577-4.497c0.904-0.537,1.462-1.529,1.462-2.603V7.503C22.5,6.429,21.943,5.437,21.038,4.9z M15.17,18.946l0.013,0.646c0.001,0.078-0.05,0.167-0.111,0.198l-0.383,0.22c-0.061,0.031-0.111-0.007-0.112-0.085L14.57,19.29 c-0.328,0.136-0.66,0.169-0.872,0.084c-0.04-0.016-0.057-0.075-0.041-0.142l0.139-0.584c0.011-0.046,0.036-0.092,0.069-0.121 c0.012-0.011,0.024-0.02,0.036-0.026c0.022-0.011,0.043-0.014,0.062-0.006c0.229,0.077,0.521,0.041,0.802-0.101 c0.357-0.181,0.596-0.545,0.592-0.907c-0.003-0.328-0.181-0.465-0.613-0.468c-0.55,0.001-1.064-0.107-1.072-0.917 c-0.007-0.667,0.34-1.361,0.889-1.8l-0.007-0.652c-0.001-0.08,0.048-0.168,0.111-0.2l0.37-0.236 c0.061-0.031,0.111,0.007,0.112,0.087l0.006,0.653c0.273-0.109,0.511-0.138,0.726-0.088c0.047,0.012,0.067,0.076,0.048,0.151 l-0.144,0.578c-0.011,0.044-0.036,0.088-0.065,0.116c-0.012,0.012-0.025,0.021-0.038,0.028c-0.019,0.01-0.038,0.013-0.057,0.009 c-0.098-0.022-0.332-0.073-0.699,0.113c-0.385,0.195-0.52,0.53-0.517,0.778c0.003,0.297,0.155,0.387,0.681,0.396 c0.7,0.012,1.003,0.318,1.01,1.023C16.105,17.747,15.736,18.491,15.17,18.946z M19.143,17.859c0,0.06-0.008,0.116-0.058,0.145 l-1.916,1.164c-0.05,0.029-0.09,0.004-0.09-0.056v-0.494c0-0.06,0.037-0.093,0.087-0.122l1.887-1.129 c0.05-0.029,0.09-0.004,0.09,0.056V17.859z M20.459,6.797l-7.168,4.427c-0.894,0.523-1.553,1.109-1.553,2.187v8.833 c0,0.645,0.26,1.063,0.66,1.184c-0.131,0.023-0.264,0.039-0.398,0.039c-0.42,0-0.833-0.114-1.197-0.33L3.226,18.64 c-0.741-0.44-1.201-1.261-1.201-2.142V7.503c0-0.881,0.46-1.702,1.201-2.142l7.577-4.498c0.363-0.216,0.777-0.33,1.197-0.33 c0.419,0,0.833,0.114,1.197,0.33l7.577,4.498c0.624,0.371,1.046,1.013,1.164,1.732C21.686,6.557,21.12,6.411,20.459,6.797z"></path></svg> <!-- -->bash<button class="ml-auto hover:underline">(copy)</button></p><div class="rounded-b-lg overflow-hidden text-xs"><pre class="prismjs"><code style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">1</span><span class="token punctuation">[</span><span class="">+</span><span class="token punctuation">]</span><span class=""> Opening connection to precipice.challs.m0lecon.it on port </span><span class="token number">14615</span><span class="">: Done
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">2</span><span class="">shop: </span><span class="token variable">$0</span><span class="">.0
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">3</span><span class="">shop: </span><span class="token variable">$366</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">4</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Brainstorm
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">5</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Burnt Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">6</span><span class="">reroll: </span><span class="token variable">$366</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">7</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Dusk
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">8</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Hanging Chad
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">9</span><span class="">reroll: </span><span class="token variable">$361</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">10</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Cavendish
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">11</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Blueprint
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">12</span><span class="">reroll: </span><span class="token variable">$356</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">13</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Flower Pot
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">14</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Acrobat
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">15</span><span class="">reroll: </span><span class="token variable">$351</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">16</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Hiker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">17</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Midas Mask
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">18</span><span class="">reroll: </span><span class="token variable">$346</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">19</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Certificate
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">20</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Ancient Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">21</span><span class="">reroll: </span><span class="token variable">$341</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">22</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Banner
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">23</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Sock And Buskin
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">24</span><span class="">reroll: </span><span class="token variable">$336</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">25</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Ramen
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">26</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Brainstorm
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">27</span><span class="">reroll: </span><span class="token variable">$331</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">28</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Misprint
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">29</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Banner
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">30</span><span class="">reroll: </span><span class="token variable">$326</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">31</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Scary Face
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">32</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Sock And Buskin
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">33</span><span class="">reroll: </span><span class="token variable">$321</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">34</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Vampire
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">35</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">36</span><span class="">reroll: </span><span class="token variable">$316</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">37</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Abstract Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">38</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Midas Mask
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">39</span><span class="">reroll: </span><span class="token variable">$311</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">40</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Abstract Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">41</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Ramen
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">42</span><span class="">reroll: </span><span class="token variable">$306</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">43</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Mime
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">44</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Smiley Face
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">45</span><span class="">reroll: </span><span class="token variable">$301</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">46</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Baron
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">47</span>purchased Baron
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">48</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Turtle Bean
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">49</span><span class="">reroll: </span><span class="token variable">$288</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">50</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Drunkard
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">51</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Hologram
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">52</span><span class="">reroll: </span><span class="token variable">$283</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">53</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Baron
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">54</span>purchased Baron
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">55</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Burnt Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">56</span><span class="">reroll: </span><span class="token variable">$270</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">57</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Certificate
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">58</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Sock And Buskin
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">59</span><span class="">reroll: </span><span class="token variable">$265</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">60</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Brainstorm
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">61</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">62</span><span class="">reroll: </span><span class="token variable">$260</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">63</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Stone Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">64</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Joker Stencil
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">65</span><span class="">reroll: </span><span class="token variable">$255</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">66</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Hiker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">67</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Hiker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">68</span><span class="">reroll: </span><span class="token variable">$250</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">69</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Joker Stencil
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">70</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Hiker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">71</span><span class="">reroll: </span><span class="token variable">$245</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">72</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Loyalty Card
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">73</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Golden Ticket
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">74</span><span class="">reroll: </span><span class="token variable">$240</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">75</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Gros Michel
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">76</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Certificate
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">77</span><span class="">reroll: </span><span class="token variable">$235</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">78</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Blueprint
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">79</span>purchased Blueprint
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">80</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Midas Mask
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">81</span><span class="">reroll: </span><span class="token variable">$220</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">82</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Drunkard
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">83</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Gros Michel
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">84</span><span class="">reroll: </span><span class="token variable">$215</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">85</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Blue Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">86</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Ramen
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">87</span><span class="">reroll: </span><span class="token variable">$210</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">88</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Hologram
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">89</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Dusk
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">90</span><span class="">reroll: </span><span class="token variable">$205</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">91</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Shoot The Moon
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">92</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Gros Michel
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">93</span><span class="">reroll: </span><span class="token variable">$200</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">94</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Blue Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">95</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Abstract Joker
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">96</span><span class="">reroll: </span><span class="token variable">$195</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">97</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Raised Fist
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">98</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Loyalty Card
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">99</span><span class="">reroll: </span><span class="token variable">$190</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">100</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Baron
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">101</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Dusk
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">102</span><span class="">reroll: </span><span class="token variable">$185</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">103</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Sock And Buskin
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">104</span><span class="">-</span><span class="token operator">&gt;</span><span class=""> Mime
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">105</span>purchased Mime
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">106</span><span class=""> 🂢 🃈 🂹 🃋 🂾 🃁 🃑 🂡 </span><span class="token number">1</span><span class=""> </span><span class="token number">3</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">107</span><span class=""> 🂴 🂵 🂷 🂧 🂹 🃋 🂽 🂾 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">108</span><span class=""> 🃄 🂤 🃗 🂩 🃋 🂽 🂾 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">109</span><span class=""> 🂳 🃕 🃖 🃇 🂻 🂽 🂾 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">110</span><span class=""> 🃂 🃔 🃉 🂪 🂽 🂾 🃞 🂱 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">111</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">112</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">113</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">114</span><span class="">   🂹 🃉 🂩 🂻 🂽 🃞 🂱 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">115</span><span class=""> 🃅 🃗 🂫 🂽 🂭 🃞 🂱   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">116</span><span class=""> 🂳 🃄 🃇 🃙 🃊 🂭 🃞   </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">117</span><span class="">   🃔 🃕 🃊 🃚 🃋 🂭 🃞 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">118</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">119</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">120</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">121</span><span class="">   🃕 🂨 🂹 🃉 🂻 🃋 🃝 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">122</span><span class="">   🃖 🂻 🃋 🃛 🃝 🂾 🃁 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">123</span><span class=""> 🃔 🂶 🃇 🃈 🃝 🂾 🃁   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">124</span><span class=""> 🃂 🂥 🃗 🃘 🃝 🂾 🃁   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">125</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">126</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">127</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">128</span><span class="">   🂢 🂣 🃄 🃕 🂶 🃙 🃑 </span><span class="token number">0</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">129</span><span class=""> 🂴 🂶 🃆 🃇 🃙 🃛 🃑   </span><span class="token number">0</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">130</span><span class=""> 🃓 🂵 🃙 🃋 🃛 🃝 🃞   </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">131</span><span class="">   🂧 🃛 🂫 🃝 🂭 🂾 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">132</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">133</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">134</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">135</span><span class="">   🂴 🂷 🃈 🂪 🃝 🂾 🃑 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">136</span><span class=""> 🂵 🂺 🂫 🃝 🂾 🂮 🂱   </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">137</span><span class=""> 🂢 🃘 🃍 🂭 🂾 🂮 🂱   </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">138</span><span class=""> 🂤 🃖 🂧 🃙 🂻 🂾 🂮   </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">139</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">140</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">141</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">142</span><span class="">   🃇 🂨 🃊 🃝 🂭 🃎 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">143</span><span class="">   🂦 🂸 🂻 🂭 🃎 🃞 🃑 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">144</span><span class=""> 🃂 🂥 🃆 🂧 🂹 🃎 🃞   </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">145</span><span class="">   🂶 🂷 🂹 🃚 🃎 🃞 🂡 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">146</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">147</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">148</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">149</span><span class="">   🂣 🃕 🂥 🃆 🂦 🃚 🂮 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">150</span><span class="">   🂧 🃚 🂪 🂻 🃞 🂮 🂡 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">151</span><span class=""> 🂷 🃈 🃘 🃛 🂽 🃞 🂮   </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">152</span><span class="">   🂽 🃍 🂭 🃎 🃞 🂮 🃑 </span><span class="token number">3</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">153</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">154</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">155</span><span class="">   🃂 🂢 🃃 🂵 🂥 🃈 🂩 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">156</span><span class="">   🂥 🃈 🂩 🃚 🃝 🃞 🃑 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">157</span><span class=""> 🂴 🃔 🂦 🃗 🃘 🃝 🃞   </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">158</span><span class="">   🃆 🃘 🃋 🃛 🃝 🂭 🃞 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">159</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">160</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">161</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">162</span><span class="">   🂢 🃅 🃆 🃈 🂹 🂩 🂽 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">163</span><span class="">   🃄 🃔 🂦 🂹 🂩 🂽 🃍 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">164</span><span class="">   🃇 🂩 🂪 🂽 🃍 🂾 🃑 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">165</span><span class=""> 🃒 🂥 🂧 🃊 🃍 🂾 🂮   </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">166</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">167</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">168</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">169</span><span class="">   🂳 🃄 🂨 🃊 🃚 🂪 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">170</span><span class="">   🃇 🃗 🃚 🂪 🃛 🂫 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">171</span><span class="">   🃔 🂧 🃈 🃛 🂫 🂽 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">172</span><span class="">   🃕 🂥 🂫 🂽 🃍 🂭 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">173</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">174</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">175</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">176</span><span class="">   🃗 🂸 🃉 🃝 🃎 🂮 🃁 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">177</span><span class=""> 🃔 🂦 🂫 🃎 🃞 🂮 🃁   </span><span class="token number">3</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">178</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">179</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">180</span><span class="">   🂦 🃇 🃉 🂻 🃋 🂱 🃑 </span><span class="token number">0</span><span class=""> </span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">181</span><span class=""> 🃒 🃃 🃋 🃛 🂽 🂾   🃑 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">182</span><span class=""> 🂲 🂳 🂷 🂨 🂺 🃛 🂽   </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">183</span><span class="">   🃔 🃗 🂧 🂺 🂪 🃛 🂽 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">184</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">185</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">186</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">187</span><span class="">   🃇 🂸 🃚 🂪 🃍 🃞 🃁 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">188</span><span class=""> 🃅 🂧 🃊 🃛 🃍 🃞 🂱   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">189</span><span class=""> 🂲 🂣 🃍 🃝 🂭 🃞 🂱   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">190</span><span class=""> 🃒 🂥 🂶 🃖 🂭 🃞 🂱   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">191</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">192</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">193</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">194</span><span class="">   🂥 🃆 🂷 🃇 🂪 🃛 🃑 </span><span class="token number">0</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">195</span><span class=""> 🂴 🃖 🃘 🃙 🂪 🃛 🂽   </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">196</span><span class="">   🂧 🂺 🂪 🃛 🂽 🂱 🂡 </span><span class="token number">0</span><span class=""> </span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">197</span><span class=""> 🃃 🃄 🃕 🃋 🂽 🃞   🂡 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">198</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">199</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">200</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">201</span><span class="">   🂣 🃄 🃔 🃆 🃇 🂧 🃝 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">202</span><span class="">   🃇 🂧 🂸 🂨 🂺 🃋 🃝 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">203</span><span class="">   🂵 🂦 🂺 🃋 🃝 🂾 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">204</span><span class="">   🃙 🂽 🃍 🃝 🂾 🃞 🂮 </span><span class="token number">3</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">205</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">206</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">207</span><span class="">   🃗 🂸 🃈 🃉 🃋 🂭 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">208</span><span class="">   🃓 🃕 🂨 🃋 🂭 🂾 🃎 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">209</span><span class="">   🂶 🂹 🃍 🂭 🂾 🃎 🃁 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">210</span><span class=""> 🂳 🃅 🃚 🃝 🂾 🃎 🃁   </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">211</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">212</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">213</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">214</span><span class="">   🃒 🂣 🃅 🃕 🂦 🃉 🂱 </span><span class="token number">0</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">215</span><span class=""> 🂴 🂶 🂦 🃉 🃊 🃍 🃝   </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">216</span><span class="">   🃇 🂸 🂺 🃊 🃍 🃝 🂡 </span><span class="token number">0</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">217</span><span class=""> 🂢 🃖 🃋 🂽 🃍 🃝 🂮   </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">218</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">219</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">220</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">221</span><span class="">   🃓 🂵 🂷 🃈 🂻 🃋 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">222</span><span class="">   🃆 🂨 🂻 🃋 🃛 🃝 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">223</span><span class="">   🂺 🃚 🃛 🂽 🃝 🂭 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">224</span><span class="">   🃔 🃗 🂫 🃝 🂭 🃎 🃁 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">225</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">226</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">227</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">228</span><span class="">   🂳 🃔 🃕 🃗 🂹 🂮 🂡 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">229</span><span class=""> 🃓 🃅 🃖 🂷 🂹 🂮 🃑   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">230</span><span class=""> 🃆 🃇 🂧 🂹 🂫 🂮 🂱   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">231</span><span class=""> 🃉 🃚 🂻 🃛 🂫 🃎 🂮   </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">232</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">233</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">234</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">235</span><span class="">   🂦 🃇 🂧 🃘 🃝 🃞 🂡 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">236</span><span class=""> 🃓 🃕 🂸 🃈 🃝 🃎 🃞   </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">237</span><span class="">   🃉 🃋 🃝 🃎 🃞 🂱 🃑 </span><span class="token number">2</span><span class=""> </span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">238</span><span class=""> 🂲 🂢 🂹 🂪 🂭 🃞   🃑 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">239</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">240</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">241</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">242</span><span class="">   🂨 🃉 🃊 🂪 🂾 🃞 🂱 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">243</span><span class=""> 🃄 🃔 🂤 🂧 🂸 🂾 🃞   </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">244</span><span class="">   🃕 🂷 🂸 🃛 🂭 🂾 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">245</span><span class="">   🂢 🃃 🂣 🃙 🂭 🂾 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">246</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">247</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">248</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">249</span><span class="">   🃒 🃓 🂴 🃇 🂩 🂪 🃝 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">250</span><span class="">   🂷 🂩 🂪 🂻 🃝 🃎 🂱 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">251</span><span class=""> 🂥 🂨 🂫 🂽 🃝 🃎 🂱   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">252</span><span class=""> 🃖 🂧 🃍 🃝 🂾 🃎 🂱   </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">253</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">254</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">255</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">256</span><span class="">   🂣 🃔 🂤 🂶 🂸 🃋 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">257</span><span class="">   🃅 🂸 🂩 🃋 🂫 🂾 🃎 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">258</span><span class="">   🂢 🂹 🃊 🂫 🂾 🃎 🂮 </span><span class="token number">3</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">259</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">260</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">261</span><span class="">   🂢 🂤 🂶 🃆 🂷 🃚 🂭 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">262</span><span class="">   🂷 🂸 🃘 🃚 🂭 🃑 🂡 </span><span class="token number">0</span><span class=""> </span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">263</span><span class=""> 🂵 🂦 🂧 🂽 🂭 🃁   🂡 </span><span class="token number">0</span><span class=""> </span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">264</span><span class=""> 🂣 🃉 🂽 🃍 🃝 🂭   🃁 </span><span class="token number">0</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">265</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">266</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">267</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">268</span><span class="">   🂣 🃄 🂵 🃆 🂸 🂪 🂭 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">269</span><span class="">   🂳 🂤 🃅 🂸 🂪 🃛 🂭 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">270</span><span class="">   🃇 🃗 🃈 🂪 🃛 🂭 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">271</span><span class="">   🂶 🂧 🃋 🃛 🂭 🃎 🂡 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">272</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">273</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">274</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">275</span><span class="">   🂴 🃅 🂸 🃘 🃙 🃚 🃛 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">276</span><span class="">   🂧 🃙 🃚 🃛 🂽 🂾 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">277</span><span class="">   🂹 🂽 🂾 🃎 🃞 🂮 🂱 </span><span class="token number">4</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">278</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">279</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">280</span><span class="">   🃔 🂵 🂻 🃛 🃝 🂾 🃁 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">281</span><span class=""> 🃒 🂢 🂶 🂧 🃋 🃝 🂾   </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">282</span><span class="">   🃉 🃙 🂺 🃋 🃝 🂭 🂾 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">283</span><span class="">   🃄 🃖 🂦 🂨 🃝 🂭 🂾 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">284</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">285</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">286</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">287</span><span class="">   🂴 🂵 🃅 🂸 🂩 🂪 🃋 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">288</span><span class="">   🃓 🂣 🃈 🂩 🃊 🂪 🃋 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">289</span><span class="">   🃕 🃆 🃊 🂪 🃋 🂭 🂾 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">290</span><span class="">   🂶 🂷 🃙 🃋 🂭 🂾 🃎 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">291</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">292</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">293</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">294</span><span class="">   🂢 🃔 🃕 🂧 🃈 🂩 🂫 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">295</span><span class="">   🃈 🂩 🂫 🂽 🂾 🃞 🂮 </span><span class="token number">3</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">296</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">297</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">298</span><span class="">   🂴 🃅 🂥 🂦 🂷 🂨 🃍 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">299</span><span class="">   🂷 🂨 🃉 🃙 🃍 🃝 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">300</span><span class="">   🃍 🃝 🂭 🂾 🃎 🃑 🂡 </span><span class="token number">2</span><span class=""> </span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">301</span><span class=""> 🃔 🂵 🂶 🃖 🃎 🂮   🂡 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">302</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">303</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">304</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">305</span><span class="">   🂤 🂥 🂶 🂷 🃇 🃉 🃁 </span><span class="token number">0</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">306</span><span class=""> 🃇 🃗 🂸 🂹 🃉 🂩 🃚   </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">307</span><span class="">   🃔 🃅 🃖 🃉 🂩 🃚 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">308</span><span class="">   🃈 🂩 🃚 🂪 🃋 🃝 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">309</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">310</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">311</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">312</span><span class="">   🃅 🃆 🃖 🃈 🃋 🃍 🂮 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">313</span><span class="">   🂤 🃗 🂧 🂪 🃋 🃍 🂮 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">314</span><span class="">   🃘 🃙 🂻 🃋 🃍 🃞 🂮 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">315</span><span class="">   🂷 🃇 🃍 🂭 🃎 🃞 🂮 </span><span class="token number">3</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">316</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">317</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">318</span><span class="">   🃔 🃕 🃗 🃈 🂹 🂫 🃝 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">319</span><span class="">   🂹 🃊 🂻 🂫 🃍 🃝 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">320</span><span class="">   🂢 🃓 🃖 🃇 🃍 🃝 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">321</span><span class="">   🂸 🂽 🃍 🃝 🂭 🃎 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">322</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">323</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">324</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">325</span><span class="">   🂴 🂷 🃘 🂽 🂭 🂾 🂱 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">326</span><span class=""> 🃅 🃇 🃗 🃉 🂭 🂾 🃞   </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">327</span><span class="">   🂵 🂥 🂩 🂪 🂭 🂾 🃞 </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">328</span><span class="">   🃕 🂨 🃛 🂭 🂾 🃞 🂡 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">329</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">330</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">331</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">332</span><span class="">   🃔 🃙 🃚 🃍 🂾 🂮 🃁 </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">333</span><span class=""> 🂧 🃘 🂹 🃊 🂾 🂮 🂱   </span><span class="token number">2</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">334</span><span class=""> 🃕 🃆 🂽 🂾 🃎 🂮 🂱   </span><span class="token number">3</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">335</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">336</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">337</span><span class="">   🃖 🃘 🂪 🂻 🃛 🂫 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">338</span><span class="">   🃆 🂸 🃈 🂩 🃛 🂫 🃎 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">339</span><span class="">   🃓 🂺 🃛 🂫 🂾 🃎 🂮 </span><span class="token number">3</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">340</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">341</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">342</span><span class="">   🃄 🃔 🃘 🂪 🂻 🂫 🂮 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">343</span><span class="">   🂣 🂷 🂻 🂫 🃝 🂮 🂱 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">344</span><span class=""> 🃓 🃖 🂸 🃊 🃝 🂮 🂱   </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">345</span><span class=""> 🂲 🃗 🂨 🃙 🃝 🃞 🂮   </span><span class="token number">2</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">346</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">347</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">348</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">349</span><span class="">   🂴 🃔 🂸 🃈 🃙 🂭 🃞 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">350</span><span class="">   🂤 🂥 🃙 🂺 🂻 🂭 🃞 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">351</span><span class="">   🂨 🃚 🂻 🃝 🂭 🃞 🂱 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">352</span><span class=""> 🂲 🃂 🃓 🃖 🂹 🂭 🃞   </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">353</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">354</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">355</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">356</span><span class="">   🃖 🃇 🃈 🂩 🂪 🂱 🃑 </span><span class="token number">0</span><span class=""> </span><span class="token number">2</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">357</span><span class=""> 🃒 🃃 🂣 🂪 🂻 🂭   🃑 </span><span class="token number">0</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">358</span><span class=""> 🂲 🂵 🂥 🃗 🂪 🂻 🂭   </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">359</span><span class="">   🂶 🃉 🂺 🃊 🂪 🂻 🂭 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">360</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">361</span><span class="">shop: </span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">362</span><span class=""> 🃏 🃏 </span><span class="token number">0</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">363</span><span class="">   🃃 🂴 🂶 🃙 🃚 🂽 🂾 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">364</span><span class="">   🃔 🃉 🃚 🃋 🂽 🂾 🂱 </span><span class="token number">1</span><span class=""> </span><span class="token number">1</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">365</span><span class=""> 🃒 🃅 🂦 🃛 🂽 🃝 🂾   </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">366</span><span class="">   🂵 🂸 🂨 🂺 🂽 🃝 🂾 </span><span class="token number">1</span><span class=""> </span><span class="token number">0</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">367</span><span class="">not able to discard :</span><span class="token punctuation">(</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">368</span><span class=""></span><span class="token punctuation">[</span><span class="">+</span><span class="token punctuation">]</span><span class=""> Receiving all data: Done </span><span class="token punctuation">(</span><span class="">116B</span><span class="token punctuation">)</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">369</span><span class=""></span><span class="token punctuation">[</span><span class="">*</span><span class="token punctuation">]</span><span class=""> Closed connection to precipice.challs.m0lecon.it port </span><span class="token number">14615</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">370</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">371</span><span class=""> ptm</span><span class="token punctuation">{</span><span class="">7urns_0u7_7h3r3_w@s_p@p3r0nis_m0n3y_p00l_@7_7h3_b0770m_0f_7h3_pr3cipic3</span><span class="token punctuation">}</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">372</span><span class=""></span><span class="token punctuation">\</span><span class="">x1b</span><span class="token punctuation">[</span><span class="">2J
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">373</span><span class=""> ~</span><span class="token variable">$inf</span><span class="">
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:1em;text-align:right;user-select:none">374</span><span class=""> </span><span class="token variable">$3</span><span class="">.308591879916669e+233</span></code></pre></div></div></main></div><!--$--><!--/$--></main><script src="/_next/static/chunks/f94e73be74b0c78c.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[39756,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/b71c1cfea9076b4b.js\"],\"default\"]\n3:I[37457,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/b71c1cfea9076b4b.js\"],\"default\"]\n4:I[22016,[\"/_next/static/chunks/b9afcb09c56609a6.js\"],\"\"]\n6:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/b71c1cfea9076b4b.js\"],\"OutletBoundary\"]\n7:\"$Sreact.suspense\"\n9:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/b71c1cfea9076b4b.js\"],\"ViewportBoundary\"]\nb:I[97367,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/b71c1cfea9076b4b.js\"],\"MetadataBoundary\"]\nd:I[68027,[\"/_next/static/chunks/ff1a16fafef87110.js\",\"/_next/static/chunks/b71c1cfea9076b4b.js\"],\"default\"]\n:HL[\"/_next/static/chunks/5ff2844ed613b929.css\",\"style\"]\n:HL[\"/_next/static/media/70bc3e132a0a741e-s.p.15008bfb.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/83afe278b6a6bb3c-s.p.3a6ba036.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"rFWnCHv7hmmB4I4HOE6cZ\",\"c\":[\"\",\"writeups\",\"3e798b904548e506707607d0012b2c11\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"writeups\",{\"children\":[[\"id\",\"3e798b904548e506707607d0012b2c11\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/5ff2844ed613b929.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"className\":\"dark scroll-smooth jetbrains_mono_cc80ae23-module__2tkX8G__variable\",\"children\":[[\"$\",\"head\",null,{\"children\":[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}]}],[\"$\",\"body\",null,{\"className\":\"text-dark dark:text-white dark:bg-midnight\",\"style\":{\"fontFamily\":\"'Inter', 'Inter Fallback'\",\"fontStyle\":\"normal\"},\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"h-screen flex items-center justify-center\",\"children\":[\"$\",\"main\",null,{\"className\":\"relative pl-14\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"currentColor\",\"strokeWidth\":\"0\",\"viewBox\":\"0 0 512 512\",\"className\":\"absolute left-0 top-2 text-5xl text-grapefruit\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M256 48C140.559 48 48 140.559 48 256c0 115.436 92.559 208 208 208 115.435 0 208-92.564 208-208 0-115.441-92.564-208-208-208zm104.002 282.881l-29.12 29.117L256 285.117l-74.881 74.881-29.121-29.117L226.881 256l-74.883-74.881 29.121-29.116L256 226.881l74.881-74.878 29.12 29.116L285.119 256l74.883 74.881z\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],[\"$\",\"h1\",null,{\"className\":\"font-bold text-7xl underline decoration-grapefruit mb-5\",\"children\":\"404.\"}],[\"$\",\"p\",null,{\"children\":\"Your requested page was not found.\"}],[\"$\",\"$L4\",null,{\"href\":\"/\",\"className\":\"font-medium text-inherit\",\"children\":\"Return to home →\"}]]}]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"main\",null,{\"className\":\"container pt-20 pb-24\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/b9afcb09c56609a6.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[[\"$\",\"$L4\",null,{\"href\":\"/writeups\",\"className\":\"text-secondary text-sm mb-10 -ml-5 block w-max\",\"children\":\"← Back to writeups\"}],[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]]}],{\"children\":[[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",[[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/59d5dd52dd9fcb16.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-1\",{\"src\":\"/_next/static/chunks/0eb309e820c00a6d.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-2\",{\"src\":\"/_next/static/chunks/116d3b69f07f8eb7.js\",\"async\":true,\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-3\",{\"src\":\"/_next/static/chunks/39b99946d2be6a43.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"$L6\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@8\"}]}]]}],{},null,false,false]},null,false,false]},null,false,false]},null,false,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L9\",null,{\"children\":\"$@a\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$7\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@c\"}]}]}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"a:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"e:I[10453,[\"/_next/static/chunks/b9afcb09c56609a6.js\",\"/_next/static/chunks/59d5dd52dd9fcb16.js\",\"/_next/static/chunks/0eb309e820c00a6d.js\",\"/_next/static/chunks/116d3b69f07f8eb7.js\",\"/_next/static/chunks/39b99946d2be6a43.js\"],\"default\"]\nf:T10d3,"])</script><script>self.__next_f.push([1,"#!/usr/bin/env python3\n\nfrom numpy import float32\n\nfrom game_state import GameState\nfrom scoring import base_scores\n\n\ndef play_round(state):\n    assert not state.round_over\n    last_cmd = \"\"\n    try:\n        while not state.round_over:\n            ts = input(\"\u003e\")\n            if len(ts) == 0:\n                ts = last_cmd\n            for t in ts.split(\" \"):\n                if len(t) == 0:\n                    continue\n                elif t in {\"?\", \"h\", \"help\", }:\n                    print(\n                        \" \\\"?\\\" or \\\"h\\\" or \\\"help\\\" to show this message\",\n                        \" \\\"v\\\" or \\\"verbose\\\" to toggle verbose ui\",\n                        \" \\\"s\\\" or \\\"sort\\\" to toggle sorting by rank or by suit\",\n                        \" \u003ca number\u003e to select card by number\",\n                        \" \\\"p\\\" or \\\"play\\\" to play hand\",\n                        \" \\\"d\\\" or \\\"discard\\\" to discard hand\",\n                        \" \\\"a\\\" or \\\"ability\\\" to see the jokers abilities\",\n                        \" \\\"l\\\" or \\\"level\\\" to see hand level and scoring\",\n                        sep=\"\\n\"\n                    )\n                elif t in {\"v\", \"verbose\", }:\n                    state.toggle_verbose_ui()\n                elif t in {\"s\", \"sort\", }:\n                    state.toggle_sorting_order()\n                elif t in {\"p\", \"play\", }:\n                    state.play()\n                elif t in {\"d\", \"discard\", }:\n                    state.discard()\n                elif t.isdecimal():\n                    state.select(int(t)-1)\n                elif t in {\"a\", \"ability\", }:\n                    for i, j in enumerate(state.jokers, start=1):\n                        print(\n                            f\" -{i}: {j.name}: {j.description} {j.currently(state)}\")\n                elif t in {\"l\", \"level\", }:\n                    for hand_type in base_scores.keys():\n                        hand_level = state.hand_levels[hand_type]\n                        chips, mult = [\n                            b * hand_level for b in base_scores[hand_type]]\n                        print(f\" {hand_type}: {hand_level}: ${chips} X{mult}\")\n                else:\n                    print(f\"command not supported: {t!r}\")\n            last_cmd = ts\n    except KeyboardInterrupt:\n        pass\n\n\ndef play_game(state):\n    state.in_shop()\n    last_cmd = \"\"\n    try:\n        while not state.game_over:\n            t = input(\"\u003e\").strip()\n            if len(t) == 0:\n                t = last_cmd\n            if t in {\"?\", \"h\", \"help\", }:\n                print(\n                    \" \\\"?\\\" or \\\"h\\\" or \\\"help\\\" to show this message\",\n                    \" \\\"v\\\" or \\\"verbose\\\" to toggle verbose ui\",\n                    \" \\\"p\\\" or \\\"play\\\" to buy in and play the next ante\",\n                    \" \\\"f\\\" or \\\"forfit\\\" to forfit (Loser)\",\n                    f\" \\\"r\\\" or \\\"reroll\\\" to reroll the shop (${state.reroll_shop_price})\",\n                    \" \u003ca number\u003e to select shop joker by number\",\n                    \" \\\"b\\\" or \\\"buy\\\" to buy select jokers\",\n                    \" -\u003ca number\u003e to select owned joker by number\",\n                    \" \\\"s\\\" or \\\"sell\\\" to sell select jokers\",\n                    sep=\"\\n\"\n                )\n            elif t in {\"v\", \"verbose\", }:\n                state.toggle_verbose_ui()\n            elif t in {\"p\", \"play\", }:\n                state.out_shop()\n                state.buy_in()\n                play_round(state)\n                state.round_ended()\n                state.in_shop()\n            elif t in {\"f\", \"forfit\", }:\n                state.quit()\n                break\n            elif t in {\"r\", \"reroll\", }:\n                state.reroll_shop()\n            elif t.isdecimal():\n                state.select_shop_joker(int(t)-1)\n            elif t[0] == \"-\" and t[1:].isdecimal():\n                state.select_joker(int(t[1:])-1)\n            elif t in {\"b\", \"buy\", }:\n                state.buy_jokers()\n            elif t in {\"s\", \"sell\", }:\n                state.sell_jokers()\n            else:\n                print(f\"command not supported: {t!r}\")\n            last_cmd = t\n    except KeyboardInterrupt:\n        pass\n\n\nif __name__ == \"__main__\":\n    state = GameState(\n        initial_score=0,\n        initial_hands=5,\n        initial_discards=5,\n    )\n    play_game(state)"])</script><script>self.__next_f.push([1,"5:[\"$\",\"div\",null,{\"children\":[\"$\",\"main\",null,{\"className\":\"text-pretty max-w-5xl mx-auto text-sm [\u0026_h1]:text-5xl [\u0026_h1]:font-semibold [\u0026_h1]:mb-8 [\u0026_blockquote]:text-secondary [\u0026_blockquote]:space-y-3 [\u0026_blockquote]:border-l-4 [\u0026_blockquote]:border-secondary [\u0026_blockquote]:pl-5 [\u0026_blockquote]:mb-5 [\u0026\u003e_p]:my-4 [\u0026_img]:my-5 [\u0026_ul]:list-disc [\u0026_ul]:pl-6 [\u0026_ol]:list-decimal [\u0026_ol]:pl-6 [\u0026_img]:rounded [\u0026_li]:my-2\",\"children\":[[\"$\",\"h1\",\"h1-0\",{\"children\":\"m0leCon Teaser CTF 2025 — Precipice\"}],\"\\n\",[\"$\",\"blockquote\",\"blockquote-0\",{\"children\":[\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"Have you ever played bala...precipice???\"}],\"\\n\",[\"$\",\"p\",\"p-1\",{\"children\":[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"nc precipice.challs.m0lecon.it 14615\"}]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",\"p-0\",{\"children\":\"We're given a lengthy Python interface that looks like this:\"}],\"\\n\",[\"$\",\"$Le\",\"pre-0\",{\"className\":\"my-2\",\"children\":\"$f\",\"language\":\"py\"}],\"\\n\",\"$L10\",\"\\n\",\"$L11\",\"\\n\",\"$L12\",\"\\n\",\"$L13\",\"\\n\",\"$L14\",\"\\n\",\"$L15\",\"\\n\",\"$L16\",\"\\n\",\"$L17\",\"\\n\",\"$L18\",\"\\n\",\"$L19\",\"\\n\",\"$L1a\",\"\\n\",\"$L1b\",\"\\n\",\"$L1c\",\"\\n\",\"$L1d\",\"\\n\",\"$L1e\",\"\\n\",\"$L1f\",\"\\n\",\"$L20\",\"\\n\",\"$L21\",\"\\n\",\"$L22\",\"\\n\",\"$L23\",\"\\n\",\"$L24\",\"\\n\",\"$L25\",\"\\n\",\"$L26\",\"\\n\",\"$L27\",\"\\n\",\"$L28\",\"\\n\",\"$L29\",\"\\n\",\"$L2a\",\"\\n\",\"$L2b\",\"\\n\",\"$L2c\",\"\\n\",\"$L2d\",\"\\n\",\"$L2e\",\"\\n\",\"$L2f\",\"\\n\",\"$L30\",\"\\n\",\"$L31\",\"\\n\",\"$L32\",\"\\n\",\"$L33\",\"\\n\",\"$L34\",\"\\n\",\"$L35\",\"\\n\",\"$L36\",\"\\n\",\"$L37\"]}]}]\n"])</script><script>self.__next_f.push([1,"10:[\"$\",\"p\",\"p-1\",{\"children\":\"Reading through the source code, it looks like the server implements a game similar to Balatro, and the goal is to beat the last ante for the flag:\"}]\n38:T5d1,"])</script><script>self.__next_f.push([1,"   @renders\n    def round_ended(self):\n        assert not self.game_over\n        assert self.round_over\n        assert self.hand is not None\n        if self.current_ante == len(self.antes) - 1:\n            import os\n\n            # import sys\n            self.header += [\n                CardClass.joker_art,\n                choice([\n                    \"You Aced it!\",\n                    \"You dealt with that pretty well!\",\n                    \"Looks like you weren't bluffing!\",\n                    \"Too bad these chips are all virtual...\",\n                    \"How the turn tables.\",\n                    \"Looks like I've taught you well!\",\n                    \"You made some heads up plays!\",\n                    \"Good thing I didn't bet against you!\",\n                ]),\n            ]\n            self.message.append(\"GG\")\n            with open(\"/flag\", \"r\") as f:\n                flag = f.read()\n            self.message.append(flag)\n            import sys\n            print(\"FLAGGED\", file=sys.stderr)\n            print(\"ante:\", self.current_ante, file=sys.stderr)\n            print(\"score:\", self.score, file=sys.stderr)\n            print(\"deck_len:\", len(self.game_deck), file=sys.stderr)\n            list(map(lambda j: print(j.name, j.description, j.currently(self), file=sys.stderr), self.jokers))\n            self.game_over = True\n            return\n        self.game_deck += self.hand\n        self.game_deck += self.discard_pile\n        self.discard_pile.clear()\n        # ..."])</script><script>self.__next_f.push([1,"11:[\"$\",\"$Le\",\"pre-1\",{\"className\":\"my-2\",\"children\":\"$38\",\"language\":\"py\"}]\n12:[\"$\",\"$Le\",\"pre-2\",{\"className\":\"my-2\",\"children\":\"antes = [\\n    0,\\n    100,\\n    300,\\n    800,\\n    2000,\\n    5000,\\n    11000,\\n    20000,\\n    35000,\\n    50000,\\n    110000,\\n    1560000,\\n    17200000,\\n    1300000000,\\n    147000000000,\\n    12.9e13,\\n    17.7e16,\\n    18.6e20,\\n    14.2e25,\\n    19.2e30,\\n    19.2e36,\\n    24.3e43,\\n    29.7e50,\\n    21.0e59,\\n    25.8e67,\\n    21.6e77,\\n    22.4e87,\\n    21.9e98,\\n    28.4e109,\\n    22.0e122,\\n    22.7e135,\\n    32.1e149,\\n    39.9e163,\\n    32.7e179,\\n    34.4e195,\\n    34.4e212,\\n    32.8e230,\\n    31.1e249,\\n    32.7e268,\\n    34.5e288,\\n    34.8e309,\\n]\",\"language\":\"py\"}]\n13:[\"$\",\"p\",\"p-2\",{\"children\":[\"But how do we score \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"34.8e309\"}],\"? In regular Balatro, scoring close to \",[\"$\",\"code\",\"code-1\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"inf\"}],\" is only possible by stacking retriggers and xMult via for e.g. Perkeo + Observatory, Baron + Mime + steel cards + red seals, etc. Looking in \",[\"$\",\"code\",\"code-2\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"cards.py\"}],\", however, it's clear that many of these strategies are simply not implemented in this limited recreation of Balatro:\"]}]\n39:Tcbd,"])</script><script>self.__next_f.push([1,"from enum import Enum\nfrom itertools import chain\n\ncards_mode = \"txt\"\ncards_mode = \"utf\"\n\n\nclass CardEnhancement(Enum):\n    NONE = 0\n    GOLD = 1\n    STONE = 2\n    STEEL = 3\n\n\n# ANSI escape codes for colors\nCOLORS = {\n    \"reset\": \"\\033[0m\",\n    \"black\": \"\\033[90m\",\n    \"red\": \"\\033[91m\",\n    \"green\": \"\\033[92m\",\n    \"yellow\": \"\\033[93m\",\n    \"blue\": \"\\033[94m\",\n    \"purple\": \"\\033[95m\",\n    \"white_background\": \"\\033[107m\",\n}\n\nSUIT_COLORS = {\n    None: COLORS[\"reset\"],\n    0: COLORS[\"red\"],\n    1: COLORS[\"purple\"],\n    2: COLORS[\"blue\"],\n    3: COLORS[\"black\"],\n}\n\n\nclass Card:\n    suits = None\n    figures = None\n    ranks = None\n    ranks_sorting_map = {r: i for i, r in enumerate(\n        chain(range(2, 13+1), range(1, 1+1)),\n        start=2\n    )} | {None: 0}\n    is_joker = False\n\n    @classmethod\n    def clean_art(cls, art):\n        # Remove all ANSI color codes for rank/suit extraction\n        for color in COLORS.values():\n            art = art.replace(color, \"\")\n        return art\n\n    @classmethod\n    def color_art(cls, art, suit=None, rank=None, enhancement=CardEnhancement.NONE):\n        if enhancement == CardEnhancement.GOLD:\n            return f\"{COLORS['yellow']}{art}{COLORS['reset']}\"\n        elif enhancement == CardEnhancement.STONE:\n            return f\"{COLORS['white_background']}{COLORS['black']}{art}🪨{COLORS['reset']}\"\n        assert enhancement == CardEnhancement.NONE\n        return f\"{SUIT_COLORS[suit]}{art}{COLORS['reset']}\"\n\n    @classmethod\n    def art_factory(cls, suit, rank, enhancement=CardEnhancement.NONE):\n        raise NotImplementedError()\n\n    @classmethod\n    def rank_from_art(cls, art):\n        raise NotImplementedError()\n\n    @classmethod\n    def suit_from_art(cls, art):\n        raise NotImplementedError()\n\n    def __init__(self, suit, rank, chips_bonus=0, mult_bonus=1, enhancement=CardEnhancement.NONE):\n        self.rank = rank\n        self.sorting_rank = self.ranks_sorting_map[self.rank]\n        self.suit = suit\n        self.chips_bonus = chips_bonus\n        self.mult_bonus = mult_bonus\n        self.enhancement = enhancement\n        self.art = self.art_factory(suit, rank, enhancement)\n\n    def __str__(self) -\u003e str:\n        return self.art\n\n    def __repr__(self) -\u003e str:\n        return self.__str__()\n\n    def is_face_card(self):\n        return self.rank in [11, 12, 13]\n\n# ...\n\nif cards_mode == \"utf\":\n    CardClass = UTFCard\nelif cards_mode == \"txt\":\n    CardClass = TXTCard\nelse:\n    raise NotImplementedError(f\"rendering mode {cards_mode!r} not supported\")\n\ncards = [CardClass(s, r) for s in range(4) for r in range(1, 13+1)]\n\nassert len(CardClass.suits) == 4, [CardClass.suits, len(CardClass.suits)]\nassert len(CardClass.figures) == 3, [CardClass.figures, len(CardClass.figures)]\nassert len(CardClass.ranks) == 13, [CardClass.ranks, len(CardClass.ranks)]\nassert len(cards) == len(CardClass.ranks) * \\\n    len(CardClass.suits), [cards, len(cards)]\n\n\ndef sort_hand(hand, reverse=False, suit_first=False, ace_after_king=True):\n    if suit_first:\n        return sorted(hand, reverse=reverse, key=lambda c: (c.suit, c.sorting_rank if ace_after_king else c.rank))\n    else:\n        return sorted(hand, reverse=reverse, key=lambda c: (c.sorting_rank if ace_after_king else c.rank, c.suit))"])</script><script>self.__next_f.push([1,"14:[\"$\",\"$Le\",\"pre-3\",{\"className\":\"my-2\",\"children\":\"$39\",\"language\":\"py\"}]\n15:[\"$\",\"p\",\"p-3\",{\"children\":[\"Indeed, we only have two \\\"real\\\" card enhancements: \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"Gold\"}],\" and \",[\"$\",\"code\",\"code-1\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"Stone\"}],\" (steel cards are unimplemented, and if one somehow gets created the server simply crashes). Furthermore, tarot cards, spectral cards, planets, and seals are all missing.\"]}]\n16:[\"$\",\"p\",\"p-4\",{\"children\":[\"(As a side note, steel cards ended up being quite a bit of a red herring, as the server also defines a custom non-Balatro joker meant to create steel cards which \",[\"$\",\"em\",\"em-0\",{\"children\":\"also\"}],\" crashes the game if it was ever triggered; luckily, this joker was removed from the joker map and couldn't appear in a shop, unlike some other perpetrators...)\"]}]\n17:[\"$\",\"$Le\",\"pre-4\",{\"className\":\"my-2\",\"children\":\"from cards import CardEnhancement\\n\\nfrom .joker_base import JokerClass, JokerRarity\\n\\n\\nclass SteelMask(JokerClass):\\n    description = \\\"All face cards become Steel cards when played\\\"\\n    rarity = JokerRarity.UNCOMMON\\n    price = 7\\n\\n    def on_card_scoring(self, state, i, card, ignore_jokers=None):\\n        if state.is_face_card(card):\\n            raise NotImplementedError()  # TODO\",\"language\":\"py\"}]\n18:[\"$\",\"p\",\"p-5\",{\"children\":\"Note also that scoring is tied to your money (or more precisely, buying from the shop simply subtracts from your score), and score carries over between rounds. As opposed to normal Balatro, this allows us to pretty much buy anything we want from the shop, as hand scores are in the O(100) even on the first round, and rerolls cost a static $5 with jokers costing \u003c $10.\"}]\n19:[\"$\",\"$Le\",\"pre-5\",{\"className\":\"my-2\",\"children\":\"    @renders\\n    def buy_jokers(self):\\n        assert self.jokers_in_shop is not None\\n        assert self.jokers_selected_in_shop is not None\\n        if len(self.jokers_selected_in_shop) \u003e self.max_joker_slots - len(self.jokers):\\n            self.message.append(f\\\"You can't have more than {self.max_joker_slots} jokers.\\\")\\n            return\\n        price = 0\\n        for joker_class in self.jokers_selected_in_shop:\\n            price += joker_class.price\\n        if price \u003e self.score:\\n            self.message.append(f\\\"You don't have enough money to buy the selected jokers (${price!r}).\\\")\\n            return\\n        while len(self.jokers_selected_in_shop) \u003e 0:\\n            joker = self.jokers_selected_in_shop.pop(0)\\n            self.score -= joker.price\\n            self.jokers.append(joker)\\n            self.jokers_in_shop.remove(joker)\\n            for joker in self.jokers:\\n                joker.on_joker_buy(self, joker)\\n        self.check_game_over()\",\"language\":\"py\"}]\n1a:[\"$\",\"p\",\"p-6\",{\"children\":[\"But even so, how do we even score close to \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"e309\"}],\"? The key idea is this: jokers that provide retriggers are implemented in the game by re-calling the method on \",[\"$\",\"code\",\"code-1\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"state\"}],\" that runs a specific phase of scoring.\"]}]\n1b:[\"$\",\"$Le\",\"pre-6\",{\"className\":\"my-2\",\"children\":\"from .joker_base import JokerClass, JokerRarity\\n\\n\\nclass HangingChad(JokerClass):\\n    description = \\\"Retrigger first played card used in scoring 2 additional times\\\"\\n    rarity = JokerRarity.COMMON\\n    price = 4\\n\\n    def on_card_scoring(self, state, i, card, ignore_jokers=None):\\n        if i == 0:\\n            # Retrigger 2 additional times\\n            for _ in range(2):\\n                state.message.append(f\\\"{self.name}: retrigger card\\\")\\n                if ignore_jokers is None:\\n                    ignore_jokers = set()\\n          "])</script><script>self.__next_f.push([1,"      ignore_jokers.add(self)\\n                state.compute_card_score(i, card, ignore_jokers=ignore_jokers)\\n                ignore_jokers.discard(self)\",\"language\":\"py\"}]\n1c:[\"$\",\"p\",\"p-7\",{\"children\":[\"(here, the Hanging Chad calls \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"state.compute_card_score()\"}],\" again, which as a side effect re-triggers all jokers' \",[\"$\",\"code\",\"code-1\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"on_card_scoring()\"}],\" callbacks). To avoid infinitely looping with themselves, jokers like the Hanging Chad add themselves to an \",[\"$\",\"code\",\"code-2\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"ignore_jokers\"}],\" list, for which all jokers on the list are skipped in the rerun scoring phase.\"]}]\n1d:[\"$\",\"p\",\"p-8\",{\"children\":\"Enter the Blueprint:\"}]\n3a:Tc5f,"])</script><script>self.__next_f.push([1,"from copy import deepcopy\n\nfrom .joker_base import JokerClass, JokerRarity\n\n\nclass Blueprint(JokerClass):\n    description = \"Copies ability of Joker to the right\"\n    rarity = JokerRarity.RARE\n    price = 10\n\n    def currently(self, state):\n        if self.copied_joker is None:\n            return \"(none)\"\n        return f\"(currently: {self.copied_joker.name})\"\n\n    def __init__(self):\n        super().__init__()\n        self.copied_joker = None\n\n    def find_joker_to_copy(self, state):\n        self.copied_joker = None\n        found = False\n        for joker in state.jokers:\n            if found:\n                self.copied_joker = deepcopy(joker)\n                break\n            if joker is self:\n                found = True\n                continue\n\n    def on_joker_buy(self, state, joker):\n        self.find_joker_to_copy(state)\n        if self.copied_joker is not None:\n            self.copied_joker.on_joker_buy(state, joker)\n\n    def on_joker_sell(self, state, joker):\n        self.find_joker_to_copy(state)\n        if self.copied_joker is not None:\n            self.copied_joker.on_joker_sell(state, joker)\n\n    def on_card_scoring(self, state, i, card, ignore_jokers=None):\n        if self.copied_joker is not None:\n            self.copied_joker.on_card_scoring(\n                state, i, card, ignore_jokers=ignore_jokers)\n\n    def on_hand_scoring(self, state, ignore_jokers=None):\n        if self.copied_joker is not None:\n            self.copied_joker.on_hand_scoring(\n                state, ignore_jokers=ignore_jokers)\n\n    def on_in_hand_card_scoring(self, state, i, card, ignore_jokers=None):\n        if self.copied_joker is not None:\n            self.copied_joker.on_in_hand_card_scoring(\n                state, i, card, ignore_jokers=ignore_jokers)\n\n    def on_in_hand_scoring(self, state, ignore_jokers=None):\n        if self.copied_joker is not None:\n            self.copied_joker.on_in_hand_scoring(\n                state, ignore_jokers=ignore_jokers)\n\n    def on_round_start(self, state):\n        if self.copied_joker is not None:\n            self.copied_joker.on_round_start(state)\n\n    def on_round_end(self, state):\n        if self.copied_joker is not None:\n            self.copied_joker.on_round_end(state)\n\n    def on_discard(self, state):\n        if self.copied_joker is not None:\n            self.copied_joker.on_discard(state)\n\n    def on_play(self, state):\n        if self.copied_joker is not None:\n            self.copied_joker.on_play(state)\n\n    def on_hand_updated(self, state):\n        if self.copied_joker is not None:\n            self.copied_joker.on_hand_updated(state)\n\n    def on_card_added_to_deck(self, state, card):\n        if self.copied_joker is not None:\n            self.copied_joker.on_card_added_to_deck(state, card)\n\n    def on_card_removed_from_deck(self, state, card):\n        if self.copied_joker is not None:\n            self.copied_joker.on_card_removed_from_deck(state, card)\n\n    def overrides_is_face_card(self, state, card):\n        if self.copied_joker is not None:\n            return self.copied_joker.overrides_is_face_card(state, card)\n        return super().overrides_is_face_card(state, card)"])</script><script>self.__next_f.push([1,"1e:[\"$\",\"$Le\",\"pre-7\",{\"className\":\"my-2\",\"children\":\"$3a\",\"language\":\"py\"}]\n1f:[\"$\",\"p\",\"p-9\",{\"children\":[\"Namely, Blueprint \\\"copies\\\" all the callbacks of \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"self.copied_joker\"}],\" by simply passing down all arguments to \",[\"$\",\"code\",\"code-1\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"self.copied_joker\"}],\"'s callbacks. But in the \",[\"$\",\"code\",\"code-2\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"ignore_joker\"}],\" case, if we e.g. have Blueprint copying Hanging Chad,\"]}]\n"])</script><script>self.__next_f.push([1,"20:[\"$\",\"ul\",\"ul-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":[\"On card score, we will call \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"blueprint.on_card_scoring()\"}]]}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Blueprint calls \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"blueprint.copied_joker.on_card_scoring()\"}],\" (where copied joker is Hanging Chad)\"]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"The copied callback adds \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"blueprint.copied_joker\"}],\" to the \",[\"$\",\"code\",\"code-1\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"ignore_jokers\"}],\" list and re-triggers \",[\"$\",\"code\",\"code-2\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"state.compute_card_score()\"}]]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":[\"Since \",[\"$\",\"em\",\"em-0\",{\"children\":\"Blueprint\"}],\" is not in the \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"ignore_jokers\"}],\" list, we call \",[\"$\",\"code\",\"code-1\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"blueprint.on_card_scoring()\"}]]}],\"\\n\",[\"$\",\"li\",\"li-4\",{\"children\":[\"Blueprint calls \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"blueprint.copied_joker.on_card_scoring()\"}]]}],\"\\n\",[\"$\",\"li\",\"li-5\",{\"children\":\"...\"}],\"\\n\"]}]\n"])</script><script>self.__next_f.push([1,"21:[\"$\",\"p\",\"p-10\",{\"children\":[\"for infinite recursion. As a remark, note that the joker order matters: any jokers to the left of the Blueprint will have their \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"on_card_scoring()\"}],\" callbacks execute before Blueprint's, allowing them to actually happen before Blueprint triggers another recursion. Since there is no mechanism for reordering jokers, we need to be careful about the order we \",[\"$\",\"em\",\"em-0\",{\"children\":\"buy\"}],\" jokers in.\"]}]\n22:[\"$\",\"p\",\"p-11\",{\"children\":[\"So how do we leverage this for high scoring? In the Blueprint + Hanging Chad case, we can essentially infinitely trigger any joker's \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\".on_card_scoring()\"}],\" callback (until a stack overflow exception is thrown, which the game simply quietly catches and moves on to the next round):\"]}]\n23:[\"$\",\"$Le\",\"pre-8\",{\"className\":\"my-2\",\"children\":\"    def compute_score(self):\\n        self.hand_chips, self.hand_mult = 0, 1\\n        # print(\\\"initial scoring:    \\\", self.hand_chips, self.hand_mult)\\n        try:  # fail safe on unimplemented jokers\\n            self.compute_hand_score()\\n            # print(\\\"hand_value scoring: \\\", self.hand_chips, self.hand_mult)\\n            self.compute_cards_score()\\n            # print(\\\"cards_value scoring:\\\", self.hand_chips, self.hand_mult)\\n            self.compute_in_hand_cards_score()\\n            # print(\\\"in_hand_cards_value scoring:\\\", self.hand_chips, self.hand_mult)\\n        except Exception as e:\\n            print(repr(e), file=stderr)\",\"language\":\"py\"}]\n24:[\"$\",\"p\",\"p-12\",{\"children\":[\"For \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\".on_card_scoring()\"}],\", the best joker to retrigger is Photograph, giving us x2 mult per loop:\"]}]\n25:[\"$\",\"$Le\",\"pre-9\",{\"className\":\"my-2\",\"children\":\"from .joker_base import JokerClass, JokerRarity\\n\\n\\nclass Photograph(JokerClass):\\n    description = \\\"First played face card gives X2 Mult when scored\\\"\\n    rarity = JokerRarity.COMMON\\n    price = 5\\n\\n    def __init__(self):\\n        super().__init__()\\n        self.is_first_face = False\\n\\n    def on_hand_scoring(self, state, ignore_jokers=None):\\n        self.is_first_face = True\\n\\n    def on_card_scoring(self, state, i, card, ignore_jokers=None):\\n        if state.is_face_card(card):\\n            state.message.append(f\\\"{self.name}: X2 Mult for first face card\\\")\\n            state.hand_mult *= 2\\n            self.is_first_face = False\\n\\n    def on_play(self, state):\\n        self.is_first_face = False\",\"language\":\"py\"}]\n26:[\"$\",\"p\",\"p-13\",{\"children\":[\"(since their Photograph implementation is bugged, and never checks \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"self.is_first_face\"}],\" for whether to apply the x2 mult on subsequent face card scorings).\"]}]\n27:[\"$\",\"p\",\"p-14\",{\"children\":[\"However, even with 3 Photographs (their shop deduplication is broken) + Blueprint + Hanging Chad, due to the maximum recursion depth of 1000 we can only get a score of ~\",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"e301\"}],\".\"]}]\n28:[\"$\",\"p\",\"p-15\",{\"children\":[\"Instead, we can pivot to another \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"ignore_jokers\"}],\" joker: Mime, which retriggers \",[\"$\",\"code\",\"code-1\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"state.compute_in_hand_cards_score()\"}],\".\"]}]\n29:[\"$\",\"$Le\",\"pre-10\",{\"className\":\"my-2\",\"children\":\"from .joker_base import JokerClass, JokerRarity\\n\\n\\nclass Mime(JokerClass):\\"])</script><script>self.__next_f.push([1,"n    description = \\\"Retrigger all card held in hand abilities\\\"\\n    rarity = JokerRarity.UNCOMMON\\n    price = 5\\n\\n    def on_in_hand_scoring(self, state, ignore_jokers=None):\\n        state.message.append(f\\\"{self.name}: retrigger hand cards\\\")\\n        if ignore_jokers is None:\\n            ignore_jokers = set()\\n        ignore_jokers.add(self)\\n        state.compute_in_hand_cards_score(ignore_jokers=ignore_jokers)\\n        ignore_jokers.discard(self)\",\"language\":\"py\"}]\n2a:[\"$\",\"p\",\"p-16\",{\"children\":[\"Notably, \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\".compute_in_hands_score()\"}],\" retriggers \",[\"$\",\"em\",\"em-0\",{\"children\":\"each card\"}],\" in the hand before recursing by triggering jokers, allowing us to get more than x2 mult per recursion:\"]}]\n2b:[\"$\",\"$Le\",\"pre-11\",{\"className\":\"my-2\",\"children\":\"    def compute_in_hand_cards_score(self, ignore_jokers=None):\\n        assert self.hand is not None\\n        assert self.selected is not None\\n        assert self.hand_chips is not None\\n        assert self.hand_mult is not None\\n        if ignore_jokers is None:\\n            ignore_jokers = set()\\n        for i, card in enumerate(self.hand):\\n            if card not in self.selected:\\n                self.compute_in_hand_card_score(\\n                    i, card, ignore_jokers=ignore_jokers)\\n        for joker in self.jokers:\\n            if joker not in ignore_jokers:\\n                joker.on_in_hand_scoring(self, ignore_jokers=ignore_jokers)\",\"language\":\"py\"}]\n2c:[\"$\",\"p\",\"p-17\",{\"children\":\"Thus, all we need to do is pair this with a Baron. We can see that with just 2 barons, we get up to ~x11 mult per loop with just 3 kings in hand:\"}]\n2d:[\"$\",\"$Le\",\"pre-12\",{\"className\":\"my-2\",\"children\":\"from .joker_base import JokerClass, JokerRarity\\n\\n\\nclass Baron(JokerClass):\\n    description = \\\"Each King held in hand gives X1.5 Mult\\\"\\n    rarity = JokerRarity.RARE\\n    price = 8\\n\\n    def on_in_hand_card_scoring(self, state, i, card, ignore_jokers=None):\\n        # King has rank 13\\n        if card.rank == 13:\\n            state.message.append(f\\\"{self.name}: X1.5 Mult for King\\\")\\n            state.hand_mult *= 1.5\",\"language\":\"py\"}]\n2e:[\"$\",\"$Le\",\"pre-13\",{\"className\":\"my-2\",\"children\":\"1.5^2     = 2.25       (K=1)\\n(1.5^2)^2 = 5.0625     (K=2)\\n(1.5^2)^3 = 11.390625  (K=3)\",\"language\":\"$undefined\"}]\n2f:[\"$\",\"p\",\"p-18\",{\"children\":\"So the plan of attack is as follows:\"}]\n30:[\"$\",\"ol\",\"ol-0\",{\"children\":[\"\\n\",[\"$\",\"li\",\"li-0\",{\"children\":\"Play the first round randomly. (if we play 5 cards at a time, we're almost guaranteed to have enough money by the end of round)\"}],\"\\n\",[\"$\",\"li\",\"li-1\",{\"children\":[\"Reroll until we get the following jokers, in order: \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"[Baron, Baron, Blueprint, Mime]\"}]]}],\"\\n\",[\"$\",\"li\",\"li-2\",{\"children\":[\"On the next round, discard for 3 kings and play any hand; the infinite recursion should trigger, giving you \",[\"$\",\"code\",\"code-0\",{\"className\":\"font-jetbrains opacity-75 bg-black/10 dark:bg-black/30 rounded px-1.5 py-1 text-[0.9em]\",\"children\":\"inf\"}],\" score.\"]}],\"\\n\",[\"$\",\"li\",\"li-3\",{\"children\":\"Play out the rest of the antes until you win and get the flag.\"}],\"\\n\"]}]\n31:[\"$\",\"p\",\"p-19\",{\"children\":\"and all thats left is scripting. For this challenge, though, even scripting is non-trivial and mildly annoying due to their game interface and PoW. Even funnier, due to other bugs in their implementation, the moment you try to select an Erosion in the shop the server immediately crashes; since you can't tell which jokers are which before attempting to select them, this is a completely random element that you just need to get lucky enough to avoid.\"}]\n32:[\"$\",\"p\",\"p-20\",{\"children\":\"After some lengthy trial and error, we can create a script like so:\"}]\n3b:Tb9f,"])</script><script>self.__next_f.push([1,"import subprocess\n\nimport pwn\n\n# queue = ['Photograph', 'Photograph', 'Photograph', 'Blueprint', 'Hanging Chad']\nqueue = ['Baron', 'Baron', 'Blueprint', 'Mime']\n\n\ndef skip_shop():\n    conn.recvuntil(b'\\n $')\n    money = conn.recvline()\n    print(f'shop: ${money.decode().strip()}')\n    conn.sendline(b'p')\n\n\ndef handle_shop():\n    conn.recvuntil(b'\\n $')\n    money = conn.recvline()\n    print(f'shop: ${money.decode().strip()}')\n\n    # Query both jokers, reroll until we get all the jokers we want\n    while True:\n        b = query_shop_joker('1')\n        query_shop_joker('2' if not b else '1')\n\n        if len(queue) == 0:\n            break\n        conn.sendline(b'r')\n\n        conn.recvuntil(b'\\n $')\n        money = int(conn.recvline())\n        print(f'reroll: ${money}')\n\n        if money \u003c 100:\n            break\n\n    conn.recvuntil(b'\\n\u003e')\n    conn.sendline(b'p')\n\n\ndef query_shop_joker(index: str):\n    if len(queue) == 0:\n        return False\n\n    conn.recvuntil(b'\\n\u003e')\n    conn.sendline(index.encode())\n    conn.recvuntil(f'{index}: '.encode())\n\n    line = conn.recvline().decode()\n    name = line.partition(':')[0]\n\n    print('-\u003e', name)\n\n    want = queue[0]\n\n    if want == name:\n        queue.pop(0)\n        conn.sendline(b'b')\n        print(f'purchased {name}')\n        return True\n    else:\n        # Deselect the joker\n        conn.sendline(index.encode())\n        return False\n\n\ndef play_game():\n    for _ in range(5):\n        conn.recvuntil(b'\\n\u003e')\n        conn.sendline(b'a 1 2 3 4 5')\n        conn.recvuntil(b'\\n\u003e')\n        conn.sendline(b'p')\n\n\ndef play_game_kings():\n    for _ in range(5):\n        hand = conn.recvuntil(b'\\n 1').decode().split('\\n')[-2]\n        kings = hand.count('🂮') + hand.count('🂾') + hand.count('🃎') + hand.count('🃞')\n        aces = hand.count('🂡') + hand.count('🂱') + hand.count('🃁') + hand.count('🃑')\n        conn.recvuntil(b'\\n\u003e')\n\n        print(hand, kings, aces)\n        if kings \u003e= 3:\n            break\n\n        # Find the indices to discard; we probably want to discard on the right first\n        # since we play cards from the left.\n        remove = list(range(1, 9))[-aces:] + list(range(1, 9))[:8 - kings - aces]\n        remove = remove[:5]\n\n        conn.sendline(f'a {\" \".join(map(str, remove))}'.encode())\n        conn.recvuntil(b'\\n\u003e')\n        conn.sendline(b'd')\n    else:\n        print('not able to discard :(')\n\n    for _ in range(5):\n        conn.sendline(b'a 1')\n        conn.recvuntil(b'\\n\u003e').decode()\n        conn.sendline(b'p')\n\n\nconn = pwn.remote('precipice.challs.m0lecon.it', 14615)\n\n# Do PoW :)\ncmd = conn.recvuntil(b'Result: ').decode().split('\\n')[3]\nres = subprocess.run(cmd, capture_output=True, shell=True).stdout.decode()\nconn.sendline(res.encode())\n\nskip_shop()\n\nwhile len(queue) \u003e 0:\n    play_game()\n    handle_shop()\n\nwhile True:\n    play_game_kings()\n\n    if conn.recvuntil(b'GG', timeout=0.5) != b'':\n        print(conn.recvall().decode())\n        break\n\n    skip_shop()"])</script><script>self.__next_f.push([1,"33:[\"$\",\"$Le\",\"pre-14\",{\"className\":\"my-2\",\"children\":\"$3b\",\"language\":\"py\"}]\n34:[\"$\",\"p\",\"p-21\",{\"children\":\"which we can run repeatedly (praying it never hits an Erosion)\"}]\n3c:T5c0,"])</script><script>self.__next_f.push([1,"reroll: $226\n-\u003e Riff Raff\n-\u003e Gros Michel\nreroll: $221\n-\u003e Gros Michel\n-\u003e Baron\nreroll: $216\n-\u003e Stone Joker\nTraceback (most recent call last):\n  File \"/mnt/c/Users/kevin/Downloads/ctf/balatro.py\", line 112, in \u003cmodule\u003e\n    handle_shop()\n  File \"/mnt/c/Users/kevin/Downloads/ctf/balatro.py\", line 23, in handle_shop\n    query_shop_joker('2' if not b else '1')\n  File \"/mnt/c/Users/kevin/Downloads/ctf/balatro.py\", line 46, in query_shop_joker\n    conn.recvuntil(f'{index}: '.encode())\n  File \"/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/tube.py\", line 381, in recvuntil\n    res = self.recv(timeout=self.timeout)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/tube.py\", line 146, in recv\n    return self._recv(numb, timeout) or b''\n           ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/tube.py\", line 216, in _recv\n    if not self.buffer and not self._fillbuffer(timeout):\n                               ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/tube.py\", line 195, in _fillbuffer\n    data = self.recv_raw(self.buffer.get_fill_size())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ky28059/.local/lib/python3.12/site-packages/pwnlib/tubes/sock.py\", line 56, in recv_raw\n    raise EOFError\nEOFError\n[*] Closed connection to precipice.challs.m0lecon.it port 14615"])</script><script>self.__next_f.push([1,"35:[\"$\",\"$Le\",\"pre-15\",{\"className\":\"my-2\",\"children\":\"$3c\",\"language\":\"bash\"}]\n36:[\"$\",\"p\",\"p-22\",{\"children\":\"until finally, we win:\"}]\n3d:T266e,"])</script><script>self.__next_f.push([1,"[+] Opening connection to precipice.challs.m0lecon.it on port 14615: Done\nshop: $0.0\nshop: $366\n-\u003e Brainstorm\n-\u003e Burnt Joker\nreroll: $366\n-\u003e Dusk\n-\u003e Hanging Chad\nreroll: $361\n-\u003e Cavendish\n-\u003e Blueprint\nreroll: $356\n-\u003e Flower Pot\n-\u003e Acrobat\nreroll: $351\n-\u003e Hiker\n-\u003e Midas Mask\nreroll: $346\n-\u003e Certificate\n-\u003e Ancient Joker\nreroll: $341\n-\u003e Banner\n-\u003e Sock And Buskin\nreroll: $336\n-\u003e Ramen\n-\u003e Brainstorm\nreroll: $331\n-\u003e Misprint\n-\u003e Banner\nreroll: $326\n-\u003e Scary Face\n-\u003e Sock And Buskin\nreroll: $321\n-\u003e Vampire\n-\u003e Joker\nreroll: $316\n-\u003e Abstract Joker\n-\u003e Midas Mask\nreroll: $311\n-\u003e Abstract Joker\n-\u003e Ramen\nreroll: $306\n-\u003e Mime\n-\u003e Smiley Face\nreroll: $301\n-\u003e Baron\npurchased Baron\n-\u003e Turtle Bean\nreroll: $288\n-\u003e Drunkard\n-\u003e Hologram\nreroll: $283\n-\u003e Baron\npurchased Baron\n-\u003e Burnt Joker\nreroll: $270\n-\u003e Certificate\n-\u003e Sock And Buskin\nreroll: $265\n-\u003e Brainstorm\n-\u003e Joker\nreroll: $260\n-\u003e Stone Joker\n-\u003e Joker Stencil\nreroll: $255\n-\u003e Hiker\n-\u003e Hiker\nreroll: $250\n-\u003e Joker Stencil\n-\u003e Hiker\nreroll: $245\n-\u003e Loyalty Card\n-\u003e Golden Ticket\nreroll: $240\n-\u003e Gros Michel\n-\u003e Certificate\nreroll: $235\n-\u003e Blueprint\npurchased Blueprint\n-\u003e Midas Mask\nreroll: $220\n-\u003e Drunkard\n-\u003e Gros Michel\nreroll: $215\n-\u003e Blue Joker\n-\u003e Ramen\nreroll: $210\n-\u003e Hologram\n-\u003e Dusk\nreroll: $205\n-\u003e Shoot The Moon\n-\u003e Gros Michel\nreroll: $200\n-\u003e Blue Joker\n-\u003e Abstract Joker\nreroll: $195\n-\u003e Raised Fist\n-\u003e Loyalty Card\nreroll: $190\n-\u003e Baron\n-\u003e Dusk\nreroll: $185\n-\u003e Sock And Buskin\n-\u003e Mime\npurchased Mime\n 🂢 🃈 🂹 🃋 🂾 🃁 🃑 🂡 1 3\n 🂴 🂵 🂷 🂧 🂹 🃋 🂽 🂾 1 0\n 🃄 🂤 🃗 🂩 🃋 🂽 🂾 🃞 2 0\n 🂳 🃕 🃖 🃇 🂻 🂽 🂾 🃞 2 0\n 🃂 🃔 🃉 🂪 🂽 🂾 🃞 🂱 2 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂹 🃉 🂩 🂻 🂽 🃞 🂱 1 1\n 🃅 🃗 🂫 🂽 🂭 🃞 🂱   1 1\n 🂳 🃄 🃇 🃙 🃊 🂭 🃞   1 0\n   🃔 🃕 🃊 🃚 🃋 🂭 🃞 1 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃕 🂨 🂹 🃉 🂻 🃋 🃝 0 0\n   🃖 🂻 🃋 🃛 🃝 🂾 🃁 1 1\n 🃔 🂶 🃇 🃈 🃝 🂾 🃁   1 1\n 🃂 🂥 🃗 🃘 🃝 🂾 🃁   1 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂢 🂣 🃄 🃕 🂶 🃙 🃑 0 1\n 🂴 🂶 🃆 🃇 🃙 🃛 🃑   0 1\n 🃓 🂵 🃙 🃋 🃛 🃝 🃞   1 0\n   🂧 🃛 🂫 🃝 🂭 🂾 🃞 2 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂴 🂷 🃈 🂪 🃝 🂾 🃑 1 1\n 🂵 🂺 🂫 🃝 🂾 🂮 🂱   2 1\n 🂢 🃘 🃍 🂭 🂾 🂮 🂱   2 1\n 🂤 🃖 🂧 🃙 🂻 🂾 🂮   2 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃇 🂨 🃊 🃝 🂭 🃎 🃞 2 0\n   🂦 🂸 🂻 🂭 🃎 🃞 🃑 2 1\n 🃂 🂥 🃆 🂧 🂹 🃎 🃞   2 0\n   🂶 🂷 🂹 🃚 🃎 🃞 🂡 2 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂣 🃕 🂥 🃆 🂦 🃚 🂮 1 0\n   🂧 🃚 🂪 🂻 🃞 🂮 🂡 2 1\n 🂷 🃈 🃘 🃛 🂽 🃞 🂮   2 0\n   🂽 🃍 🂭 🃎 🃞 🂮 🃑 3 1\nshop: $inf\n 🃏 🃏 0 0\n   🃂 🂢 🃃 🂵 🂥 🃈 🂩 0 0\n   🂥 🃈 🂩 🃚 🃝 🃞 🃑 1 1\n 🂴 🃔 🂦 🃗 🃘 🃝 🃞   1 0\n   🃆 🃘 🃋 🃛 🃝 🂭 🃞 1 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂢 🃅 🃆 🃈 🂹 🂩 🂽 0 0\n   🃄 🃔 🂦 🂹 🂩 🂽 🃍 0 0\n   🃇 🂩 🂪 🂽 🃍 🂾 🃑 1 1\n 🃒 🂥 🂧 🃊 🃍 🂾 🂮   2 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂳 🃄 🂨 🃊 🃚 🂪 🃎 1 0\n   🃇 🃗 🃚 🂪 🃛 🂫 🃎 1 0\n   🃔 🂧 🃈 🃛 🂫 🂽 🃎 1 0\n   🃕 🂥 🂫 🂽 🃍 🂭 🃎 1 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃗 🂸 🃉 🃝 🃎 🂮 🃁 2 1\n 🃔 🂦 🂫 🃎 🃞 🂮 🃁   3 1\nshop: $inf\n 🃏 🃏 0 0\n   🂦 🃇 🃉 🂻 🃋 🂱 🃑 0 2\n 🃒 🃃 🃋 🃛 🂽 🂾   🃑 1 1\n 🂲 🂳 🂷 🂨 🂺 🃛 🂽   0 0\n   🃔 🃗 🂧 🂺 🂪 🃛 🂽 0 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃇 🂸 🃚 🂪 🃍 🃞 🃁 1 1\n 🃅 🂧 🃊 🃛 🃍 🃞 🂱   1 1\n 🂲 🂣 🃍 🃝 🂭 🃞 🂱   1 1\n 🃒 🂥 🂶 🃖 🂭 🃞 🂱   1 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂥 🃆 🂷 🃇 🂪 🃛 🃑 0 1\n 🂴 🃖 🃘 🃙 🂪 🃛 🂽   0 0\n   🂧 🂺 🂪 🃛 🂽 🂱 🂡 0 2\n 🃃 🃄 🃕 🃋 🂽 🃞   🂡 1 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂣 🃄 🃔 🃆 🃇 🂧 🃝 0 0\n   🃇 🂧 🂸 🂨 🂺 🃋 🃝 0 0\n   🂵 🂦 🂺 🃋 🃝 🂾 🃞 2 0\n   🃙 🂽 🃍 🃝 🂾 🃞 🂮 3 0\nshop: $inf\n 🃏 🃏 0 0\n   🃗 🂸 🃈 🃉 🃋 🂭 🃎 1 0\n   🃓 🃕 🂨 🃋 🂭 🂾 🃎 2 0\n   🂶 🂹 🃍 🂭 🂾 🃎 🃁 2 1\n 🂳 🃅 🃚 🃝 🂾 🃎 🃁   2 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃒 🂣 🃅 🃕 🂦 🃉 🂱 0 1\n 🂴 🂶 🂦 🃉 🃊 🃍 🃝   0 0\n   🃇 🂸 🂺 🃊 🃍 🃝 🂡 0 1\n 🂢 🃖 🃋 🂽 🃍 🃝 🂮   1 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃓 🂵 🂷 🃈 🂻 🃋 🃎 1 0\n   🃆 🂨 🂻 🃋 🃛 🃝 🃎 1 0\n   🂺 🃚 🃛 🂽 🃝 🂭 🃎 1 0\n   🃔 🃗 🂫 🃝 🂭 🃎 🃁 1 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂳 🃔 🃕 🃗 🂹 🂮 🂡 1 1\n 🃓 🃅 🃖 🂷 🂹 🂮 🃑   1 1\n 🃆 🃇 🂧 🂹 🂫 🂮 🂱   1 1\n 🃉 🃚 🂻 🃛 🂫 🃎 🂮   2 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂦 🃇 🂧 🃘 🃝 🃞 🂡 1 1\n 🃓 🃕 🂸 🃈 🃝 🃎 🃞   2 0\n   🃉 🃋 🃝 🃎 🃞 🂱 🃑 2 2\n 🂲 🂢 🂹 🂪 🂭 🃞   🃑 1 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂨 🃉 🃊 🂪 🂾 🃞 🂱 2 1\n 🃄 🃔 🂤 🂧 🂸 🂾 🃞   2 0\n   🃕 🂷 🂸 🃛 🂭 🂾 🃞 2 0\n   🂢 🃃 🂣 🃙 🂭 🂾 🃞 2 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃒 🃓 🂴 🃇 🂩 🂪 🃝 0 0\n   🂷 🂩 🂪 🂻 🃝 🃎 🂱 1 1\n 🂥 🂨 🂫 🂽 🃝 🃎 🂱   1 1\n 🃖 🂧 🃍 🃝 🂾 🃎 🂱   2 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂣 🃔 🂤 🂶 🂸 🃋 🃎 1 0\n   🃅 🂸 🂩 🃋 🂫 🂾 🃎 2 0\n   🂢 🂹 🃊 🂫 🂾 🃎 🂮 3 0\nshop: $inf\n 🃏 🃏 0 0\n   🂢 🂤 🂶 🃆 🂷 🃚 🂭 0 0\n   🂷 🂸 🃘 🃚 🂭 🃑 🂡 0 2\n 🂵 🂦 🂧 🂽 🂭 🃁   🂡 0 2\n 🂣 🃉 🂽 🃍 🃝 🂭   🃁 0 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂣 🃄 🂵 🃆 🂸 🂪 🂭 0 0\n   🂳 🂤 🃅 🂸 🂪 🃛 🂭 0 0\n   🃇 🃗 🃈 🂪 🃛 🂭 🃎 1 0\n   🂶 🂧 🃋 🃛 🂭 🃎 🂡 1 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂴 🃅 🂸 🃘 🃙 🃚 🃛 0 0\n   🂧 🃙 🃚 🃛 🂽 🂾 🃞 2 0\n   🂹 🂽 🂾 🃎 🃞 🂮 🂱 4 1\nshop: $inf\n 🃏 🃏 0 0\n   🃔 🂵 🂻 🃛 🃝 🂾 🃁 1 1\n 🃒 🂢 🂶 🂧 🃋 🃝 🂾   1 0\n   🃉 🃙 🂺 🃋 🃝 🂭 🂾 1 0\n   🃄 🃖 🂦 🂨 🃝 🂭 🂾 1 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂴 🂵 🃅 🂸 🂩 🂪 🃋 0 0\n   🃓 🂣 🃈 🂩 🃊 🂪 🃋 0 0\n   🃕 🃆 🃊 🂪 🃋 🂭 🂾 1 0\n   🂶 🂷 🃙 🃋 🂭 🂾 🃎 2 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂢 🃔 🃕 🂧 🃈 🂩 🂫 0 0\n   🃈 🂩 🂫 🂽 🂾 🃞 🂮 3 0\nshop: $inf\n 🃏 🃏 0 0\n   🂴 🃅 🂥 🂦 🂷 🂨 🃍 0 0\n   🂷 🂨 🃉 🃙 🃍 🃝 🃎 1 0\n   🃍 🃝 🂭 🂾 🃎 🃑 🂡 2 2\n 🃔 🂵 🂶 🃖 🃎 🂮   🂡 2 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂤 🂥 🂶 🂷 🃇 🃉 🃁 0 1\n 🃇 🃗 🂸 🂹 🃉 🂩 🃚   0 0\n   🃔 🃅 🃖 🃉 🂩 🃚 🃎 1 0\n   🃈 🂩 🃚 🂪 🃋 🃝 🃎 1 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃅 🃆 🃖 🃈 🃋 🃍 🂮 1 0\n   🂤 🃗 🂧 🂪 🃋 🃍 🂮 1 0\n   🃘 🃙 🂻 🃋 🃍 🃞 🂮 2 0\n   🂷 🃇 🃍 🂭 🃎 🃞 🂮 3 0\nshop: $inf\n 🃏 🃏 0 0\n   🃔 🃕 🃗 🃈 🂹 🂫 🃝 0 0\n   🂹 🃊 🂻 🂫 🃍 🃝 🃎 1 0\n   🂢 🃓 🃖 🃇 🃍 🃝 🃎 1 0\n   🂸 🂽 🃍 🃝 🂭 🃎 🃞 2 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂴 🂷 🃘 🂽 🂭 🂾 🂱 1 1\n 🃅 🃇 🃗 🃉 🂭 🂾 🃞   2 0\n   🂵 🂥 🂩 🂪 🂭 🂾 🃞 2 0\n   🃕 🂨 🃛 🂭 🂾 🃞 🂡 2 1\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃔 🃙 🃚 🃍 🂾 🂮 🃁 2 1\n 🂧 🃘 🂹 🃊 🂾 🂮 🂱   2 1\n 🃕 🃆 🂽 🂾 🃎 🂮 🂱   3 1\nshop: $inf\n 🃏 🃏 0 0\n   🃖 🃘 🂪 🂻 🃛 🂫 🃎 1 0\n   🃆 🂸 🃈 🂩 🃛 🂫 🃎 1 0\n   🃓 🂺 🃛 🂫 🂾 🃎 🂮 3 0\nshop: $inf\n 🃏 🃏 0 0\n   🃄 🃔 🃘 🂪 🂻 🂫 🂮 1 0\n   🂣 🂷 🂻 🂫 🃝 🂮 🂱 1 1\n 🃓 🃖 🂸 🃊 🃝 🂮 🂱   1 1\n 🂲 🃗 🂨 🃙 🃝 🃞 🂮   2 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🂴 🃔 🂸 🃈 🃙 🂭 🃞 1 0\n   🂤 🂥 🃙 🂺 🂻 🂭 🃞 1 0\n   🂨 🃚 🂻 🃝 🂭 🃞 🂱 1 1\n 🂲 🃂 🃓 🃖 🂹 🂭 🃞   1 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃖 🃇 🃈 🂩 🂪 🂱 🃑 0 2\n 🃒 🃃 🂣 🂪 🂻 🂭   🃑 0 1\n 🂲 🂵 🂥 🃗 🂪 🂻 🂭   0 0\n   🂶 🃉 🂺 🃊 🂪 🂻 🂭 0 0\nnot able to discard :(\nshop: $inf\n 🃏 🃏 0 0\n   🃃 🂴 🂶 🃙 🃚 🂽 🂾 1 0\n   🃔 🃉 🃚 🃋 🂽 🂾 🂱 1 1\n 🃒 🃅 🂦 🃛 🂽 🃝 🂾   1 0\n   🂵 🂸 🂨 🂺 🂽 🃝 🂾 1 0\nnot able to discard :(\n[+] Receiving all data: Done (116B)\n[*] Closed connection to precipice.challs.m0lecon.it port 14615\n\n ptm{7urns_0u7_7h3r3_w@s_p@p3r0nis_m0n3y_p00l_@7_7h3_b0770m_0f_7h3_pr3cipic3}\n\\x1b[2J\n ~$inf\n $3.308591879916669e+233"])</script><script>self.__next_f.push([1,"37:[\"$\",\"$Le\",\"pre-16\",{\"className\":\"my-2\",\"children\":\"$3d\",\"language\":\"bash\"}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"title\",\"0\",{\"children\":\"m0leCon Teaser CTF 2025 — Precipice | kevin.fish\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Have you ever played bala...precipice???\"}],[\"$\",\"meta\",\"2\",{\"property\":\"og:title\",\"content\":\"m0leCon Teaser CTF 2025 — Precipice\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:description\",\"content\":\"Have you ever played bala...precipice???\"}],[\"$\",\"meta\",\"4\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"5\",{\"name\":\"twitter:title\",\"content\":\"m0leCon Teaser CTF 2025 — Precipice\"}],[\"$\",\"meta\",\"6\",{\"name\":\"twitter:description\",\"content\":\"Have you ever played bala...precipice???\"}]]\n8:null\n"])</script></body></html>